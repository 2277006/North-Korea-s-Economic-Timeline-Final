<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
<title>북한경제타임라인2</title>
<style title="Twine CSS">@keyframes appear{0%{opacity:0}to{opacity:1}}@keyframes fade-in-out{0%,to{opacity:0}50%{opacity:1}}@keyframes rumble{25%{top:-0.1em}75%{top:.1em}0%,to{top:0px}}@keyframes shudder{25%{left:.1em}75%{left:-0.1em}0%,to{left:0px}}@keyframes buoy{25%{top:.25em}75%{top:-0.25em}0%,to{top:0px}}@keyframes sway{25%{left:.25em}75%{left:-0.25em}0%,to{left:0px}}@keyframes pulse{0%{transform:scale(0, 0)}20%{transform:scale(1.2, 1.2)}40%{transform:scale(0.9, 0.9)}60%{transform:scale(1.05, 1.05)}80%{transform:scale(0.925, 0.925)}to{transform:scale(1, 1)}}@keyframes zoom-in{0%{transform:scale(0, 0)}to{transform:scale(1, 1)}}@keyframes shudder-in{0%,to{transform:translateX(0em)}5%,25%,45%{transform:translateX(-1em)}15%,35%,55%{transform:translateX(1em)}65%{transform:translateX(-0.6em)}75%{transform:translateX(0.6em)}85%{transform:translateX(-0.2em)}95%{transform:translateX(0.2em)}}@keyframes rumble-in{0%,to{transform:translateY(0em)}5%,25%,45%{transform:translateY(-1em)}15%,35%,55%{transform:translateY(1em)}65%{transform:translateY(-0.6em)}75%{transform:translateY(0.6em)}85%{transform:translateY(-0.2em)}95%{transform:translateY(0.2em)}}@keyframes fidget{0%,8.1%,82.1%,31.1%,38.1%,44.1%,40.1%,47.1%,74.1%,16.1%,27.1%,72.1%,24.1%,95.1%,6.1%,36.1%,20.1%,4.1%,91.1%,14.1%,87.1%,to{left:0px;top:0px}8%,82%,31%,38%,44%{left:-1px}40%,47%,74%,16%,27%{left:1px}72%,24%,95%,6%,36%{top:-1px}20%,4%,91%,14%,87%{top:1px}}@keyframes slide-right{0%{transform:translateX(-100vw)}}@keyframes slide-left{0%{transform:translateX(100vw)}}@keyframes slide-up{0%{transform:translateY(100vh)}}@keyframes slide-down{0%{transform:translateY(-100vh)}}@keyframes fade-right{0%{opacity:0;transform:translateX(-1em)}to{opacity:1}}@keyframes fade-left{0%{opacity:0;transform:translateX(1em)}to{opacity:1}}@keyframes fade-up{0%{opacity:0;transform:translateY(1em)}to{opacity:1}}@keyframes fade-down{0%{opacity:0;transform:translateY(-1em)}to{opacity:1}}@keyframes flicker{0%,29%,31%,63%,65%,77%,79%,86%,88%,91%,93%{opacity:0}30%{opacity:.2}64%{opacity:.4}78%{opacity:.6}87%{opacity:.8}92%,to{opacity:1}}@keyframes blur{0%{filter:blur(2rem);opacity:0}25%{opacity:1}to{filter:blur(0rem);opacity:1}}.dom-debug-mode tw-story,.dom-debug-mode tw-passage,.dom-debug-mode tw-sidebar,.dom-debug-mode tw-include,.dom-debug-mode tw-hook,.dom-debug-mode tw-expression,.dom-debug-mode tw-link,.dom-debug-mode tw-dialog,.dom-debug-mode tw-columns,.dom-debug-mode tw-column,.dom-debug-mode tw-align{outline:1px solid #f5a3da;min-height:32px;display:block !important}.dom-debug-mode tw-story::before,.dom-debug-mode tw-passage::before,.dom-debug-mode tw-sidebar::before,.dom-debug-mode tw-include::before,.dom-debug-mode tw-hook::before,.dom-debug-mode tw-expression::before,.dom-debug-mode tw-link::before,.dom-debug-mode tw-dialog::before,.dom-debug-mode tw-columns::before,.dom-debug-mode tw-column::before,.dom-debug-mode tw-align::before{position:absolute;top:0;left:0;height:16px;background-color:#f5a3da;color:#000;font-size:16px;font-weight:normal;font-style:normal;font-family:monospace;display:inline-block;line-height:100%;white-space:pre;z-index:999997}.dom-debug-mode tw-story:hover,.dom-debug-mode tw-passage:hover,.dom-debug-mode tw-sidebar:hover,.dom-debug-mode tw-include:hover,.dom-debug-mode tw-hook:hover,.dom-debug-mode tw-expression:hover,.dom-debug-mode tw-link:hover,.dom-debug-mode tw-dialog:hover,.dom-debug-mode tw-columns:hover,.dom-debug-mode tw-column:hover,.dom-debug-mode tw-align:hover{outline:1px solid #fc9}.dom-debug-mode tw-story:hover::before,.dom-debug-mode tw-passage:hover::before,.dom-debug-mode tw-sidebar:hover::before,.dom-debug-mode tw-include:hover::before,.dom-debug-mode tw-hook:hover::before,.dom-debug-mode tw-expression:hover::before,.dom-debug-mode tw-link:hover::before,.dom-debug-mode tw-dialog:hover::before,.dom-debug-mode tw-columns:hover::before,.dom-debug-mode tw-column:hover::before,.dom-debug-mode tw-align:hover::before{background-color:#fc9;transition:background-color 1s}.dom-debug-mode tw-passage,.dom-debug-mode tw-include,.dom-debug-mode tw-hook,.dom-debug-mode tw-expression,.dom-debug-mode tw-link,.dom-debug-mode tw-dialog,.dom-debug-mode tw-columns,.dom-debug-mode tw-column,.dom-debug-mode tw-align{padding:1em;margin:0}.dom-debug-mode tw-story::before{content:'<tw-story tags="' attr(tags) '">'}.dom-debug-mode tw-passage::before{top:-16px;content:'<tw-passage tags="' attr(tags) '">'}.dom-debug-mode tw-sidebar::before{top:-16px;content:"<tw-sidebar>"}.dom-debug-mode tw-hook::before{content:'<tw-hook name="' attr(name) '">'}.dom-debug-mode tw-expression::before{content:'<tw-expression name="' attr(name) '">'}.dom-debug-mode tw-link::before{content:'<tw-link name="' attr(name) '">'}.dom-debug-mode tw-dialog::before{content:"<tw-dialog>"}.dom-debug-mode tw-columns::before{content:"<tw-columns>"}.dom-debug-mode tw-column::before{content:"<tw-column>"}.dom-debug-mode tw-align::before{content:"<tw-align>"}.dom-debug-mode tw-include::before{content:'<tw-include type="' attr(type) '" name="' attr(name) '">'}tw-open-button[goto]{display:none}.debug-mode tw-open-button[replay],.debug-mode tw-open-button[goto]{display:inline}.debug-mode tw-expression{display:inline-block !important}.debug-mode tw-expression[type=variable]::after{font-size:.8rem;padding-left:.2rem;padding-right:.2rem;vertical-align:top;content:"$" attr(name)}.debug-mode tw-expression[type=tempVariable]::after{font-size:.8rem;padding-left:.2rem;padding-right:.2rem;vertical-align:top;content:"_" attr(name)}.debug-mode tw-expression[return=boolean]{background-color:rgba(179,179,179,.2)}.debug-mode tw-expression[return=array]{background-color:rgba(255,102,102,.2)}.debug-mode tw-expression[return=dataset]{background-color:rgba(255,128,0,.2)}.debug-mode tw-expression[return=number]{background-color:rgba(255,179,102,.2)}.debug-mode tw-expression[return=datamap]{background-color:rgba(255,255,102,.2)}.debug-mode tw-expression[return=changer]{background-color:rgba(179,255,102,.2)}.debug-mode tw-expression[return=lambda]{background-color:rgba(102,255,102,.2)}.debug-mode tw-expression[return=hookname]{background-color:rgba(102,255,204,.2)}.debug-mode tw-expression[return=string]{background-color:rgba(102,255,255,.2)}.debug-mode tw-expression[return=datatype]{background-color:rgba(102,153,255,.2)}.debug-mode tw-expression[return=gradient],.debug-mode tw-expression[return=colour]{background-color:rgba(204,102,255,.2)}.debug-mode tw-expression[return=instant],.debug-mode tw-expression[return=macro]{background-color:rgba(240,117,199,.2)}.debug-mode tw-expression[return=command]{background-color:rgba(153,153,255,.2)}.debug-mode tw-expression.false{background-color:rgba(255,0,0,.2) !important}.debug-mode tw-expression[type=macro]::before{content:"(" attr(name) ":)";padding:0 .5rem;font-size:1rem;vertical-align:middle;line-height:normal;background-color:inherit;border:1px solid rgba(255,255,255,.5)}.debug-mode tw-expression[title]:not([title=""]){cursor:help}.debug-mode tw-hook{background-color:rgba(0,85,255,.1) !important}.debug-mode tw-hook::before{font-size:.8rem;padding-left:.2rem;padding-right:.2rem;vertical-align:top;content:"["}.debug-mode tw-hook::after{font-size:.8rem;padding-left:.2rem;padding-right:.2rem;vertical-align:top;content:"]"}.debug-mode tw-hook[name]::after{font-size:.8rem;padding-left:.2rem;padding-right:.2rem;vertical-align:top;content:"]<" attr(name) "|"}.debug-mode tw-pseudo-hook{background-color:rgba(255,170,0,.1) !important}.debug-mode tw-collapsed::before{font-size:.8rem;padding-left:.2rem;padding-right:.2rem;vertical-align:top;content:"{"}.debug-mode tw-collapsed::after{font-size:.8rem;padding-left:.2rem;padding-right:.2rem;vertical-align:top;content:"}"}.debug-mode tw-verbatim::before,.debug-mode tw-verbatim::after{font-size:.8rem;padding-left:.2rem;padding-right:.2rem;vertical-align:top;content:"`"}.debug-mode tw-align[style*="text-align: center"]{background:linear-gradient(to right, hsla(14, 100%, 87%, 0) 0%, hsla(14, 100%, 87%, 0.25) 50%, hsla(14, 100%, 87%, 0) 100%)}.debug-mode tw-align[style*="text-align: left"]{background:linear-gradient(to right, hsla(14, 100%, 87%, 0.25) 0%, hsla(14, 100%, 87%, 0) 100%)}.debug-mode tw-align[style*="text-align: right"]{background:linear-gradient(to right, hsla(14, 100%, 87%, 0) 0%, hsla(14, 100%, 87%, 0.25) 100%)}.debug-mode tw-column{background-color:rgba(189,228,255,.2)}.debug-mode tw-enchantment{animation:enchantment .5s infinite;border:1px solid}.debug-mode tw-link::after,.debug-mode tw-broken-link::after{font-size:.8rem;padding-left:.2rem;padding-right:.2rem;vertical-align:top;content:attr(passage-name)}.debug-mode tw-include{background-color:rgba(204,128,51,.1)}.debug-mode tw-include::before{font-size:.8rem;padding-left:.2rem;padding-right:.2rem;vertical-align:top;content:attr(type) ' "' attr(name) '"'}.debug-dialogs tw-backdrop:not(.eval-replay):not(.harlowe-crash){pointer-events:none;opacity:.1}tw-eval-replay tw-eval-code,tw-eval-replay tw-eval-explanation{max-height:20vh;overflow:auto;margin:10px auto}tw-eval-replay tw-eval-code{display:block;font-family:monospace;padding-bottom:1ex;border-bottom:2px solid gray}tw-eval-replay tw-eval-explanation{display:block;text-align:center}tw-eval-replay tw-eval-explanation>code{white-space:pre-wrap}tw-eval-replay tw-eval-explanation>code.from-block{width:40%;display:inline-block;text-align:left;max-height:4em;overflow-wrap:anywhere;overflow-y:scroll}tw-eval-replay tw-eval-explanation>code.from-block~.to-desc{width:calc(40% - 2em);margin-left:2em;display:inline-block}tw-eval-replay tw-eval-explanation>code.from-block+span::after{content:"..."}tw-eval-replay tw-eval-explanation>code.from-inline{text-align:right}tw-eval-replay tw-eval-explanation>:nth-child(2){white-space:pre}tw-eval-replay tw-eval-explanation>.to-desc{text-align:left}tw-eval-replay tw-eval-explanation>table{width:100%;margin-top:1em}tw-eval-replay tw-eval-explanation>table td{white-space:pre-wrap !important;word-wrap:anywhere}tw-eval-replay tw-eval-reason{text-align:center;font-size:80%;font-style:italic;display:block}tw-eval-replay tw-eval-it{text-align:center;font-size:80%;display:block}tw-eval-replay tw-dialog-links{display:-ms-flexbox;display:flex;-ms-flex-pack:distribute;justify-content:space-around}@keyframes enchantment{0%,to{border-color:#ffb366}50%{border-color:#6fc}}tw-debugger{position:fixed;box-sizing:border-box;bottom:0;right:0;z-index:999999;min-width:14em;min-height:1em;padding:0em .5em .5em 1em;font-size:1.25em;font-family:sans-serif;color:#262626;background-color:#fff;border-left:solid #262626 2px;border-top:solid #262626 2px;border-top-left-radius:.5em;opacity:1}tw-debugger.fade-panel:not(:hover){opacity:.33}tw-debugger.theme-dark{color:#d9d9d9;background-color:#000}tw-debugger.theme-dark{border-color:#d9d9d9 rgba(0,0,0,0) rgba(0,0,0,0) #d9d9d9}tw-debugger select{margin-right:1em;width:12em}tw-debugger button,tw-debugger tw-link{border-radius:3px;border:solid #999 1px;margin:auto 4px;color:#262626;background-color:#fff;cursor:pointer}tw-debugger button.enabled,tw-debugger tw-link.enabled{color:#000;background-color:#d9d9d9;box-shadow:inset #999 3px 5px .5em}tw-debugger.theme-dark button,tw-debugger.theme-dark tw-link{color:#d9d9d9;background-color:#000;border-color:#666}tw-debugger.theme-dark button.enabled,tw-debugger.theme-dark tw-link.enabled{color:#e6e6e6;background-color:#424242;box-shadow:inset #666 3px 5px .5em}tw-debugger button{font-size:1em;overflow-x:hidden;text-overflow:ellipsis;white-space:pre}tw-debugger tw-link{font-size:1.25em;border-radius:16px;border-style:solid;border-width:2px;text-align:center;padding:0px 8px;display:block}tw-debugger tw-link:hover{border-color:#262626;color:#262626}tw-debugger.theme-dark tw-link:hover{border-color:#d9d9d9;color:#d9d9d9}tw-debugger tw-dialog{background-color:#fff;color:#000;font-size:1.25em}tw-debugger.theme-dark tw-dialog{background-color:#000;color:#e6e6e6}tw-debugger .panel{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;position:absolute;bottom:100%;left:-2px;right:0;padding:1em;overflow-y:scroll;overflow-x:hidden;border:inherit;box-sizing:content-box;background-color:#fff;border-bottom:solid #999 2px;border-top-left-radius:.5em;border-bottom-left-radius:.5em;font-size:.8em}tw-debugger .panel:empty,tw-debugger .panel[hidden]{display:none}tw-debugger.theme-dark .panel{background-color:#000;border-bottom-color:#666}tw-debugger .panel-source .panel-row-buttons{width:2rem}tw-debugger .panel-source .source-tags{width:20%;font-style:italic}tw-debugger .panel-row-source td{font-family:monospace;font-size:1rem;white-space:pre-wrap;overflow-wrap:anywhere;max-height:8rem;padding:1rem}tw-debugger .panel-rows{width:100%;overflow-x:scroll}tw-debugger .panel-rows>*{display:table-row}tw-debugger .panel-rows>div:nth-of-type(2n){background-color:#e6e6e6}tw-debugger .panel-tools .panel-rows>*,tw-debugger .panel-options .panel-rows>*{margin-top:.4rem;display:block}tw-debugger.theme-dark .panel-rows>div:nth-of-type(2n){background-color:#212121}tw-debugger .panel-row-buttons{text-align:right}tw-debugger .panel-variables .panel-rows:empty::before{content:"~ No variables ~";font-style:italic;color:#575757;text-align:center}tw-debugger .panel-enchantments .panel-rows:empty::before{content:"~ No enchantments ~";font-style:italic;color:#575757;text-align:center}tw-debugger .panel-errors .panel-rows:empty::before{content:"~ No errors... for now. ~";font-style:italic;color:#575757;text-align:center}tw-debugger .panel-errors .panel-rows:empty+.panel-errors-bottom{display:none}tw-debugger.theme-dark .panel-variables .panel-rows:empty::before,tw-debugger.theme-dark .panel-enchantments .panel-rows:empty::before,tw-debugger.theme-dark .panel-errors .panel-rows:empty::before{color:#a8a8a8}tw-debugger .panel-rows:empty+.panel-variables-bottom{display:none}tw-debugger th[data-col]{text-decoration:underline;cursor:pointer}tw-debugger th[data-col][data-order=asc]::after{content:"↓"}tw-debugger th[data-col][data-order=desc]::after{content:"↑"}tw-debugger .panel-storylets:not(.panel-exclusive) .storylet-exclusive,tw-debugger .panel-storylets:not(.panel-urgent) .storylet-urgent{display:none}tw-debugger .storylet-exclusive,tw-debugger .storylet-urgent,tw-debugger .storylet-open{text-align:center}tw-debugger .panel-variables-bottom{padding-top:5px}tw-debugger .enchantment-row{min-height:1.5em}tw-debugger .variable-path{opacity:.4}tw-debugger .temporary-variable-scope,tw-debugger .enchantment-local{font-family:sans-serif;font-weight:normal;opacity:.8;font-size:.75em}tw-debugger .temporary-variable-scope:not(:empty)::before,tw-debugger .enchantment-local:not(:empty)::before{content:" in "}tw-debugger .variable-name,tw-debugger .enchantment-name{font-family:monospace;font-weight:bold}tw-debugger .variable-type{color:#575757;font-weight:normal;text-overflow:ellipsis;overflow:hidden;max-width:10em}tw-debugger.theme-dark .variable-type{color:#a8a8a8}tw-debugger .error-row{display:table-row;background-color:rgba(230,101,204,.3)}tw-debugger .error-row:nth-of-type(2n){background-color:rgba(237,145,219,.3)}tw-debugger .error-row>*{display:table-cell;padding:.25em .5em}tw-debugger .error-row .error-message[title]:not([title=""]){cursor:help}tw-debugger .error-row .error-passage{color:#575757}tw-debugger.theme-dark .error-row .error-passage{color:#a8a8a8}tw-debugger .storylet-row{background-color:rgba(193,240,225,.3)}tw-debugger .storylet-row:nth-child(2n){background-color:rgba(152,231,204,.3)}tw-debugger .storylet-row.storylet-closed{font-style:italic;background-color:#fff}tw-debugger .storylet-row.storylet-closed:nth-child(2n){background-color:#e6e6e6}tw-debugger .storylet-row.storylet-closed>:not(.storylet-lambda){opacity:.6}.storylet-error tw-debugger .storylet-row{background-color:rgba(230,101,204,.3)}.storylet-error tw-debugger .storylet-row:nth-child(2n){background-color:rgba(237,145,219,.3)}tw-debugger .storylet-row .storylet-name,tw-debugger .storylet-row .storylet-value{display:inline-block;width:50%}tw-debugger .storylet-row .storylet-lambda{font-family:monospace;font-size:1rem;white-space:pre-wrap;overflow-wrap:anywhere}tw-debugger.theme-dark .storylet-row.storylet-closed{background-color:#000}tw-debugger.theme-dark .storylet-row.storylet-closed:nth-child(2n){background-color:#212121}tw-debugger .tabs{padding-bottom:.5em}tw-debugger .tab{border-radius:0px 0px .5em .5em;border-top:none;top:-2px}tw-debugger .resizer-h{position:absolute;height:14em;border-left:2px solid #999;border-right:2px solid #999;top:10px;left:4px;width:8px;cursor:ew-resize}tw-debugger.theme-dark .resizer-h{border-color:rgba(0,0,0,0) #666}tw-debugger .resizer-v{position:absolute;height:8px;border-top:2px solid #999;border-bottom:2px solid #999;margin-bottom:4px;top:4px;left:10px;width:95%;cursor:ns-resize;box-sizing:border-box}tw-debugger.theme-dark .resizer-v{border-color:#666 rgba(0,0,0,0)}tw-debugger mark{color:inherit;background-color:rgba(101,230,230,.3) !important}tw-dialog{z-index:999997;border:#fff solid 2px;padding:2em;color:#fff;background-color:#000;display:block}@media(min-width: 576px){tw-dialog{max-width:50vw}}tw-dialog input[type=text]{font-size:inherit;width:100%;border:solid #fff !important}tw-dialog-links{text-align:right;display:-ms-flexbox;display:flex;-ms-flex-pack:end;justify-content:flex-end}tw-backdrop{z-index:999996;position:fixed;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.8);display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}tw-backdrop~tw-backdrop{display:none}tw-link,.enchantment-link{cursor:pointer;color:#4169e1;font-weight:bold;text-decoration:none;transition:color .2s ease-in-out}tw-passage [style^=color] tw-link:not(:hover),tw-passage [style*=" color"] tw-link:not(:hover),tw-passage [style^=color][hover=true] tw-link:hover,tw-passage [style*=" color"][hover=true] tw-link:hover,tw-passage [style^=color] .enchantment-link:not(:hover),tw-passage [style*=" color"] .enchantment-link:not(:hover),tw-passage [style^=color][hover=true] .enchantment-link:hover,tw-passage [style*=" color"][hover=true] .enchantment-link:hover{color:inherit}tw-link:hover,.enchantment-link:hover{color:#00bfff}tw-link:active,.enchantment-link:active{color:#dd4b39}.visited{color:#6941e1}tw-passage [style^=color] .visited:not(:hover),tw-passage [style*=" color"] .visited:not(:hover),tw-passage [style^=color][hover=true] .visited:hover,tw-passage [style*=" color"][hover=true] .visited:hover{color:inherit}.visited:hover{color:#e3e}tw-broken-link{color:#933;border-bottom:2px solid #933;cursor:not-allowed}tw-passage [style^=color] tw-broken-link:not(:hover),tw-passage [style*=" color"] tw-broken-link:not(:hover),tw-passage [style^=color][hover=true] tw-broken-link:hover,tw-passage [style*=" color"][hover=true] tw-broken-link:hover{color:inherit}tw-link.enchantment-mouseover,.link.enchantment-mouseover,tw-expression.enchantment-mouseover>tw-link{color:inherit;font-weight:inherit;transition:none;cursor:inherit;border-bottom:2px dashed #999}tw-link.enchantment-mouseover:hover,tw-link.enchantment-mouseover:active,.link.enchantment-mouseover:hover,.link.enchantment-mouseover:active,tw-expression.enchantment-mouseover>tw-link:hover,tw-expression.enchantment-mouseover>tw-link:active{color:inherit}tw-link.enchantment-mouseover.enchantment-button,.link.enchantment-mouseover.enchantment-button,tw-expression.enchantment-mouseover>tw-link.enchantment-button{border-style:dashed}tw-link.enchantment-mouseout,.link.enchantment-mouseout,tw-expression.enchantment-mouseout>tw-link{color:inherit;font-weight:inherit;transition:none;cursor:inherit;border:rgba(64,149,191,.6) 1px solid;border-radius:.2em}tw-link.enchantment-mouseout:hover,tw-link.enchantment-mouseout:active,.link.enchantment-mouseout:hover,.link.enchantment-mouseout:active,tw-expression.enchantment-mouseout>tw-link:hover,tw-expression.enchantment-mouseout>tw-link:active{color:inherit}tw-link.enchantment-mouseout:hover,.link.enchantment-mouseout:hover,tw-expression.enchantment-mouseout>tw-link:hover{background-color:rgba(175,197,207,.75);border:rgba(0,0,0,0) 1px solid}tw-link.enchantment-dblclick,.link.enchantment-dblclick,tw-expression.enchantment-dblclick>tw-link{color:inherit;font-weight:inherit;transition:none;cursor:inherit;cursor:pointer;border:2px solid #999;border-radius:0}tw-link.enchantment-dblclick:hover,tw-link.enchantment-dblclick:active,.link.enchantment-dblclick:hover,.link.enchantment-dblclick:active,tw-expression.enchantment-dblclick>tw-link:hover,tw-expression.enchantment-dblclick>tw-link:active{color:inherit}tw-link.enchantment-dblclick:active,.link.enchantment-dblclick:active,tw-expression.enchantment-dblclick>tw-link:active{background-color:#999}tw-link.enchantment-button,.link.enchantment-button,.enchantment-button:not(.link) tw-link,.enchantment-button:not(.link) .link{border-radius:16px;border-style:solid;border-width:2px;text-align:center;padding:0px 8px;display:block}.enchantment-button{display:block}.enchantment-clickblock{cursor:pointer;width:100%;height:100%;display:block}.enchantment-clickblock>:not(tw-enchantment)::after{content:"";width:100%;height:100%;top:0;left:0;display:block;box-sizing:border-box;position:absolute;pointer-events:none;color:rgba(65,105,225,.5);transition:color .2s ease-in-out}.enchantment-clickblock>:not(tw-enchantment):hover::after{color:rgba(0,191,255,.5)}.enchantment-clickblock>:not(tw-enchantment):active::after{color:rgba(222,78,59,.5)}.enchantment-clickblock>:not(tw-enchantment)::after{box-shadow:inset 0 0 0 .5vmax}.enchantment-clickblock>tw-passage::after,.enchantment-clickblock>tw-sidebar::after{box-shadow:0 0 0 .5vmax}.enchantment-mouseoverblock>:not(tw-enchantment)::after{content:"";width:100%;height:100%;top:0;left:0;display:block;box-sizing:border-box;position:absolute;pointer-events:none;border:2px dashed #999}.enchantment-mouseoutblock>:not(tw-enchantment)::after{content:"";width:100%;height:100%;top:0;left:0;display:block;box-sizing:border-box;position:absolute;pointer-events:none;border:rgba(64,149,191,.6) 2px solid}.enchantment-mouseoutblock:hover>:not(tw-enchantment)::after{content:"";width:100%;height:100%;top:0;left:0;display:block;box-sizing:border-box;position:absolute;pointer-events:none;background-color:rgba(175,197,207,.75);border:rgba(0,0,0,0) 2px solid;border-radius:.2em}.enchantment-dblclickblock>:not(tw-enchantment)::after{content:"";width:100%;height:100%;top:0;left:0;display:block;box-sizing:border-box;position:absolute;pointer-events:none;cursor:pointer;border:2px solid #999}tw-dialog-links{padding-top:1.5em}tw-dialog-links tw-link{border-radius:16px;border-style:solid;border-width:2px;text-align:center;padding:0px 8px;display:block;display:inline-block}html{margin:0;height:100%;overflow-x:hidden}*,:before,:after{position:relative;box-sizing:inherit}body{margin:0;height:100%}tw-storydata{display:none}tw-story{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;font:100% Georgia,serif;box-sizing:border-box;width:100%;min-height:100%;font-size:1.5em;line-height:1.5em;padding:5% 5%;overflow:hidden;background-color:#000;color:#fff}tw-story [style*=content-box] *{box-sizing:border-box}@media(min-width: 576px){tw-story{padding:5% 20%}}tw-story tw-consecutive-br{display:block;height:1.6ex;visibility:hidden}tw-story select{background-color:rgba(0,0,0,0);font:inherit;border-style:solid;padding:2px}tw-story select:not([disabled]){color:inherit}tw-story textarea{resize:none;background-color:rgba(0,0,0,0);font:inherit;color:inherit;border-style:none;padding:2px}tw-story input[type=text]{background-color:rgba(0,0,0,0);font:inherit;color:inherit;border-style:none}tw-story input[type=checkbox]{transform:scale(1.5);margin:0 .5em .5em .5em;vertical-align:middle}tw-story tw-noscript{animation:appear .8s}tw-passage{display:block}tw-sidebar{text-align:center;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}@media(min-width: 576px){tw-sidebar{left:-5em;width:3em;position:absolute;-ms-flex-direction:column;flex-direction:column}tw-enchantment[style*=width]>tw-sidebar{width:inherit}}tw-icon{display:inline-block;margin:.5em 0;font-size:66px;font-family:"Verdana",sans-serif}tw-icon[alt]{opacity:.2;cursor:pointer}tw-icon[alt]:hover{opacity:.4}tw-icon[data-label]::after{font-weight:bold;content:attr(data-label);font-size:20px;bottom:-20px;left:-50%;white-space:nowrap}tw-meter{display:block}tw-hook:empty,tw-expression:empty{display:none}tw-error{display:inline-block;border-radius:.2em;padding:.2em;font-size:1rem;cursor:help;white-space:pre-wrap}tw-error.error{background-color:rgba(223,58,190,.6);color:#fff}tw-error.warning{background-color:rgba(223,140,58,.6);color:#fff;display:none}.debug-mode tw-error.warning{display:inline}tw-error-explanation{display:block;font-size:.8rem;line-height:1rem}tw-open-button,tw-folddown{cursor:pointer;line-height:0em;border-radius:4px;border:1px solid rgba(255,255,255,.5);font-size:.8rem;margin:0 .2rem;padding:3px;white-space:pre}tw-folddown::after{content:"▶"}tw-folddown.open::after{content:"▼"}tw-open-button[replay]{display:none}tw-error tw-open-button,tw-eval-replay tw-open-button{display:inline !important}tw-open-button::after{content:attr(label)}tw-notifier{border-radius:.2em;padding:.2em;font-size:1rem;background-color:rgba(223,182,58,.4);display:none}.debug-mode tw-notifier{display:inline}tw-notifier::before{content:attr(message)}tw-colour{border:1px solid #000;display:inline-block;width:1em;height:1em}tw-enchantment:empty{display:none}h1{font-size:3em}h2{font-size:2.25em}h3{font-size:1.75em}h1,h2,h3,h4,h5,h6{line-height:1em;margin:.3em 0 .6em 0}pre{font-size:1rem;line-height:initial}small{font-size:70%}big{font-size:120%}mark{color:rgba(0,0,0,.6);background-color:#ff9}ins{color:rgba(0,0,0,.6);background-color:rgba(255,242,204,.5);border-radius:.5em;box-shadow:0em 0em .2em #ffe699;text-decoration:none}center{text-align:center;margin:0 auto;width:60%}blink{text-decoration:none;animation:fade-in-out 1s steps(1, end) infinite alternate}tw-align{display:block}tw-columns{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:justify;justify-content:space-between}.transition-in{animation:appear 0ms step-start}.transition-out{animation:appear 0ms step-end}[data-t8n^=dissolve].transition-in,[data-t8n=fade].transition-in{animation:appear .8s}[data-t8n^=dissolve].transition-out,[data-t8n=fade].transition-out{animation:appear .8s reverse}[data-t8n^=shudder].transition-in{display:inline-block !important;animation:shudder-in .8s}[data-t8n^=shudder].transition-out{display:inline-block !important;animation:shudder-in .8s reverse}[data-t8n^=rumble].transition-in{display:inline-block !important;animation:rumble-in .8s}[data-t8n^=rumble].transition-out{display:inline-block !important;animation:rumble-in .8s reverse}[data-t8n^=pulse].transition-in{animation:pulse .8s;display:inline-block !important}[data-t8n^=pulse].transition-out{animation:pulse .8s reverse;display:inline-block !important}[data-t8n^=zoom].transition-in{animation:zoom-in .8s;display:inline-block !important}[data-t8n^=zoom].transition-out{animation:zoom-in .8s reverse;display:inline-block !important}[data-t8n^=blur].transition-in{animation:blur .8s;display:inline-block !important}[data-t8n^=blur].transition-out{animation:blur .8s reverse;display:inline-block !important}[data-t8n^=slideleft].transition-in{animation:slide-left .8s;display:inline-block !important}[data-t8n^=slideleft].transition-out{animation:slide-right .8s reverse;display:inline-block !important}[data-t8n^=slideright].transition-in{animation:slide-right .8s;display:inline-block !important}[data-t8n^=slideright].transition-out{animation:slide-left .8s reverse;display:inline-block !important}[data-t8n^=slideup].transition-in{animation:slide-up .8s;display:inline-block !important}[data-t8n^=slideup].transition-out{animation:slide-down .8s reverse;display:inline-block !important}[data-t8n^=slidedown].transition-in{animation:slide-down .8s;display:inline-block !important}[data-t8n^=slidedown].transition-out{animation:slide-up .8s reverse;display:inline-block !important}[data-t8n^=fadeleft].transition-in{animation:fade-left .8s;display:inline-block !important}[data-t8n^=fadeleft].transition-out{animation:fade-right .8s reverse;display:inline-block !important}[data-t8n^=faderight].transition-in{animation:fade-right .8s;display:inline-block !important}[data-t8n^=faderight].transition-out{animation:fade-left .8s reverse;display:inline-block !important}[data-t8n^=fadeup].transition-in{animation:fade-up .8s;display:inline-block !important}[data-t8n^=fadeup].transition-out{animation:fade-down .8s reverse;display:inline-block !important}[data-t8n^=fadedown].transition-in{animation:fade-down .8s;display:inline-block !important}[data-t8n^=fadedown].transition-out{animation:fade-up .8s reverse;display:inline-block !important}[data-t8n^=flicker].transition-in{animation:flicker .8s}[data-t8n^=flicker].transition-out{animation:flicker .8s reverse}
</style>
</head>
<body>
<tw-story><noscript><tw-noscript>JavaScript needs to be enabled to play 북한경제타임라인2.</tw-noscript></noscript></tw-story>
<tw-storydata name="북한경제타임라인2" startnode="143" creator="Twine" creator-version="2.11.1" format="Harlowe" format-version="3.3.9" ifid="D2514B84-1043-403C-9E24-F7E3D7E07929" options="" tags="" zoom="1" hidden><style role="stylesheet" id="twine-user-stylesheet" type="text/twine-css">/* ===== 폰트 로드 ===== */
@import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700&family=Nunito:wght@300;400;600;700&display=swap');

html, body {
    margin: 0;
    padding: 0;
    overflow-x: hidden; /* 가로 스크롤 방지 */
}

/* ===== 공통 변수 ===== */
:root {
    --accent-green: #98b78b;
    --accent-brown: #b36a45;
    --text-main: #333333;

    --sidebar-width: 280px;
    --sidebar-collapsed-width: 80px;
}

body {
    background: #f9f6f2 !important;
    font-family: "Nunito", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
}

/* ★★★ 중요: 트와인 기본 레이아웃 초기화 ★★★ */
#story {
    margin: 0 !important;
    padding: 0 !important;
    background: transparent;
}

/* ===== 본문 영역 (움직이는 부분) ===== */
#passages {
    position: relative;
    max-width: 900px;
    
    /* 사이드바 기본 너비만큼 떨어뜨림 (열린 상태) */
    margin-left: var(--sidebar-width); 
    
    padding: 40px 50px 60px;
    box-sizing: border-box;

    background: rgba(255, 255, 255, 0.9);
    border-radius: 18px;
    box-shadow: 0 8px 24px rgba(0,0,0,0.15);

    color: var(--text-main);
    line-height: 1.7;
    font-size: 16px;

}

/* ★★★ 접혔을 때: 본문이 왼쪽으로 이동 (공간 차지) ★★★ */
body.sidebar-collapsed #passages {
    margin-left: var(--sidebar-collapsed-width);
}

/* ===== 헤딩/텍스트 스타일 (그대로 유지) ===== */
#passages h1 {
    font-family: "Playfair Display", serif;
    font-size: 46px;
    letter-spacing: 0.12em;
    text-transform: uppercase;
    color: var(--accent-brown);
    margin: 0 0 20px;
}

#passages h2 {
    font-family: "Playfair Display", serif;
    font-size: 30px;
    letter-spacing: 0.18em;
    text-transform: uppercase;
    color: var(--accent-green);
    margin: 0 0 14px;
}

#passages h3 {
    font-family: "Nunito", sans-serif;
    font-size: 18px;
    letter-spacing: 0.22em;
    text-transform: uppercase;
    color: #b87b58;
    margin: 0 0 20px;
}

#passages p {
    margin: 0 0 12px;
    font-size: 16px;
}

.page-separator {
    border: none;
    border-top: 1px solid #e3c4ac;
    margin: 40px 0;
}

.custom-list {
    margin: -20px 0 -20px;
    padding: 0;
    list-style: none;
}

.custom-list li {
    display: flex;
    align-items: center;
    margin: -10px 0;
}

.custom-list li::before {
    content: "";
    display: inline-block;
    width: 4px;
    height: 26px;
    margin-right: 10px;
    background: var(--accent-green);
}

.link-list {
    margin-top: 30px;
}

.link-list a {
    display: block;
    font-weight: 700;
    font-size: 16px;
    text-decoration: none;
    color: var(--accent-brown);
    margin-bottom: 4px;
}

/* ===== 사이드바 ===== */
#sidebar {
    position: fixed;
    top: 0;
    left: 0;
    width: var(--sidebar-width);
    height: 100%;
    background: #3b0a0a;
    color: #f4e7df;
    padding: 25px;
    box-sizing: border-box;
    overflow-y: auto;
    z-index: 1000;
    border-right: 2px solid #d9a89c33;
    
    /* transform으로 이동 */
    transition: transform 0s ease;
}

/* 접힌 상태: 왼쪽으로 숨기기 */
body.sidebar-collapsed #sidebar {
    /* 280px - 80px = 200px 만큼 왼쪽으로 이동 */
    transform: translateX(calc(var(--sidebar-collapsed-width) - var(--sidebar-width)));
}

#sidebar h2 {
    margin-top: 0;
    font-size: 1.6em;
    letter-spacing: 1px;
    border-bottom: 1px solid #d9a89c55;
    padding-bottom: 10px;
}

#sidebar p {
    margin: 12px 0;
    padding-left: 5px;
    border-left: 3px solid transparent;
    cursor: pointer;
}

#sidebar p:hover {
    border-left: 3px solid #d9a89c;
    color: #ffffff;
}

/* ===== 토글 버튼 ===== */
#sidebar-toggle {
    position: fixed;
    top: 50%;
    /* 열렸을 때 위치: 사이드바 너비(280px) 지점 */
    left: var(--sidebar-width);
    transform: translate(-50%, -50%);
    
    width: 40px;
    height: 40px;
    background: #f9f6f2;
    border-radius: 50%;
    border: 2px solid #d9a89c;
    box-shadow: 0 4px 12px rgba(0,0,0,0.25);
    
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    z-index: 1100;
    
    /* 버튼도 본문/사이드바와 똑같은 속도(0.35s)로 움직여야 딱 붙어서 감 */
    transition: left 0s ease, background 0s, transform 0s;
    
    color: #3b0a0a;
}

#sidebar-toggle::before {
    content: "❮";
    font-size: 20px;
    font-weight: bold;
}

/* 접혔을 때: 버튼 위치 이동 */
body.sidebar-collapsed #sidebar-toggle {
    left: var(--sidebar-collapsed-width);
}

body.sidebar-collapsed #sidebar-toggle::before {
    content: "❯";
}

#sidebar-toggle:hover {
    background: #fffdf9;
    border-color: #f0b8aa;
    transform: translate(-50%, -50%) scale(1.05);
}

/* 모바일 대응 */
@media (max-width: 900px) {
    #passages {
        padding: 30px 20px 40px;
        /* 모바일에서는 사이드바가 덮거나 레이아웃이 바뀔 수 있으므로 조정 필요 시 추가 */
    }
}







/* ====== 본문 컨테이너 슬라이드 처리 ====== */


/* 기본: Harlowe에서도 전체를 사이드바만큼 오른쪽으로 밀기 */
body tw-story {
    margin-left: calc(var(--sidebar-width) - 100px);
    transition: margin-left 0s ease;
}

/* === 사이드바가 접혔을 때: 본문을 왼쪽으로 당기기 === */
body.sidebar-collapsed #passages {
    margin-left: calc(var(--sidebar-collapsed-width) - 20px);
}

body.sidebar-collapsed tw-story {
    margin-left: var(--sidebar-collapsed-width);
}



/* ===== 캐릭터 링크 ===== */
.char-link {
    color: var(--accent-brown);
    font-weight: 700;
    cursor: pointer;
    border-bottom: 1px dashed rgba(0,0,0,0.2);
}

.char-link:hover {
    color: #8b3c25;
}







/* ===== 캐릭터 팝업 ===== */
/* ===== 팝업 전체 ===== */
#char-popup {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.55);
    display: none;
    align-items: center;
    justify-content: center;
    padding: 0px 0; /* 위아래 여백 크게 추가 */
    z-index: 2000;
}

#char-popup.open {
    display: flex;
}

/* ===== 팝업 박스 ===== */
#char-popup .popup-inner {
    background: #2b1614;
    width: 1020px; /* 가로 훨씬 넓게 */
    padding: 32px 40px;
    border-radius: 22px;
    box-shadow: 0 18px 45px rgba(0,0,0,0.55);
    border: 1px solid #d9a89c55;
    position: relative;
    color: #f4e7df;
    font-size: 16px;        /* 전체 글씨 조금 키움 */
    line-height: 1.65;
}

/* ========== 닫기 버튼 ========== */
/* ===== 팝업 박스 ===== */
/* ========== 닫기 버튼 (동그랗고 오른쪽 외곽에 배치) ========== */
#char-popup .popup-close {
    position: absolute;
    top: 16px;               /* 팝업 박스 위쪽으로 살짝 나오게 */
    right: 16px;             /* 팝업 박스 오른쪽으로 살짝 나오게 */

    width: 34px;
    height: 34px;

    background: #3b0a0a;      /* 사이드바와 같은 톤 (딥와인) */
    color: #f4e7df;           /* 로즈 베이지 텍스트 */
    border: 2px solid #d9a89c88;
    border-radius: 50%;

    font-size: 20px;
    font-weight: bold;
    line-height: 30px;
    text-align: center;

    cursor: pointer;
    box-shadow: 0 4px 12px rgba(0,0,0,0.35);

    transition: all 0.2s ease;
    z-index: 10;
}

#char-popup .popup-close:hover {
    background: #4a1e1b;
    color: #ffffff;
    transform: scale(1.12);
    border-color: #e2bda7;
}

/* ===== 헤더 레이아웃 (가로 배치) ===== */
#char-popup .popup-header {
    display: flex;
    gap: 24px;            /* 더 넓게 */
    margin-bottom: 20px;
    align-items: center;
}

/* ===== 초상 이미지 ===== */
.char-portrait-wrap {
    width: 180px;
    height: 220px;
    border-radius: 16px;
    overflow: hidden;
    background: #3b0a0a;
    border: 1px solid #d9a89c55;
    flex-shrink: 0;
}

.char-portrait {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

/* ===== 이름, 역할 ===== */
.char-head-text {
    flex: 1;
}

#char-popup .char-name {
    margin: 0 0 0px;
    font-family: "Playfair Display", serif;
    font-size: 28px;       /* 훨씬 크게 */
    letter-spacing: 0.10em;
    text-transform: uppercase;
  
  
  
  
    color: #f4d2b8;
}

/* ===== 메타 정보 (나이, 지역 등) ===== */
.char-meta {
    list-style: none;
    margin: 0;
    padding: 0;
    font-size: 15px;
}

.char-meta li {
    display: flex;
    justify-content: space-between;
    margin-bottom: 6px;
}

.char-head-text > * {
    margin: 0;
}


.meta-label {
    opacity: 5.7;
}

/* ===== 능력치 영역 ===== */
.char-stats {
    margin: 0px 0 0px;
    padding-top: 10px;
    border-top: 1px solid #d9a89c33;
}

.stat-row {
    display: flex;
    align-items: center;
    gap: 12px;
    margin-bottom: 10px;
}

.stat-label {
    width: 70px;
    font-size: 14px;
    opacity: 0.9;
}

.stat-bar {
    flex: 1;
    height: 10px;            /* 좀 더 두껍게 */
    border-radius: 999px;
    background: rgba(255,255,255,0.15);
    overflow: hidden;
}

.stat-fill {
    height: 100%;
    border-radius: 999px;
    background: var(--accent-green);
    width: 0%;
    transition: width 0.35s ease;
}

.stat-fill.stat-stress {
    background: #d76b5d;
}

/* ===== 설명 텍스트 ===== */
#char-popup .char-desc {
    margin-top: 8px;
    font-size: 15px;    /* 조금 더 큼 */
    color: #faefe6;
}

/* 사이드바 링크를 p처럼 보이게 */
#sidebar tw-link,
#sidebar tw-link a {
    color: inherit !important;          /* 파란색 제거 */
    text-decoration: none !important;   /* 밑줄 제거 */
    font-weight: normal !important;
}

/* 클릭 가능한 영역을 p처럼 */
#sidebar tw-link {
    display: block;
    margin: 12px 0;
    padding-left: 0px;
    border-left: 3px solid transparent;
    cursor: pointer;
}

/* hover 효과도 동일하게 */
#sidebar tw-link:hover {
    color: #ffffff !important;
}
</style><script role="script" id="twine-user-script" type="text/twine-javascript">(function () {
    $(document).on("click", ".char-link", function () {
        var $this = $(this);

        // [디버깅] F12 개발자 도구 콘솔에서 클릭 시 값이 잘 들어오는지 확인 가능
        console.log("클릭된 요소:", $this[0]); 

        // 1. 텍스트 데이터 읽기 (.attr로 직접 읽어서 오작동 방지)
        var name   = $this.attr("data-name")   || $this.text().trim(); // 이름이 없으면 링크 텍스트 사용
        var age    = $this.attr("data-age")    || "-";
        var region = $this.attr("data-region") || "알 수 없음";
        var trait  = $this.attr("data-trait")  || "특성 없음";
        var img    = $this.attr("data-img")    || "";

        // 2. 수치 데이터 읽기 (문자열을 숫자로 변환, 실패 시 0)
        var money   = parseInt($this.attr("data-money")   || "0", 10);
        var stamina = parseInt($this.attr("data-stamina") || "0", 10);
        var risk    = parseInt($this.attr("data-risk")    || "0", 10);
        var trust   = parseInt($this.attr("data-trust")   || "0", 10);

        console.log("데이터 확인:", { name, money, stamina, risk, trust });

        // 3. 팝업 텍스트 업데이트
        $("#char-popup .char-name").text(name);
        $("#char-popup .char-age").text(age + "세");
        $("#char-popup .char-region").text(region);
        $("#char-popup .char-trait").text(trait);

        // 4. 이미지 처리
        if (img && img !== "undefined") {
            $("#char-popup .char-portrait").attr("src", img).show();
        } else {
            $("#char-popup .char-portrait").hide();
        }

        // 5. 능력치 바 업데이트 (CSS 클래스 매칭 확인 필수)
        // Math.max/min을 써서 0~100% 범위를 벗어나지 않게 고정
        $("#char-popup .stat-money").css("width",   Math.max(0, Math.min(100, money))   + "%");
        $("#char-popup .stat-stamina").css("width", Math.max(0, Math.min(100, stamina)) + "%");
        $("#char-popup .stat-risk").css("width",    Math.max(0, Math.min(100, risk))    + "%");
        $("#char-popup .stat-trust").css("width",   Math.max(0, Math.min(100, trust))   + "%");

        // 팝업 열기
        $("#char-popup").addClass("open");
    });

    // 닫기 버튼 기능
    $(document).on("click", "#char-popup .popup-close, #char-popup", function (e) {
        if (e.target.id === "char-popup" || $(e.target).hasClass("popup-close")) {
            $("#char-popup").removeClass("open");
        }
    });
})();</script><tw-passagedata pid="1" name="1953년_1" tags="" position="600,350" size="100,100">(set: $money to 20)
(set: $stamina to 20)
(set: $risk to 20)
(set: $trust to 20)
&lt;h1&gt;1953년 여름, 휴전 직후&lt;/h1&gt;

&lt;h2&gt;전쟁에서 돌아와 . . .&lt;/h2&gt;
&lt;p&gt; 
&lt;p&gt;
(set: _jeongSpan to 
    &#39;&lt;span class=&quot;char-link&quot; &#39; +
    &#39;data-name=&quot;정온건&quot; &#39; +
    &#39;data-age=&quot;24&quot; &#39; +
    &#39;data-region=&quot;함경남도 함흥&quot; &#39; +
    &#39;data-trait=&quot;성실함&quot; &#39; +
    &#39;data-money=&quot;&#39; + (str: $money) + &#39;&quot; &#39; +
    &#39;data-stamina=&quot;&#39; + (str: $stamina) + &#39;&quot; &#39; +
    &#39;data-risk=&quot;&#39; + (str: $risk) + &#39;&quot; &#39; +
    &#39;data-trust=&quot;&#39; + (str: $trust) + &#39;&quot; &#39; +
    &#39;&gt;&#39; +
    &#39;정온건&#39; +
    &#39;&lt;/span&gt;&#39;
)

(print: _jeongSpan)은 군복을 벗고 고향으로 돌아온다.

역에서 내리자, 눈앞에 보이는 건 도시가 아니라 잿더미였다. 골조만 남은 건물, 불에 그을린 기둥, 무너진 다리. 집이 있던 자리는 평평한 먼지와 돌무더기로 바뀌어 있었다.

&lt;img src=&quot;https://search.pstatic.net/common/?src=http%3A%2F%2Fblogfiles.naver.net%2F20151015_181%2Fanhayo11hul_14448730396778If3a_PNG%2F%25BD%25BA%25C5%25A9%25B8%25B0%25BC%25A6_2015-09-03_%25BF%25C0%25C8%25C4_4.14.16.png&amp;type=sc960_832&quot; style=&quot;width: 60%; height: auto;&quot;&gt;

전쟁이 끝났다는 말은 들었지만,
이 풍경을 보면 ‘끝났다’는 말 대신 ‘다 무너졌다’는 말이 더 어울렸다.&lt;/p&gt;
&lt;hr class=&quot;page-separator&quot;&gt;
&lt;ul class=&quot;custom-list&quot;&gt;
&lt;li&gt;[[3개년 복구계획]]&lt;/li&gt;
&lt;/ul&gt;
&lt;div&gt;
[[다음-&gt;1953년_2]]
&lt;/div&gt;



&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;


&lt;!-- 캐릭터 팝업 박스 --&gt;
&lt;div id=&quot;char-popup&quot;&gt;
  &lt;div class=&quot;popup-inner&quot;&gt;
    &lt;button class=&quot;popup-close&quot;&gt;&amp;times;&lt;/button&gt;
    &lt;div class=&quot;popup-header&quot;&gt;
      &lt;div class=&quot;char-portrait-wrap&quot;&gt;&lt;img class=&quot;char-portrait&quot;&gt;&lt;/div&gt;
      &lt;div class=&quot;char-head-text&quot;&gt;
        &lt;h3 class=&quot;char-name&quot;&gt;&lt;/h3&gt;
        &lt;ul class=&quot;char-meta&quot;&gt;
          &lt;li&gt;&lt;span&gt;나이&lt;/span&gt; &lt;span class=&quot;char-age&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;지역&lt;/span&gt; &lt;span class=&quot;char-region&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;성향&lt;/span&gt; &lt;span class=&quot;char-trait&quot;&gt;&lt;/span&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;char-stats&quot;&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;돈&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-money&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;체력&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-stamina&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;리스크&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-risk&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;신뢰&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-trust&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
    &lt;p class=&quot;char-desc&quot;&gt;&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;

</tw-passagedata><tw-passagedata pid="2" name="1953년_2" tags="" position="600,475" size="100,100">
&lt;h1&gt;1953년 여름, 휴전 직후&lt;/h1&gt;

&lt;h2&gt;전쟁에서 돌아와 . . .&lt;/h2&gt;

&lt;p&gt;며칠 뒤, 마을에 당 간부와 관리들이 트럭을 타고 내려왔다.
사라진 집들 사이, 임시로 세운 회관에 사람들이 모였다. 벽에는 아직도 “최후 승리까지 싸우자”는 전쟁 구호가 희미하게 남아 있다.&lt;/p&gt;

&lt;p&gt;간부가 종이를 펼쳐 들고 읽기 시작했다.

&quot;8월 5일, 김일성 수상 동지께서 ‘모든 것을 전후 인민경제 복구와 발전을 위하여’라는 방침을 내리셨습니다.&quot;
“국가는 앞으로 3년 안에 전쟁 이전 수준을 회복하는 ‘전후 3개년 복구계획(1954–56)’을 수행합니다. 우선은 공장과 발전소, 철도와 교량을 다시 세우는 것이 목표입니다.”
&lt;/p&gt;
&lt;hr class=&quot;page-separator&quot;&gt;
&lt;ul class=&quot;custom-list&quot;&gt;
&lt;li&gt;[[3개년 복구계획]]&lt;/li&gt;
&lt;/ul&gt;
&lt;div&gt;
[[다음-&gt;1953년_3]]
&lt;/div&gt;



&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;


&lt;!-- 캐릭터 팝업 박스 --&gt;
&lt;div id=&quot;char-popup&quot;&gt;
  &lt;div class=&quot;popup-inner&quot;&gt;
    &lt;button class=&quot;popup-close&quot;&gt;&amp;times;&lt;/button&gt;
    &lt;div class=&quot;popup-header&quot;&gt;
      &lt;div class=&quot;char-portrait-wrap&quot;&gt;&lt;img class=&quot;char-portrait&quot;&gt;&lt;/div&gt;
      &lt;div class=&quot;char-head-text&quot;&gt;
        &lt;h3 class=&quot;char-name&quot;&gt;&lt;/h3&gt;
        &lt;ul class=&quot;char-meta&quot;&gt;
          &lt;li&gt;&lt;span&gt;나이&lt;/span&gt; &lt;span class=&quot;char-age&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;지역&lt;/span&gt; &lt;span class=&quot;char-region&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;성향&lt;/span&gt; &lt;span class=&quot;char-trait&quot;&gt;&lt;/span&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;char-stats&quot;&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;돈&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-money&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;체력&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-stamina&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;리스크&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-risk&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;신뢰&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-trust&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
    &lt;p class=&quot;char-desc&quot;&gt;&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="3" name="1953년_3" tags="" position="600,600" size="100,100">
&lt;h1&gt;1953년 여름, 휴전 직후&lt;/h1&gt;

&lt;h2&gt;전쟁에서 돌아와 . . .&lt;/h2&gt;

&lt;p&gt;며칠 뒤, 마을에 당 간부와 관리들이 트럭을 타고 내려왔다.
사라진 집들 사이, 임시로 세운 회관에 사람들이 모였다. 벽에는 아직도 “최후 승리까지 싸우자”는 전쟁 구호가 희미하게 남아 있다.&lt;/p&gt;

&lt;p&gt;“이 모든 과정은 공업화의 제1단계입니다. 특히 인민경제 전체를 이끄는 중공업 기초를 먼저 세워야.......” 


(set: _jeongSpan to 
    &#39;&lt;span class=&quot;char-link&quot; &#39; +
    &#39;data-name=&quot;정온건&quot; &#39; +
    &#39;data-age=&quot;24&quot; &#39; +
    &#39;data-region=&quot;함경남도 함흥&quot; &#39; +
    &#39;data-trait=&quot;성실함&quot; &#39; +
    &#39;data-money=&quot;&#39; + (str: $money) + &#39;&quot; &#39; +
    &#39;data-stamina=&quot;&#39; + (str: $stamina) + &#39;&quot; &#39; +
    &#39;data-risk=&quot;&#39; + (str: $risk) + &#39;&quot; &#39; +
    &#39;data-trust=&quot;&#39; + (str: $trust) + &#39;&quot; &#39; +
    &#39;&gt;&#39; +
    &#39;정온건&#39; +
    &#39;&lt;/span&gt;&#39;
)

(print: _jeongSpan)은 그 말을 들으면서도, 머릿속은 다른 생각으로 가득하다.
“공업이다, 전력이다 하는데… 우리 가족은 오늘 밤 어디서 자나.”

아무래도 (set: _jeongSpan to 
    &#39;&lt;span class=&quot;char-link&quot; &#39; +
    &#39;data-name=&quot;정온건&quot; &#39; +
    &#39;data-age=&quot;24&quot; &#39; +
    &#39;data-region=&quot;함경남도 함흥&quot; &#39; +
    &#39;data-trait=&quot;성실함&quot; &#39; +
    &#39;data-money=&quot;&#39; + (str: $money) + &#39;&quot; &#39; +
    &#39;data-stamina=&quot;&#39; + (str: $stamina) + &#39;&quot; &#39; +
    &#39;data-risk=&quot;&#39; + (str: $risk) + &#39;&quot; &#39; +
    &#39;data-trust=&quot;&#39; + (str: $trust) + &#39;&quot; &#39; +
    &#39;&gt;&#39; +
    &#39;정온건&#39; +
    &#39;&lt;/span&gt;&#39;
)

(print: _jeongSpan)에게 가장 절실한 건 “오늘 가족이 잘 곳, 먹을 것”이었다.

익숙했던 논과 집터는 ‘계획’에서만 언급될 뿐,
당장 내일을 보장해주진 않았다.
&lt;/p&gt;
&lt;hr class=&quot;page-separator&quot;&gt;
&lt;ul class=&quot;custom-list&quot;&gt;
&lt;li&gt;[[3개년 복구계획]]&lt;/li&gt;
&lt;/ul&gt;
&lt;div&gt;
[[다음-&gt;1953년_4]]
&lt;/div&gt;




&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;

&lt;!-- 캐릭터 팝업 박스 --&gt;
&lt;div id=&quot;char-popup&quot;&gt;
  &lt;div class=&quot;popup-inner&quot;&gt;
    &lt;button class=&quot;popup-close&quot;&gt;&amp;times;&lt;/button&gt;
    &lt;div class=&quot;popup-header&quot;&gt;
      &lt;div class=&quot;char-portrait-wrap&quot;&gt;&lt;img class=&quot;char-portrait&quot;&gt;&lt;/div&gt;
      &lt;div class=&quot;char-head-text&quot;&gt;
        &lt;h3 class=&quot;char-name&quot;&gt;&lt;/h3&gt;
        &lt;ul class=&quot;char-meta&quot;&gt;
          &lt;li&gt;&lt;span&gt;나이&lt;/span&gt; &lt;span class=&quot;char-age&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;지역&lt;/span&gt; &lt;span class=&quot;char-region&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;성향&lt;/span&gt; &lt;span class=&quot;char-trait&quot;&gt;&lt;/span&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;char-stats&quot;&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;돈&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-money&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;체력&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-stamina&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;리스크&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-risk&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;신뢰&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-trust&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
    &lt;p class=&quot;char-desc&quot;&gt;&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="4" name="1953년_4" tags="" position="600,725" size="100,100">
&lt;h1&gt;1953년 여름, 휴전 직후&lt;/h1&gt;

&lt;h2&gt;전쟁에서 돌아와 . . .&lt;/h2&gt;


&lt;p&gt;곧 있을 마을 회의에서 복구 인력 차출 명단이 발표된다.
이름이 한 사람씩 불릴 때마다, 누군가는 안도의 숨을, 누군가는 깊은 한숨을 내쉰다.

(set: _jeongSpan to 
    &#39;&lt;span class=&quot;char-link&quot; &#39; +
    &#39;data-name=&quot;정온건&quot; &#39; +
    &#39;data-age=&quot;24&quot; &#39; +
    &#39;data-region=&quot;함경남도 함흥&quot; &#39; +
    &#39;data-trait=&quot;성실함&quot; &#39; +
    &#39;data-money=&quot;&#39; + (str: $money) + &#39;&quot; &#39; +
    &#39;data-stamina=&quot;&#39; + (str: $stamina) + &#39;&quot; &#39; +
    &#39;data-risk=&quot;&#39; + (str: $risk) + &#39;&quot; &#39; +
    &#39;data-trust=&quot;&#39; + (str: $trust) + &#39;&quot; &#39; +
    &#39;&gt;&#39; +
    &#39;정온건&#39; +
    &#39;&lt;/span&gt;&#39;
)

(print: _jeongSpan)의 이름도 그 안에 있다.

“(set: _jeongSpan to 
    &#39;&lt;span class=&quot;char-link&quot; &#39; +
    &#39;data-name=&quot;정온건&quot; &#39; +
    &#39;data-age=&quot;24&quot; &#39; +
    &#39;data-region=&quot;함경남도 함흥&quot; &#39; +
    &#39;data-trait=&quot;성실함&quot; &#39; +
    &#39;data-money=&quot;&#39; + (str: $money) + &#39;&quot; &#39; +
    &#39;data-stamina=&quot;&#39; + (str: $stamina) + &#39;&quot; &#39; +
    &#39;data-risk=&quot;&#39; + (str: $risk) + &#39;&quot; &#39; +
    &#39;data-trust=&quot;&#39; + (str: $trust) + &#39;&quot; &#39; +
    &#39;&gt;&#39; +
    &#39;정온건&#39; +
    &#39;&lt;/span&gt;&#39;
)

(print: _jeongSpan) 동무는 철도 복구 인력으로 배치됩니다.
기차길이 살아나야 석탄도, 곡식도 움직입니다. 나라의 핏줄을 다시 잇는 일입니다.”

사람들 사이에서 작은 박수와 애매한 침묵이 섞여 나온다.
철도 복구는 중요하다고 모두들 안다.
하지만 그 말은 동시에, 오랫동안 집을 비워야 한다는 뜻이기도 했다.

이제 (set: _jeongSpan to 
    &#39;&lt;span class=&quot;char-link&quot; &#39; +
    &#39;data-name=&quot;정온건&quot; &#39; +
    &#39;data-age=&quot;24&quot; &#39; +
    &#39;data-region=&quot;함경남도 함흥&quot; &#39; +
    &#39;data-trait=&quot;성실함&quot; &#39; +
    &#39;data-money=&quot;&#39; + (str: $money) + &#39;&quot; &#39; +
    &#39;data-stamina=&quot;&#39; + (str: $stamina) + &#39;&quot; &#39; +
    &#39;data-risk=&quot;&#39; + (str: $risk) + &#39;&quot; &#39; +
    &#39;data-trust=&quot;&#39; + (str: $trust) + &#39;&quot; &#39; +
    &#39;&gt;&#39; +
    &#39;정온건&#39; +
    &#39;&lt;/span&gt;&#39;
)

(print: _jeongSpan)은 선택하여야 한다.
&lt;/p&gt;
&lt;hr class=&quot;page-separator&quot;&gt;
&lt;ul class=&quot;custom-list&quot;&gt;
&lt;li&gt;[[3개년 복구계획]]&lt;/li&gt;
&lt;/ul&gt;
&lt;div&gt;
[[국가가 지정한 전후 복구 공사 현장으로 나간다.-&gt;1953년_5_1]]

[[“가족을 먼저 살려야 한다”며 마을에 남는다.-&gt;1953년_5_2]]

[[복구 인력으로 나가되, 월말마다 식량과 물자를 최대한 챙겨 가족에게 가져온다.-&gt;1953년_5_3]]
&lt;/div&gt;



&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;

&lt;!-- 캐릭터 팝업 박스 --&gt;
&lt;div id=&quot;char-popup&quot;&gt;
  &lt;div class=&quot;popup-inner&quot;&gt;
    &lt;button class=&quot;popup-close&quot;&gt;&amp;times;&lt;/button&gt;
    &lt;div class=&quot;popup-header&quot;&gt;
      &lt;div class=&quot;char-portrait-wrap&quot;&gt;&lt;img class=&quot;char-portrait&quot;&gt;&lt;/div&gt;
      &lt;div class=&quot;char-head-text&quot;&gt;
        &lt;h3 class=&quot;char-name&quot;&gt;&lt;/h3&gt;
        &lt;ul class=&quot;char-meta&quot;&gt;
          &lt;li&gt;&lt;span&gt;나이&lt;/span&gt; &lt;span class=&quot;char-age&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;지역&lt;/span&gt; &lt;span class=&quot;char-region&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;성향&lt;/span&gt; &lt;span class=&quot;char-trait&quot;&gt;&lt;/span&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;char-stats&quot;&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;돈&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-money&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;체력&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-stamina&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;리스크&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-risk&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;신뢰&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-trust&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
    &lt;p class=&quot;char-desc&quot;&gt;&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="5" name="1953년_5_1" tags="" position="475,850" size="100,100">
&lt;h1&gt;1953년 여름, 휴전 직후&lt;/h1&gt;

&lt;h2&gt;전쟁에서 돌아와 . . .&lt;/h2&gt;

&lt;p&gt;
&lt;국가가 지정한 전후 복구 공사 현장으로 나간다&gt;

* 철도·제철소 복구 현장에서 매일 10~12시간 노동.
* 혹한 속에 자갈을 나르고, 비가 와도 끊어진 다리 밑에서 철골을 들어 올려야 한다.
* 당·국가의 “모범 복구전사”, 나아가 ‘로력영웅’ 후보로까지 거론될 수 있다.
* 하지만 몇 달, 어쩌면 1년 넘게 집을 비우며 어머니와 동생의 생계는 다른 이웃의 도움에 의존해야 한다.&lt;/p&gt;

(set:
    _moneyDiff to -10,
    _staminaDiff to -15,
    _riskDiff to 6,
    _trustDiff to 12
)

(set:
    $money to $money + _moneyDiff,
    $stamina to $stamina + _staminaDiff,
    $risk to $risk + _riskDiff,
    $trust to $trust + _trustDiff
)

&lt;p&gt;돈: +_moneyDiff
체력: _staminaDiff
리스크: +_riskDiff
신뢰: +_trustDiff&lt;/p&gt;

[[다음 -&gt;1957년_1]]

&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;


</tw-passagedata><tw-passagedata pid="6" name="1953년_5_2" tags="" position="600,850" size="100,100">
&lt;h1&gt;1953년 여름, 휴전 직후&lt;/h1&gt;

&lt;h2&gt;전쟁에서 돌아와 . . .&lt;/h2&gt;

&lt;p&gt;
&lt;“가족을 먼저 살려야 한다”며 마을에 남는다.&gt;

* 폐허가 된 집터에서 벽돌과 기왓장을 주워 작은 집을 짓는다.
* 강가에서 잡은 물고기를 말리고, 숲에서 나무열매와 나물을 캐서 이웃과 바꿔 먹는다.
* 간부가 다시 명단을 들여다보며 말할 것이다.
“정온건 동무, 왜 전후 복구의 최전선에 나서지 않으려 합니까?”
* 공식 기록에는 “국가 동원에 소극적인 자”라는 메모가 남을 수 있다. 훗날 배치와 승진, 배급에서 불이익을 받을지도 모른다.
&lt;/p&gt;

(set:
    _moneyDiff to +6,
    _staminaDiff to -8,
    _riskDiff to 5,
    _trustDiff to -10
)

(set:
    $money to $money + _moneyDiff,
    $stamina to $stamina + _staminaDiff,
    $risk to $risk + _riskDiff,
    $trust to $trust + _trustDiff
)

&lt;p&gt;돈: +_moneyDiff
체력: _staminaDiff
리스크: +_riskDiff
신뢰: +_trustDiff&lt;/p&gt;

[[다음 -&gt;1957년_1]]


&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="7" name="1953년_5_3" tags="" position="725,850" size="100,100">
&lt;h1&gt;1953년 여름, 휴전 직후&lt;/h1&gt;

&lt;h2&gt;전쟁에서 돌아와 . . .&lt;/h2&gt;

&lt;p&gt;
&lt;복구 인력으로 나가되, 월말마다 식량과 물자를 최대한 챙겨 가족에게 가져온다.&gt;

* 현장에 나가면 배급량과 작업 식사가 조금 더 나을 수 있다.
* 규정상 배급 전용 식량을 빼오는 건 ‘비사회주의적 행위’지만, 많은 노동자들이 가족을 위해 작은 자루 하나쯤은 숨겨 돌아온다.
* 기차를 타고 돌아오는 길, 검문에 걸리면 혼이 나거나 처벌받을 수 있다.
* 그래도 이 길이라면, 국가의 요구와 가족의 생존 사이에서 가장 아슬아슬한 균형을 잡을 수 있다고 그는 생각한다.
&lt;/p&gt;

(set:
    _moneyDiff to +8,
    _staminaDiff to -12,
    _riskDiff to 8,
    _trustDiff to 4
)

(set:
    $money to $money + _moneyDiff,
    $stamina to $stamina + _staminaDiff,
    $risk to $risk + _riskDiff,
    $trust to $trust + _trustDiff
)

&lt;p&gt;돈: +_moneyDiff
체력: _staminaDiff
리스크: +_riskDiff
신뢰: +_trustDiff&lt;/p&gt;

[[다음 -&gt;1957년_1]]


&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="8" name="3개년 복구계획" tags="" position="725,350" size="100,100">&lt;h1&gt;전후인민경제복구발전 3개년계획&lt;/h1&gt;

&lt;img src=&quot;https://mblogthumb-phinf.pstatic.net/MjAxNzA4MjVfMTg1/MDAxNTAzNTg5NjYxNTgy.QqENfPDLsV9AuyTCTU9jVTxSNKuajE7UsbkQKvgSd-Ag.al_jdl4bv-jrQM8D4jQTQy0nWmJ-xhUQudTCWd1qJisg.JPEG.gounikorea/image.jpg?type=w800&quot; style=&quot;width: 40%; height: auto;&quot;&gt;

&lt;p&gt;&lt;strong&gt;1. 배경&lt;/strong&gt;&lt;br&gt;
1953년 정전 직후 북한은 전력 시설의 74%, 공업 시설의 43%가 파괴된 상태였음. 체제 안정과 생존을 위해 모든 경제 지표를 전쟁 이전인 1949년 수준으로 복구하는 것을 최우선 목표로 설정함.&lt;br&gt;&lt;br&gt;

&lt;strong&gt;2. 전개 (1954~1956)&lt;/strong&gt;&lt;br&gt;
-&amp;nbsp; &quot;중공업 우선, 경공업·농업 동시 발전&quot;을 내걸었으나, 실제 산업 기본 건설 투자의 &lt;strong&gt;81.1%&lt;/strong&gt;를 중공업(전력, 기계, 금속, 화학)에 집중함.&lt;br&gt;
-&amp;nbsp; 자체 자본 부족으로 전후 복구 비용의 &lt;strong&gt;77.6%&lt;/strong&gt;를 외국 원조에 의존함. (소련 10억 루블, 중국 8억 위안 등 공산권의 무상 원조 및 차관 도입).&lt;br&gt;
-&amp;nbsp; 1954년부터 본격적인 농업 협동화를 단행하여 토지 사유화를 폐지하고, 개인 상공업자들을 협동조합으로 강제 편입시켜 사회주의 경제 틀을 완성함.&lt;br&gt;&lt;br&gt;

&lt;strong&gt;3. 결과&lt;/strong&gt;&lt;br&gt;
- &lt;strong&gt;성과:&lt;/strong&gt; 공업 총생산액이 1949년 대비 2.8배 증가하였고, 산업 내 공업 비중이 급격히 상승하여 &#39;공업-농업 국가&#39;로의 전환을 선언함.&lt;br&gt;
- &lt;strong&gt;한계:&lt;/strong&gt; 중공업 편중 정책으로 인해 식량 및 생필품 부족 등 주민들의 실질적인 생활고는 해결되지 못함.&lt;br&gt;
- &lt;strong&gt;영향:&lt;/strong&gt; 복구 사업의 성공적 완수를 선전하며 1957년부터 시작될 &#39;5개년 계획&#39;과 &lt;strong&gt;&#39;천리마 운동&#39;&lt;/strong&gt;의 동력으로 삼음.&lt;/p&gt;

&lt;p style=&quot;font-size: 1.0em; border-top: 1px solid #ccc; padding-top: 10px; color: #666;&quot;&gt;
&lt;strong&gt;출처 및 참고자료&lt;/strong&gt;&lt;br&gt;
* 한국학중앙연구원, &quot;전후복구3개년계획&quot;, &lt;a href=&quot;https://encykorea.aks.ac.kr/Article/E0070074&quot; target=&quot;_blank&quot;&gt;한국민족문화대백과사전&lt;/a&gt;&lt;br&gt;
* 통일부, &quot;사회주의 경제건설의 기초&quot;, &lt;a href=&quot;https://nkinfo.unikorea.go.kr/nkp/theme/view.do?menuId=EC004&quot; target=&quot;_blank&quot;&gt;북한정보포털&lt;/a&gt;&lt;br&gt;
* 양문수, &lt;i&gt;북한의 경제발전전략 70년의 회고와 향후 전망&lt;/i&gt;, &lt;a href=&quot;https://repo.kinu.or.kr/bitstream/2015.oak/8865/3/0001477032.pdf&quot; target=&quot;_blank&quot;&gt;통일연구원, 2015&lt;/a&gt;
&lt;/p&gt;

&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="9" name="1957년_1" tags="" position="900,350" size="100,100">
&lt;h1&gt;1957년&lt;/h1&gt;

&lt;h2&gt;복구는 끝났지만 . . .&lt;/h2&gt;

&lt;p&gt;철도 복구가 마무리 된 후, 기관차가 새로 복구된 선로 위를 느릿하게 지나갔다.
기적이 울렸고, 작업장의 모든 노동자들이 박수를 쳤다.
그 소리와 함께 새로운 구호가 내려왔다.&lt;/p&gt;

&lt;p&gt;“동무들! 전후 복구는 끝났습니다.”
“이제는 제1차 5개년 계획으로 사회주의 공업화를 실현해야 합니다!”&lt;/p&gt;

&lt;img src=&quot;https://mblogthumb-phinf.pstatic.net/MjAxNzA4MjVfMTg1/MDAxNTAzNTg5NjYxNTgy.QqENfPDLsV9AuyTCTU9jVTxSNKuajE7UsbkQKvgSd-Ag.al_jdl4bv-jrQM8D4jQTQy0nWmJ-xhUQudTCWd1qJisg.JPEG.gounikorea/image.jpg?type=w800g&quot; style=&quot;width: 40%; height: auto;&quot;&gt;

&lt;p&gt;
(set: _jeongSpan to 
    &#39;&lt;span class=&quot;char-link&quot; &#39; +
    &#39;data-name=&quot;정온건&quot; &#39; +
    &#39;data-age=&quot;24&quot; &#39; +
    &#39;data-region=&quot;경상도&quot; &#39; +
    &#39;data-trait=&quot;성실함&quot; &#39; +
    &#39;data-money=&quot;&#39; + (str: $money) + &#39;&quot; &#39; +
    &#39;data-stamina=&quot;&#39; + (str: $stamina) + &#39;&quot; &#39; +
    &#39;data-risk=&quot;&#39; + (str: $risk) + &#39;&quot; &#39; +
    &#39;data-trust=&quot;&#39; + (str: $trust) + &#39;&quot; &#39; +
    &#39;&gt;&#39; +
    &#39;정온건&#39; +
    &#39;&lt;/span&gt;&#39;
)

(print: _jeongSpan)은 ‘공업화’라는 단어를 낯설게 들었다.
복구가 끝났으면 이제 조금 쉬어도 되는 게 아닌가?
하지만 간부가 펼친 계획서는 전혀 다른 미래를 보여주고 있었다.
* 철강 생산 목표 두 배
* 기계공업 확대
* 농업은 집단 경영으로 전환 예정
&lt;/p&gt;
&lt;hr class=&quot;page-separator&quot;&gt;
&lt;ul class=&quot;custom-list&quot;&gt;
&lt;li&gt;3개년 복구계획&lt;/li&gt;
&lt;li&gt;[[제1차 5개년 계획]]&lt;/li&gt;
&lt;/ul&gt;
&lt;div&gt;
[[다음-&gt;1957년_2]]
&lt;/div&gt;



&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;

&lt;!-- 캐릭터 팝업 박스 --&gt;
&lt;div id=&quot;char-popup&quot;&gt;
  &lt;div class=&quot;popup-inner&quot;&gt;
    &lt;button class=&quot;popup-close&quot;&gt;&amp;times;&lt;/button&gt;
    &lt;div class=&quot;popup-header&quot;&gt;
      &lt;div class=&quot;char-portrait-wrap&quot;&gt;&lt;img class=&quot;char-portrait&quot;&gt;&lt;/div&gt;
      &lt;div class=&quot;char-head-text&quot;&gt;
        &lt;h3 class=&quot;char-name&quot;&gt;&lt;/h3&gt;
        &lt;ul class=&quot;char-meta&quot;&gt;
          &lt;li&gt;&lt;span&gt;나이&lt;/span&gt; &lt;span class=&quot;char-age&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;지역&lt;/span&gt; &lt;span class=&quot;char-region&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;성향&lt;/span&gt; &lt;span class=&quot;char-trait&quot;&gt;&lt;/span&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;char-stats&quot;&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;돈&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-money&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;체력&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-stamina&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;리스크&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-risk&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;신뢰&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-trust&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
</tw-passagedata><tw-passagedata pid="10" name="제1차 5개년 계획" tags="" position="1025,350" size="100,100">&lt;h1&gt;제1차 5개년 계획&lt;/h1&gt;

&lt;p&gt;&lt;strong&gt;1. 배경&lt;/strong&gt;&lt;br&gt;
전후 복구(3개년 계획)가 완료된 후, 북한은 원조에 의존하던 경제에서 벗어나 자립적인 공업화 기반을 마련해야 했음. 
특히 1950년대 후반 들어 소련과 중국의 무상 원조가 급감하고 유상 차관으로 전환되자, 외부 지원 없이 내부 자원을 총동원해야 하는 상황에 직면함.&lt;br&gt;&lt;br&gt;

&lt;strong&gt;2. 전개 (1957~1960)&lt;/strong&gt;&lt;br&gt;
-&amp;nbsp; 자본과 기술 부족을 노동력 동원으로 해결하기 위해 1956년 12월 전원회의를 기점으로 &quot;천리마를 탄 기세로 달리자&quot;는 천리마 운동을 전개함.&lt;br&gt;
-&amp;nbsp;1958년 8월 까지 농업 협동화 및 개인 상공업의 국유화·협동화를 100% 완료하여, 사유 재산이 없는 사회주의 경제 체제를 확립함.&lt;br&gt;
-&amp;nbsp; 기계 공업을 중심으로 한 중공업 우선 발전 노선을 유지함. 이 시기 &#39;주체&#39;가 강조되며 화학섬유 공장 건설 등 자립적 공업화를 추진함.&lt;br&gt;&lt;br&gt;
&lt;img src=&quot;https://mblogthumb-phinf.pstatic.net/MjAxNzA4MjVfMTU1/MDAxNTAzNTg5MzM4OTYz.HI19MzWQo36oRqKmzvV0Ik-lm2JlGqS64_rrCqQw0vMg.52rG1HbLNotOdwfrqQ2nuH8JtOoTlzyf7l0hxz9ayVYg.JPEG.gounikorea/%EC%9C%84%ED%82%A4%ED%94%BC%EB%94%94%EC%95%84.jpg?type=w800&quot; style=&quot;width: 60%; height: auto;&quot;&gt;

&lt;strong&gt;3. 결과&lt;/strong&gt;&lt;br&gt;
- &lt;strong&gt;성과:&lt;/strong&gt; 계획 기간을 2년 반이나 앞당겨 공업 총생산액 목표를 초과 달성했다고 선전하며, 원래 1961년까지였던 계획을 &lt;strong&gt;1960년에 조기 종료&lt;/strong&gt;함.&lt;br&gt;
- &lt;strong&gt;한계:&lt;/strong&gt; 무리한 속도전과 중공업 편중으로 인해 전력·운수·원료 부문의 불균형이 극심해짐. 이를 해결하기 위해 &lt;strong&gt;1960년을 &#39;완충기&#39;&lt;/strong&gt;로 설정하여 숨 고르기를 해야 했음.&lt;br&gt;
- &lt;strong&gt;영향:&lt;/strong&gt; 이 시기의 성과와 한계는 이후 1961년부터 시작된 &#39;제1차 7개년 계획&#39;의 수립 배경이 되었으며, 군사-경제 병진 노선으로 이어지는 과도기적 역할을 함.&lt;/p&gt;

&lt;p style=&quot;font-size: 1.0em; border-top: 1px solid #ccc; padding-top: 10px; color: #666;&quot;&gt;
&lt;strong&gt;출처 및 참고자료&lt;/strong&gt;&lt;br&gt;
* 한국학중앙연구원, &quot;사회주의 공업화의 기초구축에 목적을 둔 1957년부터 1961년까지 5개년간의 경제계획.&quot;, &lt;a href=&quot;https://encykorea.aks.ac.kr/Article/E0070247&quot; target=&quot;_blank&quot;&gt;한국민족문화대백과사전&lt;/a&gt;&lt;br&gt;
* 장초, &quot;북한 제1차 5개년계획(1957-1961년)의 군중 동원 - 한계 극복과 사회주의 건설의 동력 -.&quot;, &lt;a href=&quot;https://www.kci.go.kr/kciportal/ci/sereArticleSearch/ciSereArtiView.kci?sereArticleSearchBean.artiId=ART003167612&quot; target=&quot;_blank&quot;&gt;&lt;/a&gt;&lt;br&gt;
&lt;/p&gt;

&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="11" name="1957년_2" tags="" position="900,475" size="100,100">
&lt;h1&gt;1957년&lt;/h1&gt;

&lt;h2&gt;복구는 끝났지만 . . .&lt;/h2&gt;

&lt;p&gt;사람들은 계획서를 들여다보며 속삭였다.

“이제 정말 큰일이 시작되는 거구나.”
“그래도 나라가 잘돼야 우리도 잘 살지.”

(set: _jeongSpan to 
    &#39;&lt;span class=&quot;char-link&quot; &#39; +
    &#39;data-name=&quot;정온건&quot; &#39; +
    &#39;data-age=&quot;24&quot; &#39; +
    &#39;data-region=&quot;함경남도 함흥&quot; &#39; +
    &#39;data-trait=&quot;성실함&quot; &#39; +
    &#39;data-money=&quot;&#39; + (str: $money) + &#39;&quot; &#39; +
    &#39;data-stamina=&quot;&#39; + (str: $stamina) + &#39;&quot; &#39; +
    &#39;data-risk=&quot;&#39; + (str: $risk) + &#39;&quot; &#39; +
    &#39;data-trust=&quot;&#39; + (str: $trust) + &#39;&quot; &#39; +
    &#39;&gt;&#39; +
    &#39;정온건&#39; +
    &#39;&lt;/span&gt;&#39;
)

(print: _jeongSpan) 역시 그런 마음이었다.
국가가 말하는 ‘새 시대’를 믿고 싶었다.
하지만 솔직히 말하면, 한 가지 걱정도 있었다.

“복구가 끝났다고는 하지만…
생활이 이렇게 그대로인데, 잘 따라갈 수 있을까?”

그건 체제에 대한 불만이 아니라,
생활과 목표 사이의 간극에서 생기는 자연스러운 인간적 걱정이었다.&lt;/p&gt;

&lt;hr class=&quot;page-separator&quot;&gt;
&lt;ul class=&quot;custom-list&quot;&gt;
&lt;li&gt;3개년 복구계획&lt;/li&gt;
&lt;li&gt;[[제1차 5개년 계획]]&lt;/li&gt;
&lt;/ul&gt;
&lt;div&gt;
[[다음-&gt;1958년_1]]
&lt;/div&gt;



&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;

&lt;!-- 캐릭터 팝업 박스 --&gt;
&lt;div id=&quot;char-popup&quot;&gt;
  &lt;div class=&quot;popup-inner&quot;&gt;
    &lt;button class=&quot;popup-close&quot;&gt;&amp;times;&lt;/button&gt;
    &lt;div class=&quot;popup-header&quot;&gt;
      &lt;div class=&quot;char-portrait-wrap&quot;&gt;&lt;img class=&quot;char-portrait&quot;&gt;&lt;/div&gt;
      &lt;div class=&quot;char-head-text&quot;&gt;
        &lt;h3 class=&quot;char-name&quot;&gt;&lt;/h3&gt;
        &lt;ul class=&quot;char-meta&quot;&gt;
          &lt;li&gt;&lt;span&gt;나이&lt;/span&gt; &lt;span class=&quot;char-age&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;지역&lt;/span&gt; &lt;span class=&quot;char-region&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;성향&lt;/span&gt; &lt;span class=&quot;char-trait&quot;&gt;&lt;/span&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;char-stats&quot;&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;돈&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-money&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;체력&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-stamina&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;리스크&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-risk&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;신뢰&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-trust&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
    &lt;p class=&quot;char-desc&quot;&gt;&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="12" name="1958년_1" tags="" position="900,600" size="100,100">
&lt;h1&gt;1958년&lt;/h1&gt;

&lt;h2&gt;협동조합의 길 . . .&lt;/h2&gt;

&lt;p&gt;봄바람이 아직 차가운 날,
붉은 깃발을 꽂은 트럭이 마을로 천천히 들어왔다.

사람들은 일을 멈추고 자연스럽게 모여들었고,
간부는 종이를 펼쳤다.
&lt;/p&gt;
&lt;p&gt;
“동무들, 올해 안으로 모든 농가는 협동조합에 들어갑니다.”
“집단의 힘으로 생산을 높여야 합니다.”

(set: _jeongSpan to 
    &#39;&lt;span class=&quot;char-link&quot; &#39; +
    &#39;data-name=&quot;정온건&quot; &#39; +
    &#39;data-age=&quot;24&quot; &#39; +
    &#39;data-region=&quot;함경남도 함흥&quot; &#39; +
    &#39;data-trait=&quot;성실함&quot; &#39; +
    &#39;data-money=&quot;&#39; + (str: $money) + &#39;&quot; &#39; +
    &#39;data-stamina=&quot;&#39; + (str: $stamina) + &#39;&quot; &#39; +
    &#39;data-risk=&quot;&#39; + (str: $risk) + &#39;&quot; &#39; +
    &#39;data-trust=&quot;&#39; + (str: $trust) + &#39;&quot; &#39; +
    &#39;&gt;&#39; +
    &#39;정온건&#39; +
    &#39;&lt;/span&gt;&#39;
)

(print: _jeongSpan)의 어머니는 조용히 고개를 끄덕였다.
전쟁통에 남편 없이 지켜낸 작은 논도 이제는 조합 소유가 된다.

반발하는 이는 없었다.
대부분의 사람들은
“나라가 잘돼야 우리도 잘 산다”라는 마음과
“우리 집은 어떻게 될까” 하는 걱정이
섞인 복잡한 표정을 하고 있었다.
&lt;/p&gt;

&lt;hr class=&quot;page-separator&quot;&gt;
&lt;ul class=&quot;custom-list&quot;&gt;
&lt;li&gt;3개년 복구계획&lt;/li&gt;
&lt;li&gt;제1차 5개년 계획&lt;/li&gt;
&lt;li&gt;[[농촌 협동 조합]]&lt;/li&gt;
&lt;/ul&gt;
&lt;div&gt;
[[다음-&gt;1958년_2]]
&lt;/div&gt;



&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;

&lt;!-- 캐릭터 팝업 박스 --&gt;
&lt;div id=&quot;char-popup&quot;&gt;
  &lt;div class=&quot;popup-inner&quot;&gt;
    &lt;button class=&quot;popup-close&quot;&gt;&amp;times;&lt;/button&gt;
    &lt;div class=&quot;popup-header&quot;&gt;
      &lt;div class=&quot;char-portrait-wrap&quot;&gt;&lt;img class=&quot;char-portrait&quot;&gt;&lt;/div&gt;
      &lt;div class=&quot;char-head-text&quot;&gt;
        &lt;h3 class=&quot;char-name&quot;&gt;&lt;/h3&gt;
        &lt;ul class=&quot;char-meta&quot;&gt;
          &lt;li&gt;&lt;span&gt;나이&lt;/span&gt; &lt;span class=&quot;char-age&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;지역&lt;/span&gt; &lt;span class=&quot;char-region&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;성향&lt;/span&gt; &lt;span class=&quot;char-trait&quot;&gt;&lt;/span&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;char-stats&quot;&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;돈&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-money&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;체력&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-stamina&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;리스크&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-risk&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;신뢰&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-trust&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
    &lt;p class=&quot;char-desc&quot;&gt;&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="13" name="1958년_2" tags="" position="900,725" size="100,100">
&lt;h1&gt;1958년&lt;/h1&gt;

&lt;h2&gt;협동조합의 길 . . .&lt;/h2&gt;

&lt;p&gt;(set: _jeongSpan to 
    &#39;&lt;span class=&quot;char-link&quot; &#39; +
    &#39;data-name=&quot;정온건&quot; &#39; +
    &#39;data-age=&quot;24&quot; &#39; +
    &#39;data-region=&quot;함경남도 함흥&quot; &#39; +
    &#39;data-trait=&quot;성실함&quot; &#39; +
    &#39;data-money=&quot;&#39; + (str: $money) + &#39;&quot; &#39; +
    &#39;data-stamina=&quot;&#39; + (str: $stamina) + &#39;&quot; &#39; +
    &#39;data-risk=&quot;&#39; + (str: $risk) + &#39;&quot; &#39; +
    &#39;data-trust=&quot;&#39; + (str: $trust) + &#39;&quot; &#39; +
    &#39;&gt;&#39; +
    &#39;정온건&#39; +
    &#39;&lt;/span&gt;&#39;
)

(print: _jeongSpan)도 마찬가지였다.

그는 체제에 회의를 가진 것이 아니라,
두 가지 부담이 무겁게 어깨에 실린 것이다.

도시에서는 공업화 목표가 계속 높아지고

고향에서는 협동조합화가 가족의 삶을 다시 흔들고 있었다

그는 밤마다 짧게 생각했다.

“국가가 하라는 대로 열심히 하면… 정말 생활은 나아질까?”
&lt;/p&gt;
&lt;p&gt;
의문 속에서 (set: _jeongSpan to 
    &#39;&lt;span class=&quot;char-link&quot; &#39; +
    &#39;data-name=&quot;정온건&quot; &#39; +
    &#39;data-age=&quot;24&quot; &#39; +
    &#39;data-region=&quot;함경남도 함흥&quot; &#39; +
    &#39;data-trait=&quot;성실함&quot; &#39; +
    &#39;data-money=&quot;&#39; + (str: $money) + &#39;&quot; &#39; +
    &#39;data-stamina=&quot;&#39; + (str: $stamina) + &#39;&quot; &#39; +
    &#39;data-risk=&quot;&#39; + (str: $risk) + &#39;&quot; &#39; +
    &#39;data-trust=&quot;&#39; + (str: $trust) + &#39;&quot; &#39; +
    &#39;&gt;&#39; +
    &#39;정온건&#39; +
    &#39;&lt;/span&gt;&#39;
)

(print: _jeongSpan)은 선택해야 한다.
&lt;/p&gt;

&lt;hr class=&quot;page-separator&quot;&gt;
&lt;ul class=&quot;custom-list&quot;&gt;
&lt;li&gt;3개년 복구계획&lt;/li&gt;
&lt;li&gt;제1차 5개년 계획&lt;/li&gt;
&lt;li&gt;[[농촌 협동 조합]]&lt;/li&gt;
&lt;/ul&gt;
&lt;div&gt;
[[국가 정책에 충실히 따르고, 적극적으로 앞장선다.-&gt;1958년_3_1]]

[[정책은 따르되, 가족 생계를 위해 조심스럽게 자신들의 몫을 확보한다.-&gt;1958년_3_2]]

[[조합 간부·분조장과 가까워져 ‘유리한 자리’를 잡는다.-&gt;1958년_3_3]]

[[조용히 최소한만 수행하며 ‘버티기 전략’을 취한다.-&gt;1958년_3_4]]
&lt;/div&gt;


&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;

&lt;!-- 캐릭터 팝업 박스 --&gt;
&lt;div id=&quot;char-popup&quot;&gt;
  &lt;div class=&quot;popup-inner&quot;&gt;
    &lt;button class=&quot;popup-close&quot;&gt;&amp;times;&lt;/button&gt;
    &lt;div class=&quot;popup-header&quot;&gt;
      &lt;div class=&quot;char-portrait-wrap&quot;&gt;&lt;img class=&quot;char-portrait&quot;&gt;&lt;/div&gt;
      &lt;div class=&quot;char-head-text&quot;&gt;
        &lt;h3 class=&quot;char-name&quot;&gt;&lt;/h3&gt;
        &lt;ul class=&quot;char-meta&quot;&gt;
          &lt;li&gt;&lt;span&gt;나이&lt;/span&gt; &lt;span class=&quot;char-age&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;지역&lt;/span&gt; &lt;span class=&quot;char-region&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;성향&lt;/span&gt; &lt;span class=&quot;char-trait&quot;&gt;&lt;/span&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;char-stats&quot;&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;돈&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-money&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;체력&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-stamina&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;리스크&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-risk&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;신뢰&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-trust&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
    &lt;p class=&quot;char-desc&quot;&gt;&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="14" name="1958년_3_1" tags="" position="900,850" size="100,100">
&lt;h1&gt;1958년&lt;/h1&gt;

&lt;h2&gt;협동조합의 길 . . .&lt;/h2&gt;

&lt;p&gt;
&lt;국가 정책에 충실히 따르고, 적극적으로 앞장선다.&gt;

* 속도전 분조에 배치되어 매일 10~12시간 노동을 수행한다.
* 월말 총화에서 ‘모범 청년’으로 기록되어 간부들의 신뢰를 얻는다.
* 배급이 조금 더 안정적으로 나오지만 생활이 크게 좋아지지는 않는다.
* 가족과 보낼 시간은 줄고, 어머니와 동생의 부담이 커진다.
* 일정 기간이 지나면 ‘천리마 작업반’ 추천을 받을 가능성이 생긴다.
&lt;/p&gt;

(set:
    _moneyDiff to +3,
    _staminaDiff to -15,
    _riskDiff to 3,
    _trustDiff to 15
)

(set:
    $money to $money + _moneyDiff,
    $stamina to $stamina + _staminaDiff,
    $risk to $risk + _riskDiff,
    $trust to $trust + _trustDiff
)

&lt;p&gt;돈: +_moneyDiff
체력: _staminaDiff
리스크: +_riskDiff
신뢰: +_trustDiff&lt;/p&gt;

[[다음 -&gt;1961년_1]]

&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;
</tw-passagedata><tw-passagedata pid="15" name="1958년_3_2" tags="" position="1025,850" size="100,100">
&lt;h1&gt;1958년&lt;/h1&gt;

&lt;h2&gt;협동조합의 길 . . .&lt;/h2&gt;

&lt;p&gt;
&lt;정책은 따르되, 가족 생계를 위해 조심스럽게 자신들의 몫을 확보한다.&gt;

* 조합에 내기 전 가축·곡식을 일부 보존하거나 가족 몫을 확보한다.
* 수확철에 낱알을 조금씩 집으로 가져와 가족 식량 상황이 나아진다.
* 단속에 걸릴 경우 처벌 위험이 있어 항상 조심해야 한다.
* 간부 평가가 높지는 않지만, 가족 생존에는 가장 직접적인 도움이 된다.
* 마을 사람들과의 교환·품앗이 관계가 중요한 생계 기반이 된다.
&lt;/p&gt;

(set:
    _moneyDiff to +12,
    _staminaDiff to -6,
    _riskDiff to 7,
    _trustDiff to -5
)

(set:
    $money to $money + _moneyDiff,
    $stamina to $stamina + _staminaDiff,
    $risk to $risk + _riskDiff,
    $trust to $trust + _trustDiff
)

&lt;p&gt;돈: +_moneyDiff
체력: _staminaDiff
리스크: +_riskDiff
신뢰: +_trustDiff&lt;/p&gt;

[[다음 -&gt;1961년_1]]

&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;
</tw-passagedata><tw-passagedata pid="16" name="1958년_3_3" tags="" position="900,975" size="100,100">
&lt;h1&gt;1958년&lt;/h1&gt;

&lt;h2&gt;협동조합의 길 . . .&lt;/h2&gt;

&lt;p&gt;
&lt;조합 간부·분조장과 가까워져 ‘유리한 자리’를 잡는다.&gt;

* 정치학습·조합 활동에 적극적으로 참여하며 간부의 신뢰를 얻는다.
* 노동일수(노력점수)가 높게 책정되어 배급과 작업 배정이 유리해진다.
* 주민들 사이에서는 ‘간부 눈치 본다’는 시선을 받을 수 있다.
* 충성도 높은 태도를 유지해야 해 점점 더 많은 행사·과업이 요구된다.
* 생활은 상대적으로 안정되지만 자유로운 선택은 줄어든다.
&lt;/p&gt;

(set:
    _moneyDiff to +6,
    _staminaDiff to -7,
    _riskDiff to 6,
    _trustDiff to +13
)

(set:
    $money to $money + _moneyDiff,
    $stamina to $stamina + _staminaDiff,
    $risk to $risk + _riskDiff,
    $trust to $trust + _trustDiff
)

&lt;p&gt;돈: +_moneyDiff
체력: _staminaDiff
리스크: +_riskDiff
신뢰: +_trustDiff&lt;/p&gt;

[[다음 -&gt;1961년_1]]

&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;
</tw-passagedata><tw-passagedata pid="17" name="1958년_3_4" tags="" position="1025,975" size="100,100">
&lt;h1&gt;1958년&lt;/h1&gt;

&lt;h2&gt;협동조합의 길 . . .&lt;/h2&gt;

&lt;p&gt;
&lt;조용히 최소한만 수행하며 ‘버티기 전략’을 취한다&gt;

* 몸이 아프다거나 힘들다는 이유로 무거운 작업을 피하며 노동 강도를 낮춘다.
* 체력과 가족과의 시간을 확보할 수 있어 단기적 생활은 편해진다.
* 총화에서는 ‘적극성이 부족하다’는 평가가 반복된다.
* 배급·배치에서 불리해질 가능성이 있다.
* 사상평가 점수가 낮게 기록될 수 있어 장기적 기회는 제한된다.
&lt;/p&gt;

(set:
    _moneyDiff to -5,
    _staminaDiff to +10,
    _riskDiff to 4,
    _trustDiff to -12
)

(set:
    $money to $money + _moneyDiff,
    $stamina to $stamina + _staminaDiff,
    $risk to $risk + _riskDiff,
    $trust to $trust + _trustDiff
)

&lt;p&gt;돈: +_moneyDiff
체력: _staminaDiff
리스크: +_riskDiff
신뢰: +_trustDiff&lt;/p&gt;

[[다음 -&gt;1961년_1]]

&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;
</tw-passagedata><tw-passagedata pid="18" name="농촌 협동 조합" tags="" position="1025,600" size="100,100">&lt;h1&gt;농촌 협동 조합&lt;/h1&gt;

&lt;img src=&quot;https://mblogthumb-phinf.pstatic.net/MjAxNzA4MjVfMTE2/MDAxNTAzNTg5NzgxODc2.Ldm7STjTqUJkpUzQuyX3JXA7lf5wtsCzYHs-E6uusF4g.G-yIR_frsDn627_e_wgbUGg1hFGHGGq1yrL59KIpp84g.JPEG.gounikorea/%EB%8B%A4%EC%9A%B4%EB%A1%9C%EB%93%9C.jpg?type=w800&quot; style=&quot;width: 60%; height: auto;&quot;&gt;
&lt;p&gt;&lt;strong&gt;1. 배경과 과정 (3단계 형태)&lt;/strong&gt;&lt;br&gt;
전후 복구 시기 북한은 부족한 노동력을 메우기 위해 1954년부터 농업 협동화를 추진함. 초기에는 단순히 일손만 돕는 &#39;1형태&#39;와 토지 소유권은 인정하되 수입을 분배하는 &#39;2형태&#39;가 있었으나, 점차 토지와 생산수단을 모두 협동조합이 소유하고 노동 실적에 따라 분배하는 사회주의적 완성형인 &lt;strong&gt;&#39;3형태&#39;&lt;/strong&gt;로 강제 전환됨. 1957년 말에는 이미 전체 농가의 95% 이상이 3형태 조합에 가입된 상태였음.&lt;br&gt;&lt;br&gt;

&lt;strong&gt;2. 전개 (1958년의 결정적 변화)&lt;/strong&gt;&lt;br&gt;
-&amp;nbsp; 1958년 8월, 북한 당국은 &quot;전체 농가의 농업 협동조합 가입이 완료되었다&quot;고 공식 선언함. 이 과정에서 부농들의 재산은 몰수되거나 제한받았으며, 개인 상공업자들까지 생산협동조합에 편입되어 북한 내에서 &#39;사적 소유&#39;와 &#39;시장 경제&#39;의 싹이 법적으로 완전히 제거됨.&lt;br&gt;
-&amp;nbsp; 협동화 완료 직후인 10월, 내각 결정 제125호를 통해 평균 80호 규모였던 소규모 조합들을 행정 말단 구역인 &lt;strong&gt;리(里) 단위(평균 300호)&lt;/strong&gt;로 통폐합함. 이는 대규모 관개 공사와 트랙터 도입(기계화)을 효율적으로 수행하기 위한 조치였음.&lt;br&gt;
-&amp;nbsp; 리 인민위원회 위원장이 협동조합 위원장을 겸직하게 하여 &#39;행정&#39;과 &#39;경제&#39; 조직을 하나로 묶음. 동시에 마을의 소비조합(상점)과 신용조합(은행)도 농업협동조합에 흡수시켜, 농민의 소비와 금융까지 조합이 전담 통제하게 됨.&lt;br&gt;&lt;br&gt;

&lt;strong&gt;3. 결과&lt;/strong&gt;&lt;br&gt;
- &lt;strong&gt;성과:&lt;/strong&gt; 농촌의 모든 자원과 노동력을 국가 계획 하에 일사불란하게 동원할 수 있는 &#39;병영형(兵營型)&#39; 구조가 완성됨. 식량 배급과 생필품 공급권을 조합이 쥐게 되어 농민에 대한 통제력이 극대화됨.&lt;br&gt;
- &lt;strong&gt;한계:&lt;/strong&gt; 조직이 비대해지면서 관료주의적 폐단이 발생했고, 내 것과 네 것의 경계가 사라지자 농민들의 자발적 근로 의욕이 급격히 저하됨. 이를 해결하기 위해 작업반 우대제(분조관리제 시초) 등이 논의되기 시작함.&lt;br&gt;
- &lt;strong&gt;영향:&lt;/strong&gt; 이 거대한 조직을 관리하기 위해 김일성이 1960년 평남 강서군 청산리에서 직접 현지 지도를 하며 &lt;strong&gt;&#39;청산리 방법&#39;&lt;/strong&gt;과 &#39;청산리 정신&#39;을 교시하는 직접적인 배경이 됨.&lt;/p&gt;

&lt;p style=&quot;font-size: 1.0em; border-top: 1px solid #ccc; padding-top: 10px; color: #666;&quot;&gt;
&lt;strong&gt;출처 및 참고자료&lt;/strong&gt;&lt;br&gt;
* 한국학중앙연구원, &quot;농업협동화(農業協同化)&quot;, &lt;a href=&quot;https://encykorea.aks.ac.kr/Article/E0013066&quot; target=&quot;_blank&quot;&gt;한국민족문화대백과사전&lt;/a&gt;&lt;br&gt;
* 조수룡, &quot;자발과 강제 사이에서 - 1950년대 북한 농업협동화의 과정과 성격 -&quot;, &lt;a href=&quot;https://www.dbpia.co.kr/journal/articleDetail?nodeId=NODE11322252&quot; target=&quot;_blank&quot;&gt;2021&lt;/a&gt;&lt;br&gt;
&lt;/p&gt;

&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="19" name="1961년_1" tags="" position="1200,350" size="100,100">
&lt;h1&gt;1961년&lt;/h1&gt;

&lt;h2&gt;고도성장의 배경에 . . .&lt;/h2&gt;

&lt;p&gt;1961년 봄, 공장 벽에 새로 걸린 붉은 현수막이 햇살에 바람에 나부꼈다.
“새로운 7년, 사회주의 대건설의 시대다!”
국가는 곧바로 움직였다. 중공업, 기계공업, 섬유공업, 화학공업 — 전국의 공장과 조선소에 명령이 떨어졌다.
그 가운데 하나가 바로 (set: _jeongSpan to 
    &#39;&lt;span class=&quot;char-link&quot; &#39; +
    &#39;data-name=&quot;정온건&quot; &#39; +
    &#39;data-age=&quot;24&quot; &#39; +
    &#39;data-region=&quot;함경남도 함흥&quot; &#39; +
    &#39;data-trait=&quot;성실함&quot; &#39; +
    &#39;data-money=&quot;&#39; + (str: $money) + &#39;&quot; &#39; +
    &#39;data-stamina=&quot;&#39; + (str: $stamina) + &#39;&quot; &#39; +
    &#39;data-risk=&quot;&#39; + (str: $risk) + &#39;&quot; &#39; +
    &#39;data-trust=&quot;&#39; + (str: $trust) + &#39;&quot; &#39; +
    &#39;&gt;&#39; +
    &#39;정온건&#39; +
    &#39;&lt;/span&gt;&#39;
)

(print: _jeongSpan)이 다니던 제철소였다.

공장 안에는 이미 새벽부터 기계 굉음이 울렸다.
용광로, 프레스, 대형 프레임 기계…
이전 복구나 5개년 계획과는 다른 속도였다.
“속도와 생산” — 중공업 중심의 계획은 바뀐 게 없었지만, 요구되는 정도가 달랐다.&lt;/p&gt;

&lt;hr class=&quot;page-separator&quot;&gt;
&lt;ul class=&quot;custom-list&quot;&gt;
&lt;li&gt;3개년 복구계획&lt;/li&gt;
&lt;li&gt;제1차 5개년 계획&lt;/li&gt;
&lt;li&gt;농촌 협동 조합&lt;/li&gt;
&lt;li&gt;[[제1차 7개년 계획]]&lt;/li&gt;
&lt;/ul&gt;
&lt;div&gt;
[[다음-&gt;1961년_2]]
&lt;/div&gt;



&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;

&lt;!-- 캐릭터 팝업 박스 --&gt;
&lt;div id=&quot;char-popup&quot;&gt;
  &lt;div class=&quot;popup-inner&quot;&gt;
    &lt;button class=&quot;popup-close&quot;&gt;&amp;times;&lt;/button&gt;
    &lt;div class=&quot;popup-header&quot;&gt;
      &lt;div class=&quot;char-portrait-wrap&quot;&gt;&lt;img class=&quot;char-portrait&quot;&gt;&lt;/div&gt;
      &lt;div class=&quot;char-head-text&quot;&gt;
        &lt;h3 class=&quot;char-name&quot;&gt;&lt;/h3&gt;
        &lt;ul class=&quot;char-meta&quot;&gt;
          &lt;li&gt;&lt;span&gt;나이&lt;/span&gt; &lt;span class=&quot;char-age&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;지역&lt;/span&gt; &lt;span class=&quot;char-region&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;성향&lt;/span&gt; &lt;span class=&quot;char-trait&quot;&gt;&lt;/span&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;char-stats&quot;&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;돈&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-money&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;체력&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-stamina&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;리스크&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-risk&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;신뢰&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-trust&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
    &lt;p class=&quot;char-desc&quot;&gt;&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="20" name="제1차 7개년 계획" tags="" position="1325,350" size="100,100">&lt;h1&gt;제1차 7개년 계획&lt;/h1&gt;

&lt;p&gt;&lt;strong&gt;1. 배경&lt;/strong&gt;&lt;br&gt;
제1차 5개년 계획(1957~1960)으로 공업화의 기초를 닦았으나, 산업 간 불균형이 심화됨. 1960년의 완충기를 거친 후, 전면적인 기술 혁명과 인민 생활 향상을 목표로 1961년부터 북한 최초의 장기(7년) 계획을 수립함.&lt;br&gt;&lt;br&gt;

&lt;strong&gt;2. 전개 (1961~1970)&lt;/strong&gt;&lt;br&gt;
-&amp;nbsp; 1962년 쿠바 미사일 위기와 중소 분쟁 등 안보 위기가 닥치자, 그해 12월 당 중앙위 제4기 5차 전원회의에서 &quot;한 손에는 총을, 다른 한 손에는 낫과 망치를&quot;이라는 구호 아래 국방 건설과 경제 건설을 동시에 추진하기로 결정함.&lt;br&gt;
-&amp;nbsp; 전 인민의 무장화, 전 국토의 요새화 등을 추진하며 예산의 약 30%을 국방비에 쏟아부음. 이로 인해 경제 투자가 급격히 위축됨.&lt;br&gt;
-&amp;nbsp; 국방비 부담으로 공업 발전이 지체되자, 1966년 10월 당 대표자회에서 7개년 계획을 3년 연장하여 1970년까지 진행하기로 공식 발표함.&lt;br&gt;&lt;br&gt;

&lt;strong&gt;3. 결과&lt;/strong&gt;&lt;br&gt;
- &lt;strong&gt;성과:&lt;/strong&gt; 1970년 11월 제5차 당 대회에서 계획 완수를 선언하며 &lt;strong&gt;&#39;사회주의 공업 국가&#39;&lt;/strong&gt;로의 전환을 공식 선포함. 기계 공업의 자립도와 전력 생산 능력이 확충됨.&lt;br&gt;
- &lt;strong&gt;한계:&lt;/strong&gt; 북한 역사상 최초로 기간 내 달성에 실패하여 &lt;strong&gt;&#39;잃어버린 3년&#39;&lt;/strong&gt;이 발생함. 과도한 국방비 지출로 경공업과 농업 부문의 투자가 희생되어 주민 생활 수준 개선에 실패함.&lt;br&gt;
- &lt;strong&gt;영향:&lt;/strong&gt; 이 시기를 기점으로 북한의 고속 경제 성장이 멈추고 장기적인 침체(성장률 둔화)가 시작되었으며, 경제 구조가 군사 중심의 병영 국가 형태로 굳어짐.&lt;/p&gt;

&lt;p style=&quot;font-size: 1.0em; border-top: 1px solid #ccc; padding-top: 10px; color: #666;&quot;&gt;
&lt;strong&gt;출처 및 참고자료&lt;/strong&gt;&lt;br&gt;
* 조수룡, &quot;북한의 안보환경 변화와 제1차 7개년계획 (1961~67)&quot;, &lt;a href=&quot;https://www.kci.go.kr/kciportal/ci/sereArticleSearch/ciSereArtiView.kci?sereArticleSearchBean.artiId=ART003023065&quot; target=&quot;_blank&quot;&gt;&lt;/a&gt;&lt;br&gt;
* 통일부, &quot;경제 체제 및 정책&quot;, &lt;a href=&quot;https://nkinfo.unikorea.go.kr/nkp/pge/view.do?menuId=EC203&quot; target=&quot;_blank&quot;&gt;북한정보포털&lt;/a&gt;&lt;br&gt;

&lt;/p&gt;


&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="21" name="1961년_2" tags="" position="1200,475" size="100,100">
&lt;h1&gt;1961년&lt;/h1&gt;

&lt;h2&gt;고도성장의 배경에 . . .&lt;/h2&gt;

&lt;p&gt;(set: _jeongSpan to 
    &#39;&lt;span class=&quot;char-link&quot; &#39; +
    &#39;data-name=&quot;정온건&quot; &#39; +
    &#39;data-age=&quot;24&quot; &#39; +
    &#39;data-region=&quot;함경남도 함흥&quot; &#39; +
    &#39;data-trait=&quot;성실함&quot; &#39; +
    &#39;data-money=&quot;&#39; + (str: $money) + &#39;&quot; &#39; +
    &#39;data-stamina=&quot;&#39; + (str: $stamina) + &#39;&quot; &#39; +
    &#39;data-risk=&quot;&#39; + (str: $risk) + &#39;&quot; &#39; +
    &#39;data-trust=&quot;&#39; + (str: $trust) + &#39;&quot; &#39; +
    &#39;&gt;&#39; +
    &#39;정온건&#39; +
    &#39;&lt;/span&gt;&#39;
)

(print: _jeongSpan)은 다시 철판 더미 사이에 섰다.
그는 기억했다. 1950년대 후반, 노동과 협동과 희망이 있었다.
하지만 지금은… 철판은 녹아 내리고, 기계는 삐걱거렸다.
전력은 자주 끊겼고, 원료 공급은 불안정했다.
공장이 멈추는 날이 많아졌고, 작업은 더 힘들어졌다.&lt;/p&gt;

&lt;hr class=&quot;page-separator&quot;&gt;
&lt;ul class=&quot;custom-list&quot;&gt;
&lt;li&gt;3개년 복구계획&lt;/li&gt;
&lt;li&gt;제1차 5개년 계획&lt;/li&gt;
&lt;li&gt;농촌 협동 조합&lt;/li&gt;
&lt;li&gt;[[제1차 7개년 계획]]&lt;/li&gt;
&lt;/ul&gt;
&lt;div&gt;
[[다음-&gt;1961년_3]]
&lt;/div&gt;



&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;

&lt;!-- 캐릭터 팝업 박스 --&gt;
&lt;div id=&quot;char-popup&quot;&gt;
  &lt;div class=&quot;popup-inner&quot;&gt;
    &lt;button class=&quot;popup-close&quot;&gt;&amp;times;&lt;/button&gt;
    &lt;div class=&quot;popup-header&quot;&gt;
      &lt;div class=&quot;char-portrait-wrap&quot;&gt;&lt;img class=&quot;char-portrait&quot;&gt;&lt;/div&gt;
      &lt;div class=&quot;char-head-text&quot;&gt;
        &lt;h3 class=&quot;char-name&quot;&gt;&lt;/h3&gt;
        &lt;ul class=&quot;char-meta&quot;&gt;
          &lt;li&gt;&lt;span&gt;나이&lt;/span&gt; &lt;span class=&quot;char-age&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;지역&lt;/span&gt; &lt;span class=&quot;char-region&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;성향&lt;/span&gt; &lt;span class=&quot;char-trait&quot;&gt;&lt;/span&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;char-stats&quot;&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;돈&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-money&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;체력&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-stamina&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;리스크&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-risk&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;신뢰&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-trust&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
    &lt;p class=&quot;char-desc&quot;&gt;&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="22" name="1961년_3" tags="" position="1200,600" size="100,100">
&lt;h1&gt;1961년&lt;/h1&gt;

&lt;h2&gt;고도성장의 배경에 . . .&lt;/h2&gt;

&lt;p&gt;그날 저녁, 방 안은 어두웠다.
창밖 가로등도 꺼지고, 라디오에서는 “전력 절약 운동” 얘기가 흘렀다.
(set: _jeongSpan to 
    &#39;&lt;span class=&quot;char-link&quot; &#39; +
    &#39;data-name=&quot;정온건&quot; &#39; +
    &#39;data-age=&quot;24&quot; &#39; +
    &#39;data-region=&quot;함경남도 함흥&quot; &#39; +
    &#39;data-trait=&quot;성실함&quot; &#39; +
    &#39;data-money=&quot;&#39; + (str: $money) + &#39;&quot; &#39; +
    &#39;data-stamina=&quot;&#39; + (str: $stamina) + &#39;&quot; &#39; +
    &#39;data-risk=&quot;&#39; + (str: $risk) + &#39;&quot; &#39; +
    &#39;data-trust=&quot;&#39; + (str: $trust) + &#39;&quot; &#39; +
    &#39;&gt;&#39; +
    &#39;정온건&#39; +
    &#39;&lt;/span&gt;&#39;
)

(print: _jeongSpan)은 수도 없이 되뇌었다.

“이게 정말 우리가 바랐던 고도 성장인가...?”

공업은 커졌지만,
생활은 좋아지지 않았다.
소비재는 여전히 귀하고,
배급과 배분은 흔들렸으며,
공장이 멈추면 먹을 것도 줄었다.&lt;/p&gt;

&lt;hr class=&quot;page-separator&quot;&gt;
&lt;ul class=&quot;custom-list&quot;&gt;
&lt;li&gt;3개년 복구계획&lt;/li&gt;
&lt;li&gt;제1차 5개년 계획&lt;/li&gt;
&lt;li&gt;농촌 협동 조합&lt;/li&gt;
&lt;li&gt;[[제1차 7개년 계획]]&lt;/li&gt;
&lt;/ul&gt;
&lt;div&gt;
[[다음-&gt;1961년_4]]
&lt;/div&gt;



&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;

&lt;!-- 캐릭터 팝업 박스 --&gt;
&lt;div id=&quot;char-popup&quot;&gt;
  &lt;div class=&quot;popup-inner&quot;&gt;
    &lt;button class=&quot;popup-close&quot;&gt;&amp;times;&lt;/button&gt;
    &lt;div class=&quot;popup-header&quot;&gt;
      &lt;div class=&quot;char-portrait-wrap&quot;&gt;&lt;img class=&quot;char-portrait&quot;&gt;&lt;/div&gt;
      &lt;div class=&quot;char-head-text&quot;&gt;
        &lt;h3 class=&quot;char-name&quot;&gt;&lt;/h3&gt;
        &lt;ul class=&quot;char-meta&quot;&gt;
          &lt;li&gt;&lt;span&gt;나이&lt;/span&gt; &lt;span class=&quot;char-age&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;지역&lt;/span&gt; &lt;span class=&quot;char-region&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;성향&lt;/span&gt; &lt;span class=&quot;char-trait&quot;&gt;&lt;/span&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;char-stats&quot;&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;돈&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-money&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;체력&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-stamina&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;리스크&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-risk&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;신뢰&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-trust&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
    &lt;p class=&quot;char-desc&quot;&gt;&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="23" name="1961년_4" tags="" position="1200,725" size="100,100">
&lt;h1&gt;1961년&lt;/h1&gt;

&lt;h2&gt;고도성장의 배경에 . . .&lt;/h2&gt;

&lt;p&gt;
“이게 정말 우리가 바랐던 고도 성장인가...?”

공업은 커졌지만, 생활은 좋아지지 않았다.
소비재는 여전히 귀하고,
배급과 배분은 흔들렸으며,
공장이 멈추면 먹을 것도 줄었다.

눈에 보이는 발전과, 그 아래 무너지는 생활
그 간극 속에서 정온건에게 열려 있는 선택지는 다음과 같다.
&lt;/p&gt;

&lt;hr class=&quot;page-separator&quot;&gt;
&lt;ul class=&quot;custom-list&quot;&gt;
&lt;li&gt;3개년 복구계획&lt;/li&gt;
&lt;li&gt;제1차 5개년 계획&lt;/li&gt;
&lt;li&gt;농촌 협동 조합&lt;/li&gt;
&lt;li&gt;[[제1차 7개년 계획]]&lt;/li&gt;
&lt;/ul&gt;
&lt;div&gt;
[[국가 정책에 충실히 따르고, 적극적으로 앞장선다.-&gt;1961년_5_1]]

[[과도한 속도전을 피하고, 현실적 범위에서 일한다.-&gt;1961년_5_2]]

[[가족 생계를 중심에 두고, 비공식적 생존 방식을 병행한다.-&gt;1961년_5_3]]
&lt;/div&gt;



&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;

&lt;!-- 캐릭터 팝업 박스 --&gt;
&lt;div id=&quot;char-popup&quot;&gt;
  &lt;div class=&quot;popup-inner&quot;&gt;
    &lt;button class=&quot;popup-close&quot;&gt;&amp;times;&lt;/button&gt;
    &lt;div class=&quot;popup-header&quot;&gt;
      &lt;div class=&quot;char-portrait-wrap&quot;&gt;&lt;img class=&quot;char-portrait&quot;&gt;&lt;/div&gt;
      &lt;div class=&quot;char-head-text&quot;&gt;
        &lt;h3 class=&quot;char-name&quot;&gt;&lt;/h3&gt;
        &lt;ul class=&quot;char-meta&quot;&gt;
          &lt;li&gt;&lt;span&gt;나이&lt;/span&gt; &lt;span class=&quot;char-age&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;지역&lt;/span&gt; &lt;span class=&quot;char-region&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;성향&lt;/span&gt; &lt;span class=&quot;char-trait&quot;&gt;&lt;/span&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;char-stats&quot;&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;돈&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-money&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;체력&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-stamina&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;리스크&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-risk&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;신뢰&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-trust&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
    &lt;p class=&quot;char-desc&quot;&gt;&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="24" name="1961년_5_1" tags="" position="1200,850" size="100,100">
&lt;h1&gt;1961년&lt;/h1&gt;

&lt;h2&gt;고도성장의 배경에 . . .&lt;/h2&gt;

&lt;p&gt;
&lt;국가 정책에 충실히 따르고, 적극적으로 앞장선다.&gt;

* 속도전 분조에 배치되어 매일 10~12시간 노동을 수행한다.
* 월말 총화에서 ‘모범 청년’으로 기록되어 간부들의 신뢰를 얻는다.
* 배급이 조금 더 안정적으로 나오지만 생활이 크게 좋아지지는 않는다.
* 잦은 야간작업·추가노동으로 가족과 보내는 시간은 더욱 줄어든다.
* 일정 기간이 지나면 기술혁신조 배치나 분조장 승급, 또는 당 입당 후보 추천 기회를 얻는다.
&lt;/p&gt;

(set:
    _moneyDiff to +4,
    _staminaDiff to -15,
    _riskDiff to 3,
    _trustDiff to +15
)

(set:
    $money to $money + _moneyDiff,
    $stamina to $stamina + _staminaDiff,
    $risk to $risk + _riskDiff,
    $trust to $trust + _trustDiff
)

&lt;p&gt;돈: +_moneyDiff
체력: _staminaDiff
리스크: +_riskDiff
신뢰: +_trustDiff&lt;/p&gt;

[[다음 -&gt;1973년_1]]

&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;
</tw-passagedata><tw-passagedata pid="25" name="1961년_5_2" tags="" position="1325,850" size="100,100">
&lt;h1&gt;1961년&lt;/h1&gt;

&lt;h2&gt;고도성장의 배경에 . . .&lt;/h2&gt;

&lt;p&gt;
&lt;과도한 속도전을 피하고, 현실적 범위에서 일한다.&gt;

* 체력 소모를 줄이기 위해 작업 속도를 조절하며 무리한 목표 달성을 피한다.
* 월말 총화에서 “적극성이 부족하다”는 평가를 받을 가능성이 있다.
* 배급과 근무 배치에서 눈에 띄는 상승 기회는 거의 없다.
* 다만 과도한 속도전에서 벗어나 장기적으로 체력과 건강을 유지할 수 있다.
* 정치적 위험은 적지만, 간부들의 관심에서 멀어지는 결과가 생긴다.
&lt;/p&gt;

(set:
    _moneyDiff to -4,
    _staminaDiff to +12,
    _riskDiff to 3,
    _trustDiff to -8
)

(set:
    $money to $money + _moneyDiff,
    $stamina to $stamina + _staminaDiff,
    $risk to $risk + _riskDiff,
    $trust to $trust + _trustDiff
)

&lt;p&gt;돈: +_moneyDiff
체력: _staminaDiff
리스크: +_riskDiff
신뢰: +_trustDiff&lt;/p&gt;

[[다음 -&gt;1973년_1]]

&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;
</tw-passagedata><tw-passagedata pid="26" name="1961년_5_3" tags="" position="1200,975" size="100,100">
&lt;h1&gt;1961년&lt;/h1&gt;

&lt;h2&gt;고도성장의 배경에 . . .&lt;/h2&gt;

&lt;p&gt;
&lt;가족 생계를 중심에 두고, 비공식적 생존 방식을 병행한다.&gt;

* 농촌 친척·이웃과 교환경제(비공식 시장)를 통해 식량과 생활물자를 확보한다.
* 이는 실제 주민들 사이에서 흔한 전략이었지만, 당의 공식 시선에서는 금기 영역이었다.
* 공장 성과는 두드러지지 않지만, 가족의 생계는 더 안정적이 된다.
* 적발될 경우 “비사회주의적 행위”로 사상비판을 받을 위험이 있다.
* 공식적 승진 기회는 멀어지지만, 가족 내부의 생존 신뢰도는 높아진다.
&lt;/p&gt;

(set:
    _moneyDiff to +13,
    _staminaDiff to -5,
    _riskDiff to 9,
    _trustDiff to -10
)

(set:
    $money to $money + _moneyDiff,
    $stamina to $stamina + _staminaDiff,
    $risk to $risk + _riskDiff,
    $trust to $trust + _trustDiff
)

&lt;p&gt;돈: +_moneyDiff
체력: _staminaDiff
리스크: +_riskDiff
신뢰: +_trustDiff&lt;/p&gt;

[[다음 -&gt;1973년_1]]

&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;
</tw-passagedata><tw-passagedata pid="27" name="1973년_1" tags="" position="1500,350" size="100,100">
&lt;h1&gt;1974년&lt;/h1&gt;

&lt;h2&gt;사회주의 황금기 . . .&lt;/h2&gt;

&lt;p&gt;1973년, 평양과 시내 곳곳에 새로운 표어가 걸리기 시작했다.

“사회주의 건설의 황금기를 맞이하자!”
“우리식 공업화의 최성기로!”

거리만 보면 이 말이 거짓처럼 들리지는 않았다.
평양 중심부에는 새 아파트 단지가 들어서고, 강가에는 문화회관이 세워지고 있었다.
가끔 외국 손님이 온다며 도로가 정리되고, 전깃불이 환하게 켜지는 날도 있었다.&lt;/p&gt;

&lt;hr class=&quot;page-separator&quot;&gt;
&lt;ul class=&quot;custom-list&quot;&gt;
&lt;li&gt;3개년 복구계획&lt;/li&gt;
&lt;li&gt;제1차 5개년 계획&lt;/li&gt;
&lt;li&gt;농촌 협동 조합&lt;/li&gt;
&lt;li&gt;제1차 7개년 계획&lt;/li&gt;
&lt;li&gt;[[오일쇼크]]&lt;/li&gt;
&lt;li&gt;[[사회주의 황금기]]&lt;/li&gt;
&lt;li&gt;[[3대 혁명 붉은기 운동]]&lt;/li&gt;
&lt;/ul&gt;
&lt;div&gt;
[[다음-&gt;1974년_2]]
&lt;/div&gt;



&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;
</tw-passagedata><tw-passagedata pid="28" name="오일쇼크" tags="" position="1625,350" size="100,100">&lt;h1&gt;오일쇼크&lt;/h1&gt;

&lt;p&gt;&lt;strong&gt;1. 구조적 배경&lt;/strong&gt;&lt;br&gt;
북한은 석유 한 방울 나지 않는 비산유국임에도 불구하고, 1950~60년대 소련과 중국의 전폭적인 에너지 지원에 힘입어 석유 의존도가 높은 중화학 공업 중심의 산업 구조를 구축함. 이는 국제 정세 변화에 따라 에너지 공급망이 붕괴될 경우, 경제 전반이 마비될 수 있는 심각한 &#39;대외 의존적 취약성&#39;을 내포하고 있었음.&lt;br&gt;&lt;br&gt;

&lt;strong&gt;2. 전개 과정 (1970년대 vs 1990년대)&lt;/strong&gt;&lt;br&gt;
-&amp;nbsp; &lt;strong&gt;제1차 파동 (1970년대 중반):&lt;/strong&gt; 1973년 제1차 오일쇼크 당시에는 소련과 중국의 암묵적 보조로 직접적인 타격은 피했으나, 서방의 기술과 설비를 도입하는 과정에서 국제 금리 인상과 수출 부진이 겹치며 1975년 대외 채무 불이행(Default) 사태를 초래하는 간접적 원인이 됨.&lt;br&gt;
-&amp;nbsp; &lt;strong&gt;제2차 파동 (1990년대 초반):&lt;/strong&gt; 구소련의 붕괴(1991)와 한중 수교(1992)를 기점으로 사회주의권의 &lt;strong&gt;&#39;우호 가격&#39;&lt;/strong&gt; 시스템이 붕괴됨. 러시아는 석유 결제 대금으로 국제가격에 준하는 경화를 요구했고, 중국 또한 대북 석유 공급량을 대폭 축소함.&lt;br&gt;
-&amp;nbsp; &lt;strong&gt;공급 급감:&lt;/strong&gt; 1990년 약 250만 톤에 달하던 원유 도입량은 1990년대 중반 100만 톤 이하로 급감하였으며, 이는 북한 경제를 지탱하던 에너지 동맥이 끊기는 결과를 낳음.&lt;br&gt;&lt;br&gt;

&lt;strong&gt;3. 결과 및 파급 효과&lt;/strong&gt;&lt;br&gt;
- &lt;strong&gt;산업 가동률 추락:&lt;/strong&gt; 석유 공급 중단은 전력난과 원자재 수송난으로 직결되어, 1990년대 공장 가동률이 20~30% 수준으로 폭락함. 이는 &#39;고난의 행군&#39;을 촉발한 결정적 요인 중 하나로 작용함.&lt;br&gt;
- &lt;strong&gt;농업 기반 붕괴:&lt;/strong&gt; 비료 생산 공장의 가동 중단과 농기계(트랙터 등)의 연료 부족 사태를 야기하여 식량 생산 능력이 괴멸적인 타격을 입음.&lt;br&gt;
- &lt;strong&gt;주체적 대응의 한계:&lt;/strong&gt; 이에 대한 타개책으로 무연탄 가스화 공법(주체 비료)이나 중소형 발전소 건설 등을 추진했으나, 기술적 낙후성과 효율성 문제로 근본적인 에너지 난을 해결하지 못하고 만성적인 에너지 부족 국가로 전락함.&lt;/p&gt;



&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="29" name="사회주의 황금기" tags="" position="1625,475" size="100,100">&lt;h1&gt;1974년: 사회주의의 &#39;황금기&#39;와 체제 절정&lt;/h1&gt;

&lt;p&gt;&lt;strong&gt;1. 정치·사회적 배경&lt;/strong&gt;&lt;br&gt;
1974년은 북한 체제의 정점이자 전환점으로 평가받음. 그해 2월 당 중앙위원회 제5기 8차 전원회의에서 김정일이 당 정치위원회 위원으로 선출되며 김일성의 후계자로 공식 추대됨. 이에 따라 &#39;온 사회의 주체사상화&#39;가 당의 최고 강령으로 선포되었으며, 후계 체제의 정당성을 확보하고 경제적 성과를 과시하기 위한 대규모 대중 동원 운동이 전개됨.&lt;br&gt;&lt;br&gt;

&lt;strong&gt;2. 전개&lt;/strong&gt;&lt;br&gt;
-&amp;nbsp; 1974년 3월 최고인민회의 제5기 3차 회의에서 &#39;세금 제도를 완전히 없앨 데 대하여&#39;라는 법령을 채택함. 4월 1일부터 시행된 이 조치는 사회주의 제도의 우월성을 대내외에 과시하는 강력한 선전 수단으로 활용되었으며, 당시 북한 경제가 남한과 대등하거나 우위에 있다는 자신감의 발로였음.&lt;br&gt;
-&amp;nbsp; 김정일의 주도 하에 1974년 10월부터 12월까지 &#39;70일 전투&#39;가 전개됨. 이는 생산 공정의 기술적 혁신보다는 노동력의 집중 투입과 이데올로기적 고양을 통해 생산 목표를 초과 달성하려는 &lt;strong&gt;&#39;속도전&#39;&lt;/strong&gt;의 시초가 됨. 이 기간 동안 북한은 산업 생산이 연초 대비 1.7배 증가했다고 발표함.&lt;br&gt;&lt;br&gt;

&lt;strong&gt;3. 평가 및 한계&lt;/strong&gt;&lt;br&gt;
- &lt;strong&gt;체제의 절정:&lt;/strong&gt; 1970년대 중반까지 북한의 1인당 GNP는 약 1,000달러 수준으로 추산되어, 수치상으로 남한과 대등한 경쟁을 벌이던 마지막 시기임. 무상 의료, 무상 교육, 세금 철폐 등 사회주의 복지 시스템이 외형적으로 완성된 시기로 주민들에게는 가장 풍요로웠던 시기로 기억됨.&lt;br&gt;
- &lt;strong&gt;구조적 모순 심화:&lt;/strong&gt; &#39;70일 전투&#39;와 같은 단기 돌격 방식의 경제 운용은 설비의 과부하와 자재 수급의 불균형을 초래함. 또한, 1974년의 화려한 성과 이면에는 서방 차관 도입에 따른 외채 누적과 1973년 오일쇼크의 지연된 충격이 다가오고 있었으며, 이는 이듬해인 1975년 대외 채무 불이행(Default) 선언으로 이어지는 전조가 됨.&lt;/p&gt;

&lt;p style=&quot;font-size: 1.0em; border-top: 1px solid #ccc; padding-top: 10px; color: #666;&quot;&gt;
&lt;strong&gt;출처 및 참고자료&lt;/strong&gt;&lt;br&gt;
* 박후건, &quot;북한 사회주의경제체제의 
진화과정에 대한 고찰&quot;, &lt;a href=&quot;https://nk.ac.kr/wp-content/uploads/2022/08/%EB%B0%95%ED%9B%84%EA%B1%B4.pdf&quot; target=&quot;_blank&quot;&gt;&lt;/a&gt;경남대학교&lt;br&gt;
* 통일부, &quot;경제 체제 및 정책&quot;, &lt;a href=&quot;https://nkinfo.unikorea.go.kr/nkp/pge/view.do?menuId=EC203&quot; target=&quot;_blank&quot;&gt;북한정보포털&lt;/a&gt;&lt;br&gt;

&lt;/p&gt;


&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="30" name="1974년_2" tags="" position="1500,475" size="100,100">
&lt;h1&gt;1974년&lt;/h1&gt;

&lt;h2&gt;사회주의 황금기 . . .&lt;/h2&gt;

&lt;p&gt;
하지만 (set: _jeongSpan to 
    &#39;&lt;span class=&quot;char-link&quot; &#39; +
    &#39;data-name=&quot;정온건&quot; &#39; +
    &#39;data-age=&quot;24&quot; &#39; +
    &#39;data-region=&quot;함경남도 함흥&quot; &#39; +
    &#39;data-trait=&quot;성실함&quot; &#39; +
    &#39;data-money=&quot;&#39; + (str: $money) + &#39;&quot; &#39; +
    &#39;data-stamina=&quot;&#39; + (str: $stamina) + &#39;&quot; &#39; +
    &#39;data-risk=&quot;&#39; + (str: $risk) + &#39;&quot; &#39; +
    &#39;data-trust=&quot;&#39; + (str: $trust) + &#39;&quot; &#39; +
    &#39;&gt;&#39; +
    &#39;정온건&#39; +
    &#39;&lt;/span&gt;&#39;
)

(print: _jeongSpan)이 사는 노동자 지구의 밤은 달랐다.

전기가 없어 건물 전체가 깜깜해지면,
어머니는 촛불 대신 작은 석유램프에 불을 켜고 감자를 데우곤 했다.
이웃 애들은 정전이 길어질 때마다 계단 아래에서 숯불을 피워 손을 녹였고,
겨울이면 연료가 부족해 방 안에서도 숨이 하얗게 나왔다.

배급소 앞에는 항상 긴 줄이 늘어섰다

(set: _jeongSpan to 
    &#39;&lt;span class=&quot;char-link&quot; &#39; +
    &#39;data-name=&quot;정온건&quot; &#39; +
    &#39;data-age=&quot;24&quot; &#39; +
    &#39;data-region=&quot;함경남도 함흥&quot; &#39; +
    &#39;data-trait=&quot;성실함&quot; &#39; +
    &#39;data-money=&quot;&#39; + (str: $money) + &#39;&quot; &#39; +
    &#39;data-stamina=&quot;&#39; + (str: $stamina) + &#39;&quot; &#39; +
    &#39;data-risk=&quot;&#39; + (str: $risk) + &#39;&quot; &#39; +
    &#39;data-trust=&quot;&#39; + (str: $trust) + &#39;&quot; &#39; +
    &#39;&gt;&#39; +
    &#39;정온건&#39; +
    &#39;&lt;/span&gt;&#39;
)

(print: _jeongSpan)의 공장도 사정은 비슷했다.
정전 때문에 하루에 몇 번씩 기계가 멈췄고,
한 달 생산 목표는 계속 올라가지만
원료와 자재는 오히려 더 부족해졌다.
&lt;/p&gt;

&lt;hr class=&quot;page-separator&quot;&gt;
&lt;ul class=&quot;custom-list&quot;&gt;
&lt;li&gt;3개년 복구계획&lt;/li&gt;
&lt;li&gt;제1차 5개년 계획&lt;/li&gt;
&lt;li&gt;농촌 협동 조합&lt;/li&gt;
&lt;li&gt;제1차 7개년 계획&lt;/li&gt;
&lt;li&gt;[[오일쇼크]]&lt;/li&gt;
&lt;li&gt;[[사회주의 황금기]]&lt;/li&gt;
&lt;li&gt;[[3대 혁명 붉은기 운동]]&lt;/li&gt;
&lt;/ul&gt;
&lt;div&gt;
[[다음-&gt;1974년_3]]
&lt;/div&gt;



&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;

&lt;!-- 캐릭터 팝업 박스 --&gt;
&lt;div id=&quot;char-popup&quot;&gt;
  &lt;div class=&quot;popup-inner&quot;&gt;
    &lt;button class=&quot;popup-close&quot;&gt;&amp;times;&lt;/button&gt;
    &lt;div class=&quot;popup-header&quot;&gt;
      &lt;div class=&quot;char-portrait-wrap&quot;&gt;&lt;img class=&quot;char-portrait&quot;&gt;&lt;/div&gt;
      &lt;div class=&quot;char-head-text&quot;&gt;
        &lt;h3 class=&quot;char-name&quot;&gt;&lt;/h3&gt;
        &lt;ul class=&quot;char-meta&quot;&gt;
          &lt;li&gt;&lt;span&gt;나이&lt;/span&gt; &lt;span class=&quot;char-age&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;지역&lt;/span&gt; &lt;span class=&quot;char-region&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;성향&lt;/span&gt; &lt;span class=&quot;char-trait&quot;&gt;&lt;/span&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;char-stats&quot;&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;돈&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-money&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;체력&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-stamina&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;리스크&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-risk&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;신뢰&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-trust&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
    &lt;p class=&quot;char-desc&quot;&gt;&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="31" name="1974년_3" tags="" position="1500,600" size="100,100">
&lt;h1&gt;1974년&lt;/h1&gt;

&lt;h2&gt;사회주의 황금기 . . .&lt;/h2&gt;

&lt;p&gt;
그러던 어느 날, 공장에 새로운 소식이 퍼졌다.

평양의 다른 공장에서 일하던 노동자 몇 명이
루마니아·동독·소련의 공사 현장에 해외파견을 갔다고 했다.

“고생은 심하지만, 몇 년만 버티면 가족 배급은 남들보다 훨씬 낫대.”
“돌아오면 새 집 배정도 받을 수 있다던데?”
“죽기만 안 하면 성공이라더라.”

(set: _jeongSpan to 
    &#39;&lt;span class=&quot;char-link&quot; &#39; +
    &#39;data-name=&quot;정온건&quot; &#39; +
    &#39;data-age=&quot;24&quot; &#39; +
    &#39;data-region=&quot;함경남도 함흥&quot; &#39; +
    &#39;data-trait=&quot;성실함&quot; &#39; +
    &#39;data-money=&quot;&#39; + (str: $money) + &#39;&quot; &#39; +
    &#39;data-stamina=&quot;&#39; + (str: $stamina) + &#39;&quot; &#39; +
    &#39;data-risk=&quot;&#39; + (str: $risk) + &#39;&quot; &#39; +
    &#39;data-trust=&quot;&#39; + (str: $trust) + &#39;&quot; &#39; +
    &#39;&gt;&#39; +
    &#39;정온건&#39; +
    &#39;&lt;/span&gt;&#39;
)

(print: _jeongSpan)은 담담한 표정으로 동료들의 대화를 들었지만,
집에 돌아가 감자 몇 알을 나누어먹는 가족들을 보며 마음이 복잡해졌다.
&lt;/p&gt;

&lt;hr class=&quot;page-separator&quot;&gt;
&lt;ul class=&quot;custom-list&quot;&gt;
&lt;li&gt;3개년 복구계획&lt;/li&gt;
&lt;li&gt;제1차 5개년 계획&lt;/li&gt;
&lt;li&gt;농촌 협동 조합&lt;/li&gt;
&lt;li&gt;제1차 7개년 계획&lt;/li&gt;
&lt;li&gt;[[오일쇼크]]&lt;/li&gt;
&lt;li&gt;[[사회주의 황금기]]&lt;/li&gt;
&lt;li&gt;[[3대 혁명 붉은기 운동]]&lt;/li&gt;
&lt;/ul&gt;
&lt;div&gt;
[[다음-&gt;1974년_4]]
&lt;/div&gt;



&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;

&lt;!-- 캐릭터 팝업 박스 --&gt;
&lt;div id=&quot;char-popup&quot;&gt;
  &lt;div class=&quot;popup-inner&quot;&gt;
    &lt;button class=&quot;popup-close&quot;&gt;&amp;times;&lt;/button&gt;
    &lt;div class=&quot;popup-header&quot;&gt;
      &lt;div class=&quot;char-portrait-wrap&quot;&gt;&lt;img class=&quot;char-portrait&quot;&gt;&lt;/div&gt;
      &lt;div class=&quot;char-head-text&quot;&gt;
        &lt;h3 class=&quot;char-name&quot;&gt;&lt;/h3&gt;
        &lt;ul class=&quot;char-meta&quot;&gt;
          &lt;li&gt;&lt;span&gt;나이&lt;/span&gt; &lt;span class=&quot;char-age&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;지역&lt;/span&gt; &lt;span class=&quot;char-region&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;성향&lt;/span&gt; &lt;span class=&quot;char-trait&quot;&gt;&lt;/span&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;char-stats&quot;&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;돈&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-money&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;체력&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-stamina&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;리스크&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-risk&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;신뢰&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-trust&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
    &lt;p class=&quot;char-desc&quot;&gt;&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="32" name="1974년_4" tags="" position="1500,725" size="100,100">
&lt;h1&gt;1974년&lt;/h1&gt;

&lt;h2&gt;사회주의 황금기 . . .&lt;/h2&gt;

&lt;p&gt;
어머니는 감자를 반으로 쪼개 옆으로 밀어주며 말했다.

“지금이 황금기라는데…
우린 왜 점점 더 절약해야만 하니, 온건아.”

그날 밤, (set: _jeongSpan to 
    &#39;&lt;span class=&quot;char-link&quot; &#39; +
    &#39;data-name=&quot;정온건&quot; &#39; +
    &#39;data-age=&quot;24&quot; &#39; +
    &#39;data-region=&quot;함경남도 함흥&quot; &#39; +
    &#39;data-trait=&quot;성실함&quot; &#39; +
    &#39;data-money=&quot;&#39; + (str: $money) + &#39;&quot; &#39; +
    &#39;data-stamina=&quot;&#39; + (str: $stamina) + &#39;&quot; &#39; +
    &#39;data-risk=&quot;&#39; + (str: $risk) + &#39;&quot; &#39; +
    &#39;data-trust=&quot;&#39; + (str: $trust) + &#39;&quot; &#39; +
    &#39;&gt;&#39; +
    &#39;정온건&#39; +
    &#39;&lt;/span&gt;&#39;
)

(print: _jeongSpan)은 램프 아래에서 조용히 생각했다.

거리의 밝은 불빛,
새로 생긴 문화회관,
해외에 나가면 돈이 된다던 소문,
그리고 집 안의 조용한 어둠과 감자 몇 알.

“정말로… 지금이 황금기가 맞는 걸까?”

(set: _jeongSpan to 
    &#39;&lt;span class=&quot;char-link&quot; &#39; +
    &#39;data-name=&quot;정온건&quot; &#39; +
    &#39;data-age=&quot;24&quot; &#39; +
    &#39;data-region=&quot;함경남도 함흥&quot; &#39; +
    &#39;data-trait=&quot;성실함&quot; &#39; +
    &#39;data-money=&quot;&#39; + (str: $money) + &#39;&quot; &#39; +
    &#39;data-stamina=&quot;&#39; + (str: $stamina) + &#39;&quot; &#39; +
    &#39;data-risk=&quot;&#39; + (str: $risk) + &#39;&quot; &#39; +
    &#39;data-trust=&quot;&#39; + (str: $trust) + &#39;&quot; &#39; +
    &#39;&gt;&#39; +
    &#39;정온건&#39; +
    &#39;&lt;/span&gt;&#39;
)

(print: _jeongSpan)은 다시 한 번
인생을 바꿀 선택의 갈림길에 서 있었다.
&lt;/p&gt;

&lt;hr class=&quot;page-separator&quot;&gt;
&lt;ul class=&quot;custom-list&quot;&gt;
&lt;li&gt;3개년 복구계획&lt;/li&gt;
&lt;li&gt;제1차 5개년 계획&lt;/li&gt;
&lt;li&gt;농촌 협동 조합&lt;/li&gt;
&lt;li&gt;제1차 7개년 계획&lt;/li&gt;
&lt;li&gt;[[오일쇼크]]&lt;/li&gt;
&lt;li&gt;[[사회주의 황금기]]&lt;/li&gt;
&lt;li&gt;[[3대 혁명 붉은기 운동]]&lt;/li&gt;
&lt;/ul&gt;
&lt;div&gt;
[[3대혁명 붉은기 쟁취 운동’에 적극 참여한다.-&gt;1974년_5_1]]

[[해외 파견 노동(벌목·건설·광업)에 지원한다.-&gt;1974년_5_2]]

[[에너지난 속에서 비공식 생존 경제를 본격적으로 시작한다.-&gt;1974년_5_3]]
&lt;/div&gt;


&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;

&lt;!-- 캐릭터 팝업 박스 --&gt;
&lt;div id=&quot;char-popup&quot;&gt;
  &lt;div class=&quot;popup-inner&quot;&gt;
    &lt;button class=&quot;popup-close&quot;&gt;&amp;times;&lt;/button&gt;
    &lt;div class=&quot;popup-header&quot;&gt;
      &lt;div class=&quot;char-portrait-wrap&quot;&gt;&lt;img class=&quot;char-portrait&quot;&gt;&lt;/div&gt;
      &lt;div class=&quot;char-head-text&quot;&gt;
        &lt;h3 class=&quot;char-name&quot;&gt;&lt;/h3&gt;
        &lt;ul class=&quot;char-meta&quot;&gt;
          &lt;li&gt;&lt;span&gt;나이&lt;/span&gt; &lt;span class=&quot;char-age&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;지역&lt;/span&gt; &lt;span class=&quot;char-region&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;성향&lt;/span&gt; &lt;span class=&quot;char-trait&quot;&gt;&lt;/span&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;char-stats&quot;&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;돈&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-money&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;체력&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-stamina&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;리스크&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-risk&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;신뢰&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-trust&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
    &lt;p class=&quot;char-desc&quot;&gt;&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="33" name="1974년_5_3" tags="" position="1500,975" size="100,100">
&lt;h1&gt;1974년&lt;/h1&gt;

&lt;h2&gt;사회주의 황금기 . . .&lt;/h2&gt;

&lt;p&gt;
&lt;에너지난 속에서 비공식 생존 경제를 본격적으로 시작한다.&gt;

* 전력·배급 불안정을 보완하기 위해 도시-농촌 물물교환, 연탄·생필품 거래, 작은 장사 등을 시작한다.
* 국가가 금지한 영역이지만, 주민들은 “살려면 해야 한다”며 암묵적 용인.
* 가족의 식량과 생활 수준은 안정되지만, 단속에 걸릴 위험이 있다.
* 공장의 출근일수를 줄이거나 밤에 장사하느라 근무 평가가 낮아질 수 있다.
* 장기적으로 “자립 생존력”은 크게 오르지만, 정치적 신뢰도는 하락한다.
&lt;/p&gt;

(set:
    _moneyDiff to 10,
    _staminaDiff to -5,
    _riskDiff to 2,
    _trustDiff to 1
)

(set:
    _moneyDiff to +14,
    _staminaDiff to -8,
    _riskDiff to +11,
    _trustDiff to -12
)

&lt;p&gt;돈: +_moneyDiff
체력: _staminaDiff
리스크: +_riskDiff
신뢰: +_trustDiff&lt;/p&gt;

[[결과-&gt;결과보기1]]

&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;
</tw-passagedata><tw-passagedata pid="34" name="1974년_5_2" tags="" position="1625,850" size="100,100">
&lt;h1&gt;1974년&lt;/h1&gt;

&lt;h2&gt;사회주의 황금기 . . .&lt;/h2&gt;

&lt;p&gt;
&lt;해외 파견 노동(벌목·건설·광업)에 지원한다.&gt;

* 몇 년간 가족과 떨어져 시베리아 벌목·소련 건설·동유럽 공사장 등에 파견될 가능성이 생긴다.
* 환경은 매우 위험하고 과로가 심하지만, 가족에게 돌아가는 배급·물자·외화가 증가한다.
* 공장은 “충성 높은 노동자”로 평가하며, 귀국 후 특별 배급이나 좋은 숙소 배정을 받을 수 있다.
* 그러나 사고·병·혹한 등으로 생명의 위협도 크다.
* 돌아왔을 때 가족 구성이나 마을 상황이 변해 있을 수 있다.
&lt;/p&gt;

(set:
    _moneyDiff to +15,
    _staminaDiff to -15,
    _riskDiff to +15,
    _trustDiff to +13
)

(set:
    $money to $money + _moneyDiff,
    $stamina to $stamina + _staminaDiff,
    $risk to $risk + _riskDiff,
    $trust to $trust + _trustDiff
)

&lt;p&gt;돈: +_moneyDiff
체력: _staminaDiff
리스크: +_riskDiff
신뢰: +_trustDiff&lt;/p&gt;

[[결과-&gt;결과보기1]]

&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;
</tw-passagedata><tw-passagedata pid="35" name="1974년_5_1" tags="" position="1500,850" size="100,100">
&lt;h1&gt;1974년&lt;/h1&gt;

&lt;h2&gt;사회주의 황금기 . . .&lt;/h2&gt;

&lt;p&gt;
&lt;3대혁명 붉은기 쟁취 운동’에 적극 참여한다.&gt;

* 매일 사상학습·과외 기술훈련·문화동원에 참여하며 국가가 원하는 “혁명적 노동자상”에 가까워진다.
* 공장에서는 간부들의 신뢰를 얻고, 작은 표창이나 우수조 선정 기회가 생긴다.
* 그러나 실제 생산은 전력난으로 개선되지 않아 성과와 현실의 괴리를 느낀다.
* 사상 활동이 많아지면서 가족과 보내는 시간은 줄어든다.
* 장기적으로 당 입당 후보나 분조장 승급 가능성이 생긴다.
&lt;/p&gt;

(set:
    _moneyDiff to +2,
    _staminaDiff to -12,
    _riskDiff to 4,
    _trustDiff to +14
)

(set:
    $money to $money + _moneyDiff,
    $stamina to $stamina + _staminaDiff,
    $risk to $risk + _riskDiff,
    $trust to $trust + _trustDiff
)

&lt;p&gt;돈: +_moneyDiff
체력: _staminaDiff
리스크: +_riskDiff
신뢰: +_trustDiff&lt;/p&gt;

[[결과-&gt;결과보기1]]

&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;
</tw-passagedata><tw-passagedata pid="36" name="3대 혁명 붉은기 운동" tags="" position="1625,600" size="100,100">&lt;h1&gt;3대 혁명 붉은기 운동&lt;/h1&gt;

&lt;img src=&quot;
https://i.imgur.com/daRmLlr.png&quot; style=&quot;width: 80%; height: auto;&quot;&gt;

&lt;p&gt;&lt;strong&gt;1. 배경&lt;/strong&gt;&lt;br&gt;
1970년대 들어 사회주의 공업화가 일정 궤도에 오르면서 단순한 노력 동원 방식인 천리마 운동이 한계에 직면함. 이에 사상과 기술 및 문화를 포괄적으로 개조하여 생산력을 높이고 김정일 후계 체제의 정치적 기반을 공고히 하기 위해 새로운 형태의 대중 운동이 요구됨.&lt;br&gt;&lt;br&gt;

&lt;strong&gt;2. 전개 (1975~)&lt;/strong&gt;&lt;br&gt;
-&amp;nbsp; 1975년 12월 당 중앙위원회 제5기 19차 전원회의에서 전 군중적 운동으로 공식 발기됨. 공장과 기업소 및 협동농장 등 말단 단위가 사상과 기술 및 문화의 3대 과제 수행 목표를 달성하면 붉은기를 수여하는 방식으로 진행됨.&lt;br&gt;
-&amp;nbsp; 기존 천리마 운동이 개별적 모범 창출에 중점을 둔 것과 달리 집단적 경쟁을 통해 단위 전체의 개조를 목표로 함. 대학생과 전문가로 구성된 3대 혁명 소조원들을 현장에 파견하여 중앙 당의 방침을 하부 조직에 직접 지도하고 관철함.&lt;br&gt;
-&amp;nbsp; &#39;사상도 기술도 문화도 주체의 요구대로&#39;라는 구호를 내세움. 단순한 생산량 증대 경쟁을 넘어 주민들의 의식 구조와 생활 양식까지 당의 통제 하에 두려는 전 사회적 개조 운동으로 확대됨.&lt;br&gt;&lt;br&gt;

&lt;strong&gt;3. 결과&lt;/strong&gt;&lt;br&gt;
- &lt;strong&gt;성과:&lt;/strong&gt; 김정일의 유일적 지도 체계를 전 사회적으로 확립하는 정치적 수단으로 기능함. 운동 초기에는 낙후된 생산 설비를 개조하고 기술 혁신을 독려하여 생산성 향상에 일정 부분 기여함.&lt;br&gt;
- &lt;strong&gt;한계:&lt;/strong&gt; 상부의 일방적인 지시와 과도한 속도전 강요로 인해 현장의 피로도가 극심해짐. 실질적인 기술 진보보다는 붉은기 쟁취를 위한 보여주기식 실적 경쟁과 통계 조작 등 형식주의가 만연함.&lt;br&gt;
- &lt;strong&gt;평가:&lt;/strong&gt; 천리마 운동을 대체하여 1990년대까지 북한 사회를 규율하는 최고의 대중 동원 방식으로 자리 잡았으며 북한 체제의 경직성을 심화시키는 요인으로 작용함.&lt;/p&gt;
&lt;p style=&quot;font-size: 1.0em; border-top: 1px solid #ccc; padding-top: 10px; color: #666;&quot;&gt;
&lt;strong&gt;출처 및 참고자료&lt;/strong&gt;&lt;br&gt;
* 통일부, &quot;3대혁명붉은기쟁취운동&quot;, &lt;a href=&quot;https://nkinfo.unikorea.go.kr/nkp/knwldg/view/knwldg.do&quot;&gt;북한정보포털&lt;/a&gt;&lt;br&gt;
&lt;/p&gt;


&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="37" name="1978년_1" tags="" position="600,1200" size="100,100">(set: $money_2 to 20)
(set: $stamina_2 to 20)
(set: $risk_2 to 20)
(set: $trust_2 to 20)
&lt;h1&gt;1978년&lt;/h1&gt;

&lt;h2&gt;실패한 경제계획 . . .&lt;/h2&gt;

&lt;p&gt;(set: _jeongStar to 
    &#39;&lt;span class=&quot;char-link&quot; &#39; +
    &#39;data-name=&quot;정별총&quot; &#39; +
    &#39;data-age=&quot;24&quot; &#39; +
    &#39;data-region=&quot;평안도 평양&quot; &#39; +
    &#39;data-trait=&quot;비관적&quot; &#39; +
    &#39;data-money=&quot;&#39; + (str: $money_2) + &#39;&quot; &#39; +
    &#39;data-stamina=&quot;&#39; + (str: $stamina_2) + &#39;&quot; &#39; +
    &#39;data-risk=&quot;&#39; + (str: $risk_2) + &#39;&quot; &#39; +
    &#39;data-trust=&quot;&#39; + (str: $trust_2) + &#39;&quot; &#39; +
    &#39;&gt;&#39; +
    &#39;정별총&#39; +
    &#39;&lt;/span&gt;&#39;
)

(print: _jeongStar)은 스물네 살.
평양 외곽의 설비 공장에서 일하며, 공장 기숙사에서 생활한다.

1978년 어느 겨울, 그는 전기가 들어오지 않아 어두운 공장에서
커다란 새 표어를 보았다.

&lt;img src=&quot;https://i.imgur.com/9NjKMh2.png&quot; style=&quot;width: 40%; height: auto;&quot;&gt;

“제2차 7개년 계획의 빛나는 출발!”
“공업 생산 14% 성장으로 황금기를 만들자!”
&lt;/p&gt;

&lt;hr class=&quot;page-separator&quot;&gt;
&lt;ul class=&quot;custom-list&quot;&gt;
&lt;li&gt;[[제2차 7개년 계획]]&lt;/li&gt;
&lt;/ul&gt;
&lt;div&gt;
[[다음-&gt;1978년_2]]
&lt;/div&gt;



&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;

&lt;!-- 캐릭터 팝업 박스 --&gt;
&lt;div id=&quot;char-popup&quot;&gt;
  &lt;div class=&quot;popup-inner&quot;&gt;
    &lt;button class=&quot;popup-close&quot;&gt;&amp;times;&lt;/button&gt;
    &lt;div class=&quot;popup-header&quot;&gt;
      &lt;div class=&quot;char-portrait-wrap&quot;&gt;&lt;img class=&quot;char-portrait&quot;&gt;&lt;/div&gt;
      &lt;div class=&quot;char-head-text&quot;&gt;
        &lt;h3 class=&quot;char-name&quot;&gt;&lt;/h3&gt;
        &lt;ul class=&quot;char-meta&quot;&gt;
          &lt;li&gt;&lt;span&gt;나이&lt;/span&gt; &lt;span class=&quot;char-age&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;지역&lt;/span&gt; &lt;span class=&quot;char-region&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;성향&lt;/span&gt; &lt;span class=&quot;char-trait&quot;&gt;&lt;/span&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;char-stats&quot;&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;돈&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-money&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;체력&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-stamina&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;리스크&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-risk&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;신뢰&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-trust&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
    &lt;p class=&quot;char-desc&quot;&gt;&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;
</tw-passagedata><tw-passagedata pid="38" name="제2차 7개년 계획" tags="" position="750,1200" size="100,100">&lt;h1&gt;제2차 7개년 계획&lt;/h1&gt;

&lt;p&gt;&lt;strong&gt;1. 배경&lt;/strong&gt;&lt;br&gt;
직전 6개년 계획 종료 후 심화된 수송난과 원자재 부족 등 산업 불균형을 해소하기 위해 1977년을 완충기로 설정함. 이후 정비 보강을 거쳐 인민 경제의 주체화와 현대화 및 과학화를 3대 기치로 내걸고 1978년부터 새로운 장기 계획을 수립함.&lt;br&gt;&lt;br&gt;

&lt;strong&gt;2. 전개 (1978~1984)&lt;/strong&gt;&lt;br&gt;
-&amp;nbsp; 만성적인 에너지와 원자재난을 타개하기 위해 채취 공업과 전력 산업 및 수송 부문에 자본을 집중 투자함. 수력과 화력 발전소를 확충하고 철도 전철화를 추진하여 산업의 동맥인 물류 흐름을 개선하고자 함.&lt;br&gt;
-&amp;nbsp; 1980년 10월 제6차 당 대회에서 1980년대 말까지 달성할 10대 전망 목표를 제시함. 이는 김정일 후계 체제의 공식 등장을 알리고 경제적 성과를 대내외에 과시하기 위한 정치적 구호의 성격이 강했음.&lt;br&gt;
-&amp;nbsp; 부족한 경지 면적과 수자원 확보를 명분으로 서해갑문 건설과 대규모 간석지 개간 등 4대 자연 개조 사업을 강행함. 이는 경제적 효율성보다는 체제 선전을 위한 대규모 토목 공사였음.&lt;br&gt;&lt;br&gt;

&lt;strong&gt;3. 결과&lt;/strong&gt;&lt;br&gt;
- &lt;strong&gt;성과:&lt;/strong&gt; 1985년 당국은 공업 총생산액이 1977년 대비 2.2배 증가하였으며 주요 생산 목표를 달성했다고 공식 발표함.&lt;br&gt;
- &lt;strong&gt;한계:&lt;/strong&gt; 1970년대 중반 시작된 외채 상환 불이행 사태로 서방의 선진 기술 도입이 차단되어 산업 설비의 노후화가 심화됨. 실제 경제 성장률은 4퍼센트 수준으로 급락하며 본격적인 저성장 국면에 진입함.&lt;br&gt;
- &lt;strong&gt;평가:&lt;/strong&gt; 개방 정책으로 고속 성장을 지속하던 한국과 달리 폐쇄적 자력갱생 노선을 고수하여 남북한의 경제력 격차가 돌이킬 수 없이 벌어지는 결정적 분기점이 됨.&lt;/p&gt;

&lt;p style=&quot;font-size: 1.0em; border-top: 1px solid #ccc; padding-top: 10px; color: #666;&quot;&gt;
&lt;strong&gt;출처 및 참고자료&lt;/strong&gt;&lt;br&gt;
* 연하청 외, &quot;북한의 경제계획&quot;, &lt;a href=&quot;https://www.kdi.re.kr/research/reportView?&amp;pub_no=565&quot; target=&quot;_blank&quot;&gt;KDI&lt;/a&gt;&lt;br&gt;
&lt;/p&gt;


&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="39" name="1978년_2" tags="" position="600,1325" size="100,100">
&lt;h1&gt;1978년&lt;/h1&gt;

&lt;h2&gt;실패한 경제계획 . . .&lt;/h2&gt;

&lt;p&gt;그의 하루는 이렇게 흘렀다

아침 기숙사 화장실은 늘 물이 안 나와서
대야로 물을 떠다 씻어야 했다.

점심은 옥수수밥에 묽은 콩나물국.
작년보다 더 건더기가 줄었다.

공장에서는 기계가 멈춘 채로 작업자들이 한나절을 보내기도 했다.
정전이 되면 누구도 화내지도 않았다.
그냥 바닥에 쪼그리고 앉아 이야기를 나눌 뿐이었다.

“별총 동무, 결혼은 언제 하오?”
“배급도 모자란데 무슨 결혼이오.”
“허허, 나도 그렇소.”

저녁에 집에 내려가면 어머니는 늘 물을 데우고 있었다.
&lt;/p&gt;

&lt;hr class=&quot;page-separator&quot;&gt;
&lt;ul class=&quot;custom-list&quot;&gt;
&lt;li&gt;[[제2차 7개년 계획]]&lt;/li&gt;
&lt;/ul&gt;
&lt;div&gt;
[[다음-&gt;1978년_3]]
&lt;/div&gt;



&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;

&lt;!-- 캐릭터 팝업 박스 --&gt;
&lt;div id=&quot;char-popup&quot;&gt;
  &lt;div class=&quot;popup-inner&quot;&gt;
    &lt;button class=&quot;popup-close&quot;&gt;&amp;times;&lt;/button&gt;
    &lt;div class=&quot;popup-header&quot;&gt;
      &lt;div class=&quot;char-portrait-wrap&quot;&gt;&lt;img class=&quot;char-portrait&quot;&gt;&lt;/div&gt;
      &lt;div class=&quot;char-head-text&quot;&gt;
        &lt;h3 class=&quot;char-name&quot;&gt;&lt;/h3&gt;
        &lt;ul class=&quot;char-meta&quot;&gt;
          &lt;li&gt;&lt;span&gt;나이&lt;/span&gt; &lt;span class=&quot;char-age&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;지역&lt;/span&gt; &lt;span class=&quot;char-region&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;성향&lt;/span&gt; &lt;span class=&quot;char-trait&quot;&gt;&lt;/span&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;char-stats&quot;&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;돈&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-money&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;체력&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-stamina&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;리스크&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-risk&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;신뢰&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-trust&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
    &lt;p class=&quot;char-desc&quot;&gt;&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="40" name="1978년_3" tags="" position="600,1450" size="100,100">
&lt;h1&gt;1978년&lt;/h1&gt;

&lt;h2&gt;실패한 경제계획 . . .&lt;/h2&gt;

&lt;p&gt;“오늘도 수돗물이 아침에만 나오더구나.
너 올 때 가져온 감자 좀 빼놓았다.”

어머니 말투는 담담했지만,
부엌 구석 배급 일정표는 취소선과 지연 표시로 뒤덮여 있었다.

밤이면 또 정전.
(set: _jeongStar to 
    &#39;&lt;span class=&quot;char-link&quot; &#39; +
    &#39;data-name=&quot;정별총&quot; &#39; +
    &#39;data-age=&quot;24&quot; &#39; +
    &#39;data-region=&quot;평안도 평양&quot; &#39; +
    &#39;data-trait=&quot;비관적&quot; &#39; +
    &#39;data-money=&quot;&#39; + (str: $money_2) + &#39;&quot; &#39; +
    &#39;data-stamina=&quot;&#39; + (str: $stamina_2) + &#39;&quot; &#39; +
    &#39;data-risk=&quot;&#39; + (str: $risk_2) + &#39;&quot; &#39; +
    &#39;data-trust=&quot;&#39; + (str: $trust_2) + &#39;&quot; &#39; +
    &#39;&gt;&#39; +
    &#39;정별총&#39; +
    &#39;&lt;/span&gt;&#39;
)

(print: _jeongStar)은 촛불을 켜고 부서진 라디오를 만지작거리며 생각했다.

“계획은 큰데… 왜 점점 작아지는 건 우리 삶일까.”
&lt;/p&gt;

&lt;hr class=&quot;page-separator&quot;&gt;
&lt;ul class=&quot;custom-list&quot;&gt;
&lt;li&gt;[[제2차 7개년 계획]]&lt;/li&gt;
&lt;/ul&gt;
&lt;div&gt;
[[기숙사 생활을 유지하고, 국가 배급 체계에 최대한 의존한다.-&gt;1978년_4_1]]

[[집으로 자주 내려가 ‘가정 중심 생계’를 강화한다.-&gt;1978년_4_2]]

[[은밀한 가내경제(비누·바늘·빗 등 소형 물품 제작)를 병행한다.-&gt;1978년_4_3]]
&lt;/div&gt;



&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;

&lt;!-- 캐릭터 팝업 박스 --&gt;
&lt;div id=&quot;char-popup&quot;&gt;
  &lt;div class=&quot;popup-inner&quot;&gt;
    &lt;button class=&quot;popup-close&quot;&gt;&amp;times;&lt;/button&gt;
    &lt;div class=&quot;popup-header&quot;&gt;
      &lt;div class=&quot;char-portrait-wrap&quot;&gt;&lt;img class=&quot;char-portrait&quot;&gt;&lt;/div&gt;
      &lt;div class=&quot;char-head-text&quot;&gt;
        &lt;h3 class=&quot;char-name&quot;&gt;&lt;/h3&gt;
        &lt;ul class=&quot;char-meta&quot;&gt;
          &lt;li&gt;&lt;span&gt;나이&lt;/span&gt; &lt;span class=&quot;char-age&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;지역&lt;/span&gt; &lt;span class=&quot;char-region&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;성향&lt;/span&gt; &lt;span class=&quot;char-trait&quot;&gt;&lt;/span&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;char-stats&quot;&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;돈&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-money&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;체력&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-stamina&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;리스크&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-risk&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;신뢰&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-trust&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
    &lt;p class=&quot;char-desc&quot;&gt;&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="41" name="1978년_4_1" tags="" position="600,1575" size="100,100">
&lt;h1&gt;1978년&lt;/h1&gt;

&lt;h2&gt;실패한 경제계획 . . .&lt;/h2&gt;

&lt;p&gt;
&lt;은밀한 가내경제(비누·바늘·빗 등 소형 물품 제작)를 병행한다.&gt;

* 시장화 이전이지만, 이미 작은 사회적 교환(비누 ↔ 감자)이 늘어난 시기였다.
* 별총은 야간 정전 시간에 촛불 아래서 가내공업품을 만들어 주변 주민들과 교환한다.
* 수입이 아니지만, 가정의 생활 품목이 늘어나 삶의 질이 조금 개선된다.
* 다만 단속에 걸리면 “비사회주의적 행위”로 기록될 위험이 있다.
* 공장 기숙사에서 동료들 사이에 조용히 ‘생활력 강한 청년’으로 알려진다.
&lt;/p&gt;

(set:
    _moneyDiff_2 to +7,
    _staminaDiff_2 to -4,
    _riskDiff_2 to +6,
    _trustDiff_2 to -3
)

(set:
    $money_2 to $money_2 + _moneyDiff_2,
    $stamina_2 to $stamina_2 + _staminaDiff_2,
    $risk_2 to $risk_2 + _riskDiff_2,
    $trust_2 to $trust_2 + _trustDiff_2
)

&lt;p&gt;돈: +_moneyDiff_2
체력: _staminaDiff_2
리스크: +_riskDiff_2
신뢰: +_trustDiff_2&lt;/p&gt;

[[다음 -&gt;1985년_1]]

&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="42" name="1978년_4_2" tags="" position="725,1575" size="100,100">
&lt;h1&gt;1978년&lt;/h1&gt;

&lt;h2&gt;실패한 경제계획 . . .&lt;/h2&gt;

&lt;p&gt;
&lt;기숙사 생활을 유지하고, 국가 배급 체계에 최대한 의존한다.&gt;

* 식당과 공장 배급을 우선 이용해 식량 확보의 안정성은 확보된다.
* 정전·물 부족 등 불편은 계속되지만, 사상적 평가는 안정적으로 유지된다.
* 체제 충성도가 높게 기록되어 분조장·중간간부 기회가 열린다.
* 그러나 생활 환경은 열악해지고, 가족과의 유대는 점점 약해진다.
&lt;/p&gt;

(set:
    _moneyDiff_2 to +5,
    _staminaDiff_2 to -3,
    _riskDiff_2 to 1,
    _trustDiff_2 to +10
)

(set:
    $money_2 to $money_2 + _moneyDiff_2,
    $stamina_2 to $stamina_2 + _staminaDiff_2,
    $risk_2 to $risk_2 + _riskDiff_2,
    $trust_2 to $trust_2 + _trustDiff_2
)

&lt;p&gt;돈: +_moneyDiff_2
체력: _staminaDiff_2
리스크: +_riskDiff_2
신뢰: +_trustDiff_2&lt;/p&gt;

[[다음 -&gt;1985년_1]]

&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="43" name="1978년_4_3" tags="" position="475,1575" size="100,100">
&lt;h1&gt;1978년&lt;/h1&gt;

&lt;h2&gt;실패한 경제계획 . . .&lt;/h2&gt;

&lt;p&gt;
&lt;기숙사 생활을 유지하고, 국가 배급 체계에 최대한 의존한다.&gt;

* 식당과 공장 배급을 우선 이용해 식량 확보의 안정성은 확보된다.
* 정전·물 부족 등 불편은 계속되지만, 사상적 평가는 안정적으로 유지된다.
* 체제 충성도가 높게 기록되어 분조장·중간간부 기회가 열린다.
* 그러나 생활 환경은 열악해지고, 가족과의 유대는 점점 약해진다.
&lt;/p&gt;

(set:
    _moneyDiff_2 to +5,
    _staminaDiff_2 to -3,
    _riskDiff_2 to 1,
    _trustDiff_2 to +10
)

(set:
    $money_2 to $money_2 + _moneyDiff_2,
    $stamina_2 to $stamina_2 + _staminaDiff_2,
    $risk_2 to $risk_2 + _riskDiff_2,
    $trust_2 to $trust_2 + _trustDiff_2
)

&lt;p&gt;돈: +_moneyDiff_2
체력: _staminaDiff_2
리스크: +_riskDiff_2
신뢰: +_trustDiff_2&lt;/p&gt;

[[다음 -&gt;1985년_1]]

&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="44" name="1985년_1" tags="" position="900,1200" size="100,100">
&lt;h1&gt;1985년&lt;/h1&gt;

&lt;h2&gt;줄어드는 배급 . . .&lt;/h2&gt;

&lt;p&gt;1985년 여름, (set: _jeongStar to 
    &#39;&lt;span class=&quot;char-link&quot; &#39; +
    &#39;data-name=&quot;정별총&quot; &#39; +
    &#39;data-age=&quot;24&quot; &#39; +
    &#39;data-region=&quot;평안도 평양&quot; &#39; +
    &#39;data-trait=&quot;비관적&quot; &#39; +
    &#39;data-money=&quot;&#39; + (str: $money_2) + &#39;&quot; &#39; +
    &#39;data-stamina=&quot;&#39; + (str: $stamina_2) + &#39;&quot; &#39; +
    &#39;data-risk=&quot;&#39; + (str: $risk_2) + &#39;&quot; &#39; +
    &#39;data-trust=&quot;&#39; + (str: $trust_2) + &#39;&quot; &#39; +
    &#39;&gt;&#39; +
    &#39;정별총&#39; +
    &#39;&lt;/span&gt;&#39;
)

(print: _jeongStar)은 처음으로 배급소 창고가 텅 빈 광경을 보았다.
창고 담당원은 무표정하게 말했다.

“쌀은 다음 주에 다시 나옵니다.
오늘은 옥수수 300g만 받아가십시오.”

하지만 사람들은 알았다.
“다음 주”라는 말은 보통 다음 달, 아니면 아예 오지 않을 수도 있다는 것을.
&lt;/p&gt;

&lt;hr class=&quot;page-separator&quot;&gt;
&lt;ul class=&quot;custom-list&quot;&gt;
&lt;li&gt;제2차 7개년 계획&lt;/li&gt;
&lt;/ul&gt;
&lt;div&gt;
[[다음-&gt;1985년_2]]
&lt;/div&gt;



&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;

&lt;!-- 캐릭터 팝업 박스 --&gt;
&lt;div id=&quot;char-popup&quot;&gt;
  &lt;div class=&quot;popup-inner&quot;&gt;
    &lt;button class=&quot;popup-close&quot;&gt;&amp;times;&lt;/button&gt;
    &lt;div class=&quot;popup-header&quot;&gt;
      &lt;div class=&quot;char-portrait-wrap&quot;&gt;&lt;img class=&quot;char-portrait&quot;&gt;&lt;/div&gt;
      &lt;div class=&quot;char-head-text&quot;&gt;
        &lt;h3 class=&quot;char-name&quot;&gt;&lt;/h3&gt;
        &lt;ul class=&quot;char-meta&quot;&gt;
          &lt;li&gt;&lt;span&gt;나이&lt;/span&gt; &lt;span class=&quot;char-age&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;지역&lt;/span&gt; &lt;span class=&quot;char-region&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;성향&lt;/span&gt; &lt;span class=&quot;char-trait&quot;&gt;&lt;/span&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;char-stats&quot;&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;돈&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-money&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;체력&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-stamina&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;리스크&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-risk&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;신뢰&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-trust&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
    &lt;p class=&quot;char-desc&quot;&gt;&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="45" name="1985년_2" tags="" position="900,1325" size="100,100">
&lt;h1&gt;1985년&lt;/h1&gt;

&lt;h2&gt;줄어드는 배급 . . .&lt;/h2&gt;

&lt;p&gt;겨울에는 더 심했다.

석탄 배급이 절반으로 줄어 기숙사 방 온도는 한겨울에도 3~5도.

기술자들은 장갑을 끼고도 손을 떨었고, 밤에는 입김이 보였다.

(set: _jeongStar to 
    &#39;&lt;span class=&quot;char-link&quot; &#39; +
    &#39;data-name=&quot;정별총&quot; &#39; +
    &#39;data-age=&quot;24&quot; &#39; +
    &#39;data-region=&quot;평안도 평양&quot; &#39; +
    &#39;data-trait=&quot;비관적&quot; &#39; +
    &#39;data-money=&quot;&#39; + (str: $money_2) + &#39;&quot; &#39; +
    &#39;data-stamina=&quot;&#39; + (str: $stamina_2) + &#39;&quot; &#39; +
    &#39;data-risk=&quot;&#39; + (str: $risk_2) + &#39;&quot; &#39; +
    &#39;data-trust=&quot;&#39; + (str: $trust_2) + &#39;&quot; &#39; +
    &#39;&gt;&#39; +
    &#39;정별총&#39; +
    &#39;&lt;/span&gt;&#39;
)

(print: _jeongStar)은 그때 처음으로 실감했다.

“이건 단순한 일시적 어려움이 아니라…
시대가 변하고 있는 거다.”

일터에서는 설비가 멈췄고,
집에서는 연료가 떨어지고,
배급소에서는 얼굴을 들기 어려웠다.

이제 사람들은 국가가 아닌, ‘자기 방식’으로 살아야 했던 첫 세대가 되었다.
&lt;/p&gt;

&lt;hr class=&quot;page-separator&quot;&gt;
&lt;ul class=&quot;custom-list&quot;&gt;
&lt;li&gt;제2차 7개년 계획&lt;/li&gt;
&lt;/ul&gt;
&lt;div&gt;
[[음식 절약의 끝을 실험한다: 국물을 세 번 우려 먹기.-&gt;1985년_3_1]]

[[비밀 장마당에서 작은 물건을 몰래 교환한다-&gt;1985년_3_2]]

[[추운 겨울을 나기 위해 난방용 연탄을 말려쓴다-&gt;1985년_3_3]]
&lt;/div&gt;




&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;

&lt;!-- 캐릭터 팝업 박스 --&gt;
&lt;div id=&quot;char-popup&quot;&gt;
  &lt;div class=&quot;popup-inner&quot;&gt;
    &lt;button class=&quot;popup-close&quot;&gt;&amp;times;&lt;/button&gt;
    &lt;div class=&quot;popup-header&quot;&gt;
      &lt;div class=&quot;char-portrait-wrap&quot;&gt;&lt;img class=&quot;char-portrait&quot;&gt;&lt;/div&gt;
      &lt;div class=&quot;char-head-text&quot;&gt;
        &lt;h3 class=&quot;char-name&quot;&gt;&lt;/h3&gt;
        &lt;ul class=&quot;char-meta&quot;&gt;
          &lt;li&gt;&lt;span&gt;나이&lt;/span&gt; &lt;span class=&quot;char-age&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;지역&lt;/span&gt; &lt;span class=&quot;char-region&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;성향&lt;/span&gt; &lt;span class=&quot;char-trait&quot;&gt;&lt;/span&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;char-stats&quot;&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;돈&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-money&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;체력&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-stamina&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;리스크&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-risk&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;신뢰&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-trust&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
    &lt;p class=&quot;char-desc&quot;&gt;&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="46" name="1985년_3_1" tags="" position="775,1450" size="100,100">
&lt;h1&gt;1985년&lt;/h1&gt;

&lt;h2&gt;줄어드는 배급 . . .&lt;/h2&gt;

&lt;p&gt;
&lt;음식 절약의 끝을 실험한다: 국물을 세 번 우려 먹기.&gt;

* 끓인 국을 물로 여러 번 늘려 먹으며 배급이 끊기는 날에도 최소한의 끼니를 유지한다.
* 동료들과 “어떻게든 버티는 법”을 공유하며 작은 연대감과 생존 지혜가 생긴다.
* 그러나 영양이 부족해 체력이 급격히 떨어지고, 잦은 어지러움과 피로감이 나타난다.
* “이렇게까지 해야 하나…”라는 감정이 누적되며, 정별총의 사기도 서서히 약해진다.
* 생존은 가능하지만 장기적으로 건강이 크게 악화될 위험이 있다.
&lt;/p&gt;

(set:
    _moneyDiff_2 to +3,
    _staminaDiff_2 to -14,
    _riskDiff_2 to +5,
    _trustDiff_2 to -2
)

(set:
    $money_2 to $money_2 + _moneyDiff_2,
    $stamina_2 to $stamina_2 + _staminaDiff_2,
    $risk_2 to $risk_2 + _riskDiff_2,
    $trust_2 to $trust_2 + _trustDiff_2
)

&lt;p&gt;돈: +_moneyDiff_2
체력: _staminaDiff_2
리스크: +_riskDiff_2
신뢰: +_trustDiff_2&lt;/p&gt;

[[다음 -&gt;1989년_1]]

&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="47" name="1985년_3_2" tags="" position="900,1450" size="100,100">
&lt;h1&gt;1985년&lt;/h1&gt;

&lt;h2&gt;줄어드는 배급 . . .&lt;/h2&gt;

&lt;p&gt;
&lt;비밀 장마당에서 작은 물건을 몰래 교환한다.&gt;

* 기숙사 동료·농촌 친척과 연결하여 비누·소금·보리쌀을 은밀한 교환으로 확보한다.
* 생활 필수품을 스스로 해결할 수 있어 배급 의존도가 낮아지고 생계 안정성이 높아진다.
* 정보 네트워크가 생겨, 위급 상황에 도움을 주고받는 인간관계 자산이 형성된다.
* 하지만 단속 대상이 될 수 있어, 들키면 사상 비판·주의 교육 등의 위험을 감수해야 한다.
* 성공적으로 유지할 경우,  ‘초기 장마당 경제’의 일부가 된다.
&lt;/p&gt;

(set:
    _moneyDiff_2 to +12,
    _staminaDiff_2 to -4,
    _riskDiff_2 to +10,
    _trustDiff_2 to -8
)

(set:
    $money_2 to $money_2 + _moneyDiff_2,
    $stamina_2 to $stamina_2 + _staminaDiff_2,
    $risk_2 to $risk_2 + _riskDiff_2,
    $trust_2 to $trust_2 + _trustDiff_2
)

&lt;p&gt;돈: +_moneyDiff_2
체력: _staminaDiff_2
리스크: +_riskDiff_2
신뢰: +_trustDiff_2&lt;/p&gt;

[[다음 -&gt;1989년_1]]

&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="48" name="1985년_3_3" tags="" position="1025,1450" size="100,100">
&lt;h1&gt;1985년&lt;/h1&gt;

&lt;h2&gt;줄어드는 배급 . . .&lt;/h2&gt;

&lt;p&gt;
&lt;추운 겨울을 나기 위해 난방용 연탄을 말려쓴다.&gt;

* 부족한 겨울 연료를 보완하기 위해 젖은 연탄을 실내에서 말려 사용하며 난방을 유지한다.
* 혹한기에도 방 온도가 어느 정도 유지되어, 가족의 동사(凍死) 위험이 크게 줄어든다.
* 이웃들과 연탄을 서로 도와 쓰며 지역 공동체의 관계가 더 친밀해진다.
* 그러나 연탄가스 노출 위험이 높아져 두통·구토·질식 같은 건강 악화가 반복된다.
* 생존에는 도움이 되지만, 장기간 지속하면 정별총과 가족 모두의 건강이 크게 손상된다.
&lt;/p&gt;

(set:
    _moneyDiff_2 to +2,
    _staminaDiff_2 to -9,
    _riskDiff_2 to +12,
    _trustDiff_2 to 0
)

(set:
    $money_2 to $money_2 + _moneyDiff_2,
    $stamina_2 to $stamina_2 + _staminaDiff_2,
    $risk_2 to $risk_2 + _riskDiff_2,
    $trust_2 to $trust_2 + _trustDiff_2
)

&lt;p&gt;돈: +_moneyDiff_2
체력: _staminaDiff_2
리스크: +_riskDiff_2
신뢰: +_trustDiff_2&lt;/p&gt;

[[다음 -&gt;1989년_1]]

&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="49" name="1989년_1" tags="" position="1200,1200" size="100,100">
&lt;h1&gt;1989년&lt;/h1&gt;

&lt;h2&gt;바람 앞의 촛불 . . .&lt;/h2&gt;

&lt;p&gt;1988년 겨울, (set: _jeongStar to 
    &#39;&lt;span class=&quot;char-link&quot; &#39; +
    &#39;data-name=&quot;정별총&quot; &#39; +
    &#39;data-age=&quot;24&quot; &#39; +
    &#39;data-region=&quot;평안도 평양&quot; &#39; +
    &#39;data-trait=&quot;비관적&quot; &#39; +
    &#39;data-money=&quot;&#39; + (str: $money_2) + &#39;&quot; &#39; +
    &#39;data-stamina=&quot;&#39; + (str: $stamina_2) + &#39;&quot; &#39; +
    &#39;data-risk=&quot;&#39; + (str: $risk_2) + &#39;&quot; &#39; +
    &#39;data-trust=&quot;&#39; + (str: $trust_2) + &#39;&quot; &#39; +
    &#39;&gt;&#39; +
    &#39;정별총&#39; +
    &#39;&lt;/span&gt;&#39;
)

(print: _jeongStar)이 사는 공장 지역은 여느 때와 다름없이 어둠이 길었다.
석탄이 부족해 늘어나는 정전 시간, 돌아가지 않는 공장 설비,
밥 짓는 연기가 거의 없는 기숙사촌의 저녁 풍경…

그러나 평양 시내 중심부는 전혀 달랐다.

거리마다 새 포스터가 걸렸다.

“89 세계청년학생축전을 성대히!”
&lt;/p&gt;

&lt;hr class=&quot;page-separator&quot;&gt;
&lt;ul class=&quot;custom-list&quot;&gt;
&lt;li&gt;제2차 7개년 계획&lt;/li&gt;
&lt;li&gt;[[평양 세계청년학생축전]]&lt;/li&gt;
&lt;/ul&gt;
&lt;div&gt;
[[다음-&gt;1989년_2]]
&lt;/div&gt;



&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;

&lt;!-- 캐릭터 팝업 박스 --&gt;
&lt;div id=&quot;char-popup&quot;&gt;
  &lt;div class=&quot;popup-inner&quot;&gt;
    &lt;button class=&quot;popup-close&quot;&gt;&amp;times;&lt;/button&gt;
    &lt;div class=&quot;popup-header&quot;&gt;
      &lt;div class=&quot;char-portrait-wrap&quot;&gt;&lt;img class=&quot;char-portrait&quot;&gt;&lt;/div&gt;
      &lt;div class=&quot;char-head-text&quot;&gt;
        &lt;h3 class=&quot;char-name&quot;&gt;&lt;/h3&gt;
        &lt;ul class=&quot;char-meta&quot;&gt;
          &lt;li&gt;&lt;span&gt;나이&lt;/span&gt; &lt;span class=&quot;char-age&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;지역&lt;/span&gt; &lt;span class=&quot;char-region&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;성향&lt;/span&gt; &lt;span class=&quot;char-trait&quot;&gt;&lt;/span&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;char-stats&quot;&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;돈&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-money&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;체력&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-stamina&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;리스크&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-risk&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;신뢰&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-trust&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
    &lt;p class=&quot;char-desc&quot;&gt;&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="50" name="평양 세계청년학생축전" tags="" position="1325,1200" size="100,100">&lt;h1&gt;제13차 평양 세계청년학생축전&lt;/h1&gt;

&lt;img src=&quot;https://i.imgur.com/vq33sCE.png&quot; style=&quot;width: 40%; height: auto;&quot;&gt;

&lt;p&gt;&lt;strong&gt;1. 배경&lt;/strong&gt;&lt;br&gt;
1988년 서울 올림픽의 성공적 개최로 남북 체제 경쟁에서 수세에 몰리자 이를 만회하고 사회주의 체제의 건재함을 과시하기 위해 유치를 결정함. 대내외적 고립을 탈피하고 체제 우월성을 선전하려는 정치적 목적이 강했음.&lt;br&gt;&lt;br&gt;

&lt;strong&gt;2. 전개 (1989. 7)&lt;/strong&gt;&lt;br&gt;
-&amp;nbsp; 1989년 7월 평양에서 반제 연대성과 평화 및 친선을 주제로 개최됨. 177개국 2만 2천여 명의 대표단이 참가하여 북한 역사상 최대 규모의 국제 행사로 기록됨.&lt;br&gt;
-&amp;nbsp; 행사 준비에 약 45억 달러라는 천문학적인 자금을 투입함. 광복거리와 청춘거리 등 신시가지를 조성하고 릉라도 5월 1일 경기장과 양각도 국제호텔 등 대규모 건축물을 속도전으로 완공하여 도시 기반을 일신함.&lt;br&gt;
-&amp;nbsp; 남한의 전국대학생대표자협의회 대표 임수경이 제3국을 경유하여 무단 방북함. 통일의 꽃으로 불리며 환영받았으나 그의 자유분방한 언행과 옷차림은 통제된 북한 사회에 큰 문화적 충격을 안겨줌.&lt;br&gt;&lt;br&gt;

&lt;strong&gt;3. 결과&lt;/strong&gt;&lt;br&gt;
- &lt;strong&gt;성과:&lt;/strong&gt; 평양의 도시 경관을 현대화하고 대규모 국제 행사를 치러내며 정권의 조직 동원력을 대내외에 과시함.&lt;br&gt;
- &lt;strong&gt;한계:&lt;/strong&gt; 경제 규모를 넘어선 과도한 재정 지출로 국가 경제가 사실상 파산 상태에 직면함. 이는 곧이어 닥친 사회주의권 붕괴와 맞물려 1990년대 최악의 경제 위기인 고난의 행군을 불러온 결정적 요인이 됨.&lt;br&gt;
- &lt;strong&gt;평가:&lt;/strong&gt; 서울 올림픽에 대응하기 위한 무리한 체제 경쟁의 산물임. 외국 문물의 유입과 임수경의 등장은 폐쇄적인 북한 주민들에게 외부 세계에 대한 동경과 체제에 대한 의구심을 심어주는 역설적인 계기가 됨.&lt;/p&gt;

&lt;p style=&quot;font-size: 1.0em; border-top: 1px solid #ccc; padding-top: 10px; color: #666;&quot;&gt;
&lt;strong&gt;출처 및 참고자료&lt;/strong&gt;&lt;br&gt;
* 김병원, &quot;평양축전을 통한 북한의 대중동원체제 활용 : 로동신문 분석을 중심으로&quot;, &lt;a href=&quot;https://www.kdi.re.kr/research/reportView?&amp;pub_no=565&quot; target=&quot;_blank&quot;&gt;경성대학교&lt;/a&gt;&lt;br&gt;
&lt;/p&gt;


&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="51" name="1989년_2" tags="" position="1200,1325" size="100,100">
&lt;h1&gt;1989년&lt;/h1&gt;

&lt;h2&gt;바람 앞의 촛불 . . .&lt;/h2&gt;

&lt;p&gt;도로가 확장되고, 새로운 건물이 올라가고, 해외에서 들여온 장식 조명까지 달렸다.
(set: _jeongStar to 
    &#39;&lt;span class=&quot;char-link&quot; &#39; +
    &#39;data-name=&quot;정별총&quot; &#39; +
    &#39;data-age=&quot;24&quot; &#39; +
    &#39;data-region=&quot;평안도 평양&quot; &#39; +
    &#39;data-trait=&quot;비관적&quot; &#39; +
    &#39;data-money=&quot;&#39; + (str: $money_2) + &#39;&quot; &#39; +
    &#39;data-stamina=&quot;&#39; + (str: $stamina_2) + &#39;&quot; &#39; +
    &#39;data-risk=&quot;&#39; + (str: $risk_2) + &#39;&quot; &#39; +
    &#39;data-trust=&quot;&#39; + (str: $trust_2) + &#39;&quot; &#39; +
    &#39;&gt;&#39; +
    &#39;정별총&#39; +
    &#39;&lt;/span&gt;&#39;
)

(print: _jeongStar)은 처음으로 “한 도시 안에 두 나라가 있는 느낌”을 받았다.

한쪽은 축전 준비로 화려하게 치장된 정치적 쇼윈도우

다른 한쪽은 전력난·부품 부족으로 조용히 멈춰가는 현실 공장

그때 (set: _jeongStar to 
    &#39;&lt;span class=&quot;char-link&quot; &#39; +
    &#39;data-name=&quot;정별총&quot; &#39; +
    &#39;data-age=&quot;24&quot; &#39; +
    &#39;data-region=&quot;평안도 평양&quot; &#39; +
    &#39;data-trait=&quot;비관적&quot; &#39; +
    &#39;data-money=&quot;&#39; + (str: $money_2) + &#39;&quot; &#39; +
    &#39;data-stamina=&quot;&#39; + (str: $stamina_2) + &#39;&quot; &#39; +
    &#39;data-risk=&quot;&#39; + (str: $risk_2) + &#39;&quot; &#39; +
    &#39;data-trust=&quot;&#39; + (str: $trust_2) + &#39;&quot; &#39; +
    &#39;&gt;&#39; +
    &#39;정별총&#39; +
    &#39;&lt;/span&gt;&#39;
)

(print: _jeongStar)은 이미 알고 있었다.
1986년 대외채무가 10억 달러를 넘으며 경제가 비틀거리는 걸.
공장 간부도 “외화가 없어 부품 교체를 못 한다”고 수없이 말했다.

하지만 국가는 오히려 더 크게 외쳤다.

“우리는 자력갱생으로 축전을 반드시 성공시킨다!”
&lt;/p&gt;

&lt;hr class=&quot;page-separator&quot;&gt;
&lt;ul class=&quot;custom-list&quot;&gt;
&lt;li&gt;제2차 7개년 계획&lt;/li&gt;
&lt;li&gt;[[평양 세계청년학생축전]]&lt;/li&gt;
&lt;/ul&gt;
&lt;div&gt;
[[다음-&gt;1989년_3]]
&lt;/div&gt;



&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;

&lt;!-- 캐릭터 팝업 박스 --&gt;
&lt;div id=&quot;char-popup&quot;&gt;
  &lt;div class=&quot;popup-inner&quot;&gt;
    &lt;button class=&quot;popup-close&quot;&gt;&amp;times;&lt;/button&gt;
    &lt;div class=&quot;popup-header&quot;&gt;
      &lt;div class=&quot;char-portrait-wrap&quot;&gt;&lt;img class=&quot;char-portrait&quot;&gt;&lt;/div&gt;
      &lt;div class=&quot;char-head-text&quot;&gt;
        &lt;h3 class=&quot;char-name&quot;&gt;&lt;/h3&gt;
        &lt;ul class=&quot;char-meta&quot;&gt;
          &lt;li&gt;&lt;span&gt;나이&lt;/span&gt; &lt;span class=&quot;char-age&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;지역&lt;/span&gt; &lt;span class=&quot;char-region&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;성향&lt;/span&gt; &lt;span class=&quot;char-trait&quot;&gt;&lt;/span&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;char-stats&quot;&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;돈&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-money&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;체력&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-stamina&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;리스크&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-risk&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;신뢰&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-trust&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
    &lt;p class=&quot;char-desc&quot;&gt;&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="52" name="1989년_3" tags="" position="1200,1450" size="100,100">
&lt;h1&gt;1989년&lt;/h1&gt;

&lt;h2&gt;바람 앞의 촛불 . . .&lt;/h2&gt;

&lt;p&gt;이 모순적인 시대가
(set: _jeongStar to 
    &#39;&lt;span class=&quot;char-link&quot; &#39; +
    &#39;data-name=&quot;정별총&quot; &#39; +
    &#39;data-age=&quot;24&quot; &#39; +
    &#39;data-region=&quot;평안도 평양&quot; &#39; +
    &#39;data-trait=&quot;비관적&quot; &#39; +
    &#39;data-money=&quot;&#39; + (str: $money_2) + &#39;&quot; &#39; +
    &#39;data-stamina=&quot;&#39; + (str: $stamina_2) + &#39;&quot; &#39; +
    &#39;data-risk=&quot;&#39; + (str: $risk_2) + &#39;&quot; &#39; +
    &#39;data-trust=&quot;&#39; + (str: $trust_2) + &#39;&quot; &#39; +
    &#39;&gt;&#39; +
    &#39;정별총&#39; +
    &#39;&lt;/span&gt;&#39;
)

(print: _jeongStar)에게 뜻밖의 인생의 기회이자 위험을 동시에 열어주었다.

그리고 1989년 봄—
공장 총화 시간에 붉은 완장을 찬 간부가 들어왔다.

“(set: _jeongStar to 
    &#39;&lt;span class=&quot;char-link&quot; &#39; +
    &#39;data-name=&quot;정별총&quot; &#39; +
    &#39;data-age=&quot;24&quot; &#39; +
    &#39;data-region=&quot;평안도 평양&quot; &#39; +
    &#39;data-trait=&quot;비관적&quot; &#39; +
    &#39;data-money=&quot;&#39; + (str: $money_2) + &#39;&quot; &#39; +
    &#39;data-stamina=&quot;&#39; + (str: $stamina_2) + &#39;&quot; &#39; +
    &#39;data-risk=&quot;&#39; + (str: $risk_2) + &#39;&quot; &#39; +
    &#39;data-trust=&quot;&#39; + (str: $trust_2) + &#39;&quot; &#39; +
    &#39;&gt;&#39; +
    &#39;정별총&#39; +
    &#39;&lt;/span&gt;&#39;
)

(print: _jeongStar) 동무, 축전 사업 인력 후보에 올랐습니다!”

&lt;img src=&quot;https://i.imgur.com/Q9iOqkz.png&quot; style=&quot;width: 40%; height: auto;&quot;&gt;

기숙사 전체가 술렁였다.
축전은 힘들면서도… 명예롭고, 먹을 것이 더 나오고, 외국을 간접 경험할 수 있는 기회였기 때문이다.

(set: _jeongStar to 
    &#39;&lt;span class=&quot;char-link&quot; &#39; +
    &#39;data-name=&quot;정별총&quot; &#39; +
    &#39;data-age=&quot;24&quot; &#39; +
    &#39;data-region=&quot;평안도 평양&quot; &#39; +
    &#39;data-trait=&quot;비관적&quot; &#39; +
    &#39;data-money=&quot;&#39; + (str: $money_2) + &#39;&quot; &#39; +
    &#39;data-stamina=&quot;&#39; + (str: $stamina_2) + &#39;&quot; &#39; +
    &#39;data-risk=&quot;&#39; + (str: $risk_2) + &#39;&quot; &#39; +
    &#39;data-trust=&quot;&#39; + (str: $trust_2) + &#39;&quot; &#39; +
    &#39;&gt;&#39; +
    &#39;정별총&#39; +
    &#39;&lt;/span&gt;&#39;
)

(print: _jeongStar)은 또다시 새로운 갈림길 앞에 서게 된다.
&lt;/p&gt;

&lt;hr class=&quot;page-separator&quot;&gt;
&lt;ul class=&quot;custom-list&quot;&gt;
&lt;li&gt;제2차 7개년 계획&lt;/li&gt;
&lt;li&gt;[[평양 세계청년학생축전]]&lt;/li&gt;
&lt;/ul&gt;
&lt;div&gt;
[[축전 퍼레이드·집단체조 단원으로 선발되기를 신청한다-&gt;1989년_4_1]]

[[외국 대표단 안내·통역 보조에 도전한다-&gt;1989년_4_2]]

[[축전 특수를 노리고 비공식 ‘가내 장사’를 시작한다-&gt;1989년_4_3]]
&lt;/div&gt;



&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;

&lt;!-- 캐릭터 팝업 박스 --&gt;
&lt;div id=&quot;char-popup&quot;&gt;
  &lt;div class=&quot;popup-inner&quot;&gt;
    &lt;button class=&quot;popup-close&quot;&gt;&amp;times;&lt;/button&gt;
    &lt;div class=&quot;popup-header&quot;&gt;
      &lt;div class=&quot;char-portrait-wrap&quot;&gt;&lt;img class=&quot;char-portrait&quot;&gt;&lt;/div&gt;
      &lt;div class=&quot;char-head-text&quot;&gt;
        &lt;h3 class=&quot;char-name&quot;&gt;&lt;/h3&gt;
        &lt;ul class=&quot;char-meta&quot;&gt;
          &lt;li&gt;&lt;span&gt;나이&lt;/span&gt; &lt;span class=&quot;char-age&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;지역&lt;/span&gt; &lt;span class=&quot;char-region&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;성향&lt;/span&gt; &lt;span class=&quot;char-trait&quot;&gt;&lt;/span&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;char-stats&quot;&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;돈&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-money&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;체력&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-stamina&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;리스크&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-risk&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;신뢰&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-trust&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
    &lt;p class=&quot;char-desc&quot;&gt;&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="53" name="1989년_4_1" tags="" position="1075,1575" size="100,100">
&lt;h1&gt;1989년&lt;/h1&gt;

&lt;h2&gt;바람 앞의 촛불 . . .&lt;/h2&gt;

&lt;p&gt;
&lt;축전 퍼레이드·집단체조 단원으로 선발되기를 신청한다&gt;

* 매일 4~7시간 대형 군무·퍼레이드 훈련을 하게 된다.
* 훈련장에서는 배급이 비교적 안정적으로 나와 생활이 잠시 좋아진다.
* 축전 기간 동안은 전국 방송과 외국 기자단 앞에서 행진하는 “국가의 얼굴”이 된다.
* 외국 청년들이 보내는 박수와 환호는 큰 자부심을 준다.
* 그러나 훈련이 너무 고되고 본업(공장 노동)에 소홀해져 총화에서 “노력 부족” 지적이 나올 수 있다.
&lt;/p&gt;

(set:
    _moneyDiff_2 to +6,
    _staminaDiff_2 to -13,
    _riskDiff_2 to +4,
    _trustDiff_2 to +7
)

(set:
    $money_2 to $money_2 + _moneyDiff_2,
    $stamina_2 to $stamina_2 + _staminaDiff_2,
    $risk_2 to $risk_2 + _riskDiff_2,
    $trust_2 to $trust_2 + _trustDiff_2
)

&lt;p&gt;돈: +_moneyDiff_2
체력: _staminaDiff_2
리스크: +_riskDiff_2
신뢰: +_trustDiff_2&lt;/p&gt;

[[다음 -&gt;1991년_1]]

&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="54" name="1989년_4_2" tags="" position="1200,1575" size="100,100">
&lt;h1&gt;1989년&lt;/h1&gt;

&lt;h2&gt;바람 앞의 촛불 . . .&lt;/h2&gt;

&lt;p&gt;
&lt;외국 대표단 안내·통역 보조에 도전한다.&gt;

* 평양 시내의 새 시설(호텔·경기장·전시장)에 배치되어
외국인과 직접 접촉하는 역할을 맡는다.
* 외국인이 준 사소한 선물(초콜릿, 볼펜)조차 가족 생계에 큰 도움이 된다.
* 시내 이동이 잦고, 급식이 좋아져 생활 수준이 크게 상승한다.
* 외국 문화를 접하며 세계를 이해하는 시야가 생긴다.
* 단, 지나친 호기심이나 외국산 물품 소지로 “사상 검토 대상”이 될 위험이 있다.
&lt;/p&gt;

(set:
    _moneyDiff_2 to +14,
    _staminaDiff_2 to -3,
    _riskDiff_2 to +11,
    _trustDiff_2 to +6
)

(set:
    $money_2 to $money_2 + _moneyDiff_2,
    $stamina_2 to $stamina_2 + _staminaDiff_2,
    $risk_2 to $risk_2 + _riskDiff_2,
    $trust_2 to $trust_2 + _trustDiff_2
)

&lt;p&gt;돈: +_moneyDiff_2
체력: _staminaDiff_2
리스크: +_riskDiff_2
신뢰: +_trustDiff_2&lt;/p&gt;

[[다음 -&gt;1991년_1]]

&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="55" name="1989년_4_3" tags="" position="1325,1575" size="100,100">
&lt;h1&gt;1989년&lt;/h1&gt;

&lt;h2&gt;바람 앞의 촛불 . . .&lt;/h2&gt;

&lt;p&gt;
&lt;축전 특수를 노리고 비공식 ‘가내 장사’를 시작한다.&gt;

* 축전 기간 평양으로 들어오는 인원들이 폭증해
비누·빗·수건·담배·국수 등 모든 물건의 가격이 올라간다.
* 어머니와 함께 만든 작은 공예품이나 비누를 축전 손님들에게 몰래 판매할 수 있다.
* 성공하면 몇 달 치 배급보다 큰 수입을 얻어 가족을 안정시킬 수 있다.
* 이웃과의 비밀 네트워크가 생기며 새로운 세계가 열리기 시작한다.
* 단속에 걸릴 위험은 있지만, 당시엔 축전 준비로 감시가 다소 느슨해진 틈이 있었다.
&lt;/p&gt;

(set:
    _moneyDiff_2 to +15,
    _staminaDiff_2 to -6,
    _riskDiff_2 to +9,
    _trustDiff_2 to -7
)

(set:
    $money_2 to $money_2 + _moneyDiff_2,
    $stamina_2 to $stamina_2 + _staminaDiff_2,
    $risk_2 to $risk_2 + _riskDiff_2,
    $trust_2 to $trust_2 + _trustDiff_2
)

&lt;p&gt;돈: +_moneyDiff_2
체력: _staminaDiff_2
리스크: +_riskDiff_2
신뢰: +_trustDiff_2&lt;/p&gt;

[[다음 -&gt;1991년_1]]

&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="56" name="1991년_1" tags="" position="1500,1200" size="100,100">
&lt;h1&gt;1991년&lt;/h1&gt;

&lt;h2&gt;소련의 붕괴 . . .&lt;/h2&gt;

&lt;p&gt;(set: _jeongStar to 
    &#39;&lt;span class=&quot;char-link&quot; &#39; +
    &#39;data-name=&quot;정별총&quot; &#39; +
    &#39;data-age=&quot;24&quot; &#39; +
    &#39;data-region=&quot;평안도 평양&quot; &#39; +
    &#39;data-trait=&quot;비관적&quot; &#39; +
    &#39;data-money=&quot;&#39; + (str: $money_2) + &#39;&quot; &#39; +
    &#39;data-stamina=&quot;&#39; + (str: $stamina_2) + &#39;&quot; &#39; +
    &#39;data-risk=&quot;&#39; + (str: $risk_2) + &#39;&quot; &#39; +
    &#39;data-trust=&quot;&#39; + (str: $trust_2) + &#39;&quot; &#39; +
    &#39;&gt;&#39; +
    &#39;정별총&#39; +
    &#39;&lt;/span&gt;&#39;
)

(print: _jeongStar)이 일하던 공장은 새해 첫날부터 정전이었다.

“왜 이렇게 자주 끊기는 거요?”
“소련에서 기름이 안 들어온답디다.”
“왜요?”
“나라가 없어졌다오.”

동료의 말은 농담처럼 들렸지만, 모두 알고 있었다.
몇 달 전부터 소문은 이미 돌고 있었다.

그리고 1991년 12월,
실제로 소련이 해체되었다.
&lt;/p&gt;

&lt;hr class=&quot;page-separator&quot;&gt;
&lt;ul class=&quot;custom-list&quot;&gt;
&lt;li&gt;제2차 7개년 계획&lt;/li&gt;
&lt;li&gt;평양 세계청년학생축전&lt;/li&gt;
&lt;li&gt;[[소련 붕괴]]&lt;/li&gt;
&lt;/ul&gt;
&lt;div&gt;
[[다음-&gt;1991년_2]]
&lt;/div&gt;



&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;

&lt;!-- 캐릭터 팝업 박스 --&gt;
&lt;div id=&quot;char-popup&quot;&gt;
  &lt;div class=&quot;popup-inner&quot;&gt;
    &lt;button class=&quot;popup-close&quot;&gt;&amp;times;&lt;/button&gt;
    &lt;div class=&quot;popup-header&quot;&gt;
      &lt;div class=&quot;char-portrait-wrap&quot;&gt;&lt;img class=&quot;char-portrait&quot;&gt;&lt;/div&gt;
      &lt;div class=&quot;char-head-text&quot;&gt;
        &lt;h3 class=&quot;char-name&quot;&gt;&lt;/h3&gt;
        &lt;ul class=&quot;char-meta&quot;&gt;
          &lt;li&gt;&lt;span&gt;나이&lt;/span&gt; &lt;span class=&quot;char-age&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;지역&lt;/span&gt; &lt;span class=&quot;char-region&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;성향&lt;/span&gt; &lt;span class=&quot;char-trait&quot;&gt;&lt;/span&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;char-stats&quot;&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;돈&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-money&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;체력&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-stamina&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;리스크&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-risk&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;신뢰&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-trust&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
    &lt;p class=&quot;char-desc&quot;&gt;&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="57" name="1991년_2" tags="" position="1500,1325" size="100,100">
&lt;h1&gt;1991년&lt;/h1&gt;

&lt;h2&gt;소련의 붕괴 . . .&lt;/h2&gt;

&lt;p&gt;그날부터 북한이 받던 값싼 원유, 비료, 식량, 공장 설비는
모두 사라졌다.

(set: _jeongStar to 
    &#39;&lt;span class=&quot;char-link&quot; &#39; +
    &#39;data-name=&quot;정별총&quot; &#39; +
    &#39;data-age=&quot;24&quot; &#39; +
    &#39;data-region=&quot;평안도 평양&quot; &#39; +
    &#39;data-trait=&quot;비관적&quot; &#39; +
    &#39;data-money=&quot;&#39; + (str: $money_2) + &#39;&quot; &#39; +
    &#39;data-stamina=&quot;&#39; + (str: $stamina_2) + &#39;&quot; &#39; +
    &#39;data-risk=&quot;&#39; + (str: $risk_2) + &#39;&quot; &#39; +
    &#39;data-trust=&quot;&#39; + (str: $trust_2) + &#39;&quot; &#39; +
    &#39;&gt;&#39; +
    &#39;정별총&#39; +
    &#39;&lt;/span&gt;&#39;
)

(print: _jeongStar)은 손전등을 들고 정전된 기숙사 복도를 걸었다.
멀리서 라디오 한 대가 겨우 잡히는 목소리로 말했다.

“원유 수입 감소… 무역 정체… 임시 생산 조정…”

그가 속으로 중얼거렸다.

“축전 때는 세계가 우리를 본다더니…
이제는 우리를 도울 나라가 없어졌구나.”
&lt;/p&gt;

&lt;hr class=&quot;page-separator&quot;&gt;
&lt;ul class=&quot;custom-list&quot;&gt;
&lt;li&gt;제2차 7개년 계획&lt;/li&gt;
&lt;li&gt;평양 세계청년학생축전&lt;/li&gt;
&lt;li&gt;[[소련 붕괴]]&lt;/li&gt;
&lt;/ul&gt;
&lt;div&gt;
[[다음-&gt;1991년_3]]
&lt;/div&gt;



&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;

&lt;!-- 캐릭터 팝업 박스 --&gt;
&lt;div id=&quot;char-popup&quot;&gt;
  &lt;div class=&quot;popup-inner&quot;&gt;
    &lt;button class=&quot;popup-close&quot;&gt;&amp;times;&lt;/button&gt;
    &lt;div class=&quot;popup-header&quot;&gt;
      &lt;div class=&quot;char-portrait-wrap&quot;&gt;&lt;img class=&quot;char-portrait&quot;&gt;&lt;/div&gt;
      &lt;div class=&quot;char-head-text&quot;&gt;
        &lt;h3 class=&quot;char-name&quot;&gt;&lt;/h3&gt;
        &lt;ul class=&quot;char-meta&quot;&gt;
          &lt;li&gt;&lt;span&gt;나이&lt;/span&gt; &lt;span class=&quot;char-age&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;지역&lt;/span&gt; &lt;span class=&quot;char-region&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;성향&lt;/span&gt; &lt;span class=&quot;char-trait&quot;&gt;&lt;/span&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;char-stats&quot;&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;돈&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-money&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;체력&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-stamina&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;리스크&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-risk&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;신뢰&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-trust&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
    &lt;p class=&quot;char-desc&quot;&gt;&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="58" name="1991년_3" tags="" position="1500,1450" size="100,100">
&lt;h1&gt;1991년&lt;/h1&gt;

&lt;h2&gt;소련의 붕괴 . . .&lt;/h2&gt;

&lt;p&gt;(set: _jeongStar to 
    &#39;&lt;span class=&quot;char-link&quot; &#39; +
    &#39;data-name=&quot;정별총&quot; &#39; +
    &#39;data-age=&quot;24&quot; &#39; +
    &#39;data-region=&quot;평안도 평양&quot; &#39; +
    &#39;data-trait=&quot;비관적&quot; &#39; +
    &#39;data-money=&quot;&#39; + (str: $money_2) + &#39;&quot; &#39; +
    &#39;data-stamina=&quot;&#39; + (str: $stamina_2) + &#39;&quot; &#39; +
    &#39;data-risk=&quot;&#39; + (str: $risk_2) + &#39;&quot; &#39; +
    &#39;data-trust=&quot;&#39; + (str: $trust_2) + &#39;&quot; &#39; +
    &#39;&gt;&#39; +
    &#39;정별총&#39; +
    &#39;&lt;/span&gt;&#39;
)

(print: _jeongStar)은 퇴근길에 시장을 스쳤다.
비누와 성냥, 고추가 올라간 가격표가 붙어 있었다.

몇 년 전만 해도 국가 배급만 믿으면 되었지만
이제는 사람들 스스로 장사·교환을 해서 살아야 했다.
&lt;/p&gt;

&lt;hr class=&quot;page-separator&quot;&gt;
&lt;ul class=&quot;custom-list&quot;&gt;
&lt;li&gt;제2차 7개년 계획&lt;/li&gt;
&lt;li&gt;평양 세계청년학생축전&lt;/li&gt;
&lt;li&gt;[[소련 붕괴]]&lt;/li&gt;
&lt;/ul&gt;
&lt;div&gt;
[[다음-&gt;1991년_4]]
&lt;/div&gt;



&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;

&lt;!-- 캐릭터 팝업 박스 --&gt;
&lt;div id=&quot;char-popup&quot;&gt;
  &lt;div class=&quot;popup-inner&quot;&gt;
    &lt;button class=&quot;popup-close&quot;&gt;&amp;times;&lt;/button&gt;
    &lt;div class=&quot;popup-header&quot;&gt;
      &lt;div class=&quot;char-portrait-wrap&quot;&gt;&lt;img class=&quot;char-portrait&quot;&gt;&lt;/div&gt;
      &lt;div class=&quot;char-head-text&quot;&gt;
        &lt;h3 class=&quot;char-name&quot;&gt;&lt;/h3&gt;
        &lt;ul class=&quot;char-meta&quot;&gt;
          &lt;li&gt;&lt;span&gt;나이&lt;/span&gt; &lt;span class=&quot;char-age&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;지역&lt;/span&gt; &lt;span class=&quot;char-region&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;성향&lt;/span&gt; &lt;span class=&quot;char-trait&quot;&gt;&lt;/span&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;char-stats&quot;&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;돈&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-money&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;체력&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-stamina&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;리스크&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-risk&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;신뢰&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-trust&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
    &lt;p class=&quot;char-desc&quot;&gt;&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="59" name="1991년_4" tags="" position="1500,1575" size="100,100">
&lt;h1&gt;1991년&lt;/h1&gt;

&lt;h2&gt;소련의 붕괴 . . .&lt;/h2&gt;

&lt;p&gt;나라 전체가 마치 한꺼번에 겨울에 던져진 기분이었다.

철도는 멈췄고
기름이 없어서 버스는 서너 번밖에 다니지 않았다.
양초와 라디오 배터리는 금값이 되었고
“돈이 있어도 물건이 없다”는 말이 처음 등장했다.

이제 (set: _jeongStar to 
    &#39;&lt;span class=&quot;char-link&quot; &#39; +
    &#39;data-name=&quot;정별총&quot; &#39; +
    &#39;data-age=&quot;24&quot; &#39; +
    &#39;data-region=&quot;평안도 평양&quot; &#39; +
    &#39;data-trait=&quot;비관적&quot; &#39; +
    &#39;data-money=&quot;&#39; + (str: $money_2) + &#39;&quot; &#39; +
    &#39;data-stamina=&quot;&#39; + (str: $stamina_2) + &#39;&quot; &#39; +
    &#39;data-risk=&quot;&#39; + (str: $risk_2) + &#39;&quot; &#39; +
    &#39;data-trust=&quot;&#39; + (str: $trust_2) + &#39;&quot; &#39; +
    &#39;&gt;&#39; +
    &#39;정별총&#39; +
    &#39;&lt;/span&gt;&#39;
)

(print: _jeongStar)은
더 이상 “국가가 지켜줄 것”이라고 믿을 수 없는 시대에 들어섰다.
&lt;/p&gt;

&lt;hr class=&quot;page-separator&quot;&gt;
&lt;ul class=&quot;custom-list&quot;&gt;
&lt;li&gt;제2차 7개년 계획&lt;/li&gt;
&lt;li&gt;평양 세계청년학생축전&lt;/li&gt;
&lt;li&gt;[[소련 붕괴]]&lt;/li&gt;
&lt;/ul&gt;
&lt;div&gt;
[[고장난 라디오·전등을 고쳐주는 ‘동네 기술자’로 변신한다-&gt;1991년_5_1]]
[[골짜기마다 식량은 있다, 산에서의 채집-&gt;1991년_5_2]]
[[“소련 상선이 남긴 물건이 돈이다” 외국 물건 암거래 네트워크에 뛰어든다-&gt;1991년_5_3]]
&lt;/div&gt;



&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;

&lt;!-- 캐릭터 팝업 박스 --&gt;
&lt;div id=&quot;char-popup&quot;&gt;
  &lt;div class=&quot;popup-inner&quot;&gt;
    &lt;button class=&quot;popup-close&quot;&gt;&amp;times;&lt;/button&gt;
    &lt;div class=&quot;popup-header&quot;&gt;
      &lt;div class=&quot;char-portrait-wrap&quot;&gt;&lt;img class=&quot;char-portrait&quot;&gt;&lt;/div&gt;
      &lt;div class=&quot;char-head-text&quot;&gt;
        &lt;h3 class=&quot;char-name&quot;&gt;&lt;/h3&gt;
        &lt;ul class=&quot;char-meta&quot;&gt;
          &lt;li&gt;&lt;span&gt;나이&lt;/span&gt; &lt;span class=&quot;char-age&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;지역&lt;/span&gt; &lt;span class=&quot;char-region&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;성향&lt;/span&gt; &lt;span class=&quot;char-trait&quot;&gt;&lt;/span&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;char-stats&quot;&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;돈&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-money&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;체력&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-stamina&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;리스크&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-risk&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;신뢰&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-trust&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
    &lt;p class=&quot;char-desc&quot;&gt;&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="60" name="1991년_5_1" tags="" position="1375,1700" size="100,100">
&lt;h1&gt;1991년&lt;/h1&gt;

&lt;h2&gt;소련의 붕괴 . . .&lt;/h2&gt;

&lt;p&gt;
&lt;고장난 라디오·전등을 고쳐주는 ‘동네 기술자’로 변신한다&gt;

* 공장에서 남는 시간을 이용해 라디오·손전등·난로 등을 수리한다.
* 돈 대신 식량·연탄·소금·감자로 교환받는다.
* 빠르게 ‘정보의 허브’가 되어, 동네 사람들의 신뢰가 생긴다.
* 사상적 위험은 거의 없으며, 오히려 “생활 능력 좋은 노동자”로 평가될 수 있다.
* 하루가 너무 바빠지고, 본업이 흐트러질 위험이 있다.
&lt;/p&gt;

(set:
    _moneyDiff_2 to +10,
    _staminaDiff_2 to -7,
    _riskDiff_2 to +3,
    _trustDiff_2 to +5
)

(set:
    $money_2 to $money_2 + _moneyDiff_2,
    $stamina_2 to $stamina_2 + _staminaDiff_2,
    $risk_2 to $risk_2 + _riskDiff_2,
    $trust_2 to $trust_2 + _trustDiff_2
)

&lt;p&gt;돈: +_moneyDiff_2
체력: _staminaDiff_2
리스크: +_riskDiff_2
신뢰: +_trustDiff_2&lt;/p&gt;

[[다음 -&gt;1993년_1]]

&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="61" name="1991년_5_2" tags="" position="1500,1700" size="100,100">
&lt;h1&gt;1991년&lt;/h1&gt;

&lt;h2&gt;소련의 붕괴 . . .&lt;/h2&gt;

&lt;p&gt;
&lt;골짜기마다 식량은 있다, 산에서의 채집&gt;

* 고향에 내려가 어머니와 함께 산채 채집 루틴을 만든다.
* 배급이 멈춰도 최소한 “굶지는 않는다”.
* 마을 어르신들과 유대가 살아나고, 공동체 기반이 강해진다.
* 체력은 줄고, 노동 강도는 매우 높다.
* 도시 생활은 포기하고 “가족 중심 생존 전략”으로 전환됨.
&lt;/p&gt;

(set:
    _moneyDiff_2 to +8,
    _staminaDiff_2 to -12,
    _riskDiff_2 to +4,
    _trustDiff_2 to -5
)

(set:
    $money_2 to $money_2 + _moneyDiff_2,
    $stamina_2 to $stamina_2 + _staminaDiff_2,
    $risk_2 to $risk_2 + _riskDiff_2,
    $trust_2 to $trust_2 + _trustDiff_2
)

&lt;p&gt;돈: +_moneyDiff_2
체력: _staminaDiff_2
리스크: +_riskDiff_2
신뢰: +_trustDiff_2&lt;/p&gt;

[[다음 -&gt;1993년_1]]

&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="62" name="1991년_5_3" tags="" position="1625,1700" size="100,100">
&lt;h1&gt;1991년&lt;/h1&gt;

&lt;h2&gt;소련의 붕괴 . . .&lt;/h2&gt;

&lt;p&gt;
&lt;“소련 상선이 남긴 물건이 돈이다” 외국 물건 암거래 네트워크에 뛰어든다&gt;

* 작은 외국 물건 하나가 쌀 10~20kg과 교환되기도 한다.
* 가족의 생계가 갑자기 안정된다.
* 도시 장마당에서 정보력이 높아짐.
* 하지만 “왜 외국 물건이 너에게 있느냐”는 사상 비판 가능성.
* 불법 조직을 잘못 만나면 위험할 수 있음.
&lt;/p&gt;

(set:
    _moneyDiff_2 to +15,
    _staminaDiff_2 to -5,
    _riskDiff_2 to +14,
    _trustDiff_2 to -10
)

(set:
    $money_2 to $money_2 + _moneyDiff_2,
    $stamina_2 to $stamina_2 + _staminaDiff_2,
    $risk_2 to $risk_2 + _riskDiff_2,
    $trust_2 to $trust_2 + _trustDiff_2
)

&lt;p&gt;돈: +_moneyDiff_2
체력: _staminaDiff_2
리스크: +_riskDiff_2
신뢰: +_trustDiff_2&lt;/p&gt;

[[다음 -&gt;1993년_1]]

&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="63" name="1993년_1" tags="" position="1800,1200" size="100,100">
&lt;h1&gt;1993년&lt;/h1&gt;

&lt;h2&gt;경제 정상화의 가능성 . . .&lt;/h2&gt;

&lt;p&gt;1993년 겨울이 가까워지자, 공장에서는 밤마다 회의가 열렸고
지도원은 반복해서 말했다.

“올해부터 실시되는 3년 과도 경제정책은 반드시 완수해야 합니다.
전력, 석탄, 운수를 정상화하지 못하면 나라의 앞날이 없습니다.”

하지만 아무리 과업을 외쳐도
(set: _jeongStar to 
    &#39;&lt;span class=&quot;char-link&quot; &#39; +
    &#39;data-name=&quot;정별총&quot; &#39; +
    &#39;data-age=&quot;24&quot; &#39; +
    &#39;data-region=&quot;평안도 평양&quot; &#39; +
    &#39;data-trait=&quot;비관적&quot; &#39; +
    &#39;data-money=&quot;&#39; + (str: $money_2) + &#39;&quot; &#39; +
    &#39;data-stamina=&quot;&#39; + (str: $stamina_2) + &#39;&quot; &#39; +
    &#39;data-risk=&quot;&#39; + (str: $risk_2) + &#39;&quot; &#39; +
    &#39;data-trust=&quot;&#39; + (str: $trust_2) + &#39;&quot; &#39; +
    &#39;&gt;&#39; +
    &#39;정별총&#39; +
    &#39;&lt;/span&gt;&#39;
)

(print: _jeongStar)의 집안 사정은 나아지지 않았다.
배급은 자주 밀렸고, 전기는 하루에 몇 번씩 나갔다.

그러던 1994년 7월,
스피커에서 갑작스러운 소식이 들려왔다.
&lt;/p&gt;
&lt;p&gt;

&lt;hr class=&quot;page-separator&quot;&gt;
&lt;ul class=&quot;custom-list&quot;&gt;
&lt;li&gt;제2차 7개년 계획&lt;/li&gt;
&lt;li&gt;평양 세계청년학생축전&lt;/li&gt;
&lt;li&gt;소련 붕괴&lt;/li&gt;
&lt;li&gt;[[3년 정책]]&lt;/li&gt;
&lt;/ul&gt;
&lt;div&gt;
[[다음-&gt;1994년_1]]
&lt;/div&gt;



&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;

&lt;!-- 캐릭터 팝업 박스 --&gt;
&lt;div id=&quot;char-popup&quot;&gt;
  &lt;div class=&quot;popup-inner&quot;&gt;
    &lt;button class=&quot;popup-close&quot;&gt;&amp;times;&lt;/button&gt;
    &lt;div class=&quot;popup-header&quot;&gt;
      &lt;div class=&quot;char-portrait-wrap&quot;&gt;&lt;img class=&quot;char-portrait&quot;&gt;&lt;/div&gt;
      &lt;div class=&quot;char-head-text&quot;&gt;
        &lt;h3 class=&quot;char-name&quot;&gt;&lt;/h3&gt;
        &lt;ul class=&quot;char-meta&quot;&gt;
          &lt;li&gt;&lt;span&gt;나이&lt;/span&gt; &lt;span class=&quot;char-age&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;지역&lt;/span&gt; &lt;span class=&quot;char-region&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;성향&lt;/span&gt; &lt;span class=&quot;char-trait&quot;&gt;&lt;/span&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;char-stats&quot;&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;돈&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-money&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;체력&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-stamina&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;리스크&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-risk&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;신뢰&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-trust&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
    &lt;p class=&quot;char-desc&quot;&gt;&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="64" name="소련 붕괴" tags="" position="1625,1325" size="100,100">&lt;h1&gt;소련 붕괴와 북한의 위기&lt;/h1&gt;

&lt;img src=&quot;https://i.imgur.com/97yM7YZ.png&quot; style=&quot;width: 40%; height: auto;&quot;&gt;

&lt;p&gt;&lt;strong&gt;1. 배경&lt;/strong&gt;&lt;br&gt;
북한은 정권 수립 이후 소련을 정치 군사적 후견인이자 최대 경제 원조국으로 삼음. 원유와 무기 및 핵심 산업 설비의 대소 의존도가 절대적이었으며 우호 가격이라는 특혜 속에 구상무역 형태로 경제를 지탱함. 1980년대 후반 고르바초프의 개혁 개방 정책으로 양국 관계에 이상 기류가 감지되기 시작함.&lt;br&gt;&lt;br&gt;

&lt;strong&gt;2. 전개 (1990~1991)&lt;/strong&gt;&lt;br&gt;
-&amp;nbsp; 1990년 9월 최대 우방국이던 소련이 한국과 수교를 맺자 북한은 이를 배신 행위로 규정하고 극렬히 반발함. 평양 주재 소련 특파원을 추방하고 관영 매체를 통해 수정주의라 비난하며 외교 관계가 급속도로 냉각됨.&lt;br&gt;
-&amp;nbsp; 1991년 12월 소련이 공식 해체되면서 북한 안보와 경제의 핵심 축이 무너짐. 승계국인 러시아는 옐친 정부 출범 직후 북한에 대한 우호 가격 적용을 폐지하고 모든 무역 결제를 국제 시세에 맞춘 달러 현금으로 할 것을 통보함.&lt;br&gt;
-&amp;nbsp; 동유럽 사회주의 국가들의 연쇄적인 체제 전환을 목격한 북한 지도부는 우리 식대로 살자라는 구호를 내걸음. 외부 사조의 유입을 철저히 차단하고 주민 통제를 강화하며 체제 단속에 총력을 기울임.&lt;br&gt;&lt;br&gt;

&lt;strong&gt;3. 결과&lt;/strong&gt;&lt;br&gt;
- &lt;strong&gt;성과:&lt;/strong&gt; 동유럽과 달리 수령 유일 지배 체제의 강력한 통제력을 바탕으로 정권 붕괴라는 최악의 시나리오는 모면함. 독자적 생존을 위한 사상적 결속을 다짐.&lt;br&gt;
- &lt;strong&gt;한계:&lt;/strong&gt; 원유 공급 중단과 수출 시장 상실로 경제가 마비됨. 1990년대 초반 마이너스 성장이 고착화되었으며 비료와 연료 부족은 농업 기반 붕괴로 이어져 식량난을 가속화함.&lt;br&gt;
- &lt;strong&gt;평가:&lt;/strong&gt; 북한 경제 몰락과 고난의 행군을 촉발한 결정적 외부 요인임. 재래식 전력 증강이 불가능해지자 체제 생존을 위해 핵무기 개발에 모든 역량을 집중하게 되는 분기점이 됨.&lt;/p&gt;

&lt;p style=&quot;font-size: 1.0em; border-top: 1px solid #ccc; padding-top: 10px; color: #666;&quot;&gt;
&lt;strong&gt;출처 및 참고자료&lt;/strong&gt;&lt;br&gt;
* Marcus Noland 외, &quot;Rigorous Speculation: The Collapse and Revival of the North Korean Economy&quot;, &lt;a href=&quot;https://www.sciencedirect.com/science/article/abs/pii/S0305750X00000577&quot; target=&quot;_blank&quot;&gt;&lt;/a&gt;&lt;br&gt;
* Fyodor Tertitskiy, &quot;Goodbye, Gorby: How North Korea saw the final days of the Soviet Union&quot;, &lt;a href=&quot;https://www.nknews.org/2018/08/goodbye-gorby-how-north-korea-saw-the-final-days-of-the-soviet-union/&quot; target=&quot;_blank&quot;&gt;&lt;/a&gt;&lt;br&gt;
&lt;/p&gt;


&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="65" name="3년 정책" tags="" position="1925,1200" size="100,100">&lt;h1&gt;3년 정책&lt;/h1&gt;

&lt;p&gt;&lt;strong&gt;1. 배경&lt;/strong&gt;&lt;br&gt;
1993년 12월 당 중앙위원회 제6기 21차 전원회의에서 제3차 7개년 계획의 실패를 공식 인정함. 소련과 동구권의 붕괴로 인한 대외 경제 환경 악화와 내부 자원 고갈로 기존의 성장 목표 달성이 불가능해짐. 이에 차기 장기 계획 수립을 보류하고 1994년부터 1996년까지 3년간을 사회주의 경제 건설의 완충기로 설정함.&lt;br&gt;&lt;br&gt;

&lt;strong&gt;2. 전개 (1994~1996)&lt;/strong&gt;&lt;br&gt;
-&amp;nbsp; 농업과 경공업 및 무역을 3대 전략 부문으로 설정하는 혁명적 경제 전략을 채택함. 만성적인 식량난과 생필품 부족을 해결하고 달러 결제 시스템으로 바뀐 무역 환경에 대응해 외화 획득을 극대화하려는 생존형 전략이었음.&lt;br&gt;
-&amp;nbsp; 기존의 중공업 우선 정책을 일시적으로 후순위로 미루고 먹는 문제와 쓰는 문제 해결에 역량을 집중함. 이를 뒷받침하기 위해 석탄 공업과 전력 공업 및 철도 운수 부문을 선행관으로 지정하여 우선적으로 지원함.&lt;br&gt;
-&amp;nbsp; 1994년 7월 김일성 사망이라는 국가적 변 사태와 연이은 대홍수 등 자연재해가 겹치며 정책 수행에 치명적인 차질이 빚어짐. 당초 설정한 완충기는 유훈 통치와 맞물려 정상적인 경제 운용이 불가능한 혼란기로 변질됨.&lt;br&gt;&lt;br&gt;

&lt;strong&gt;3. 결과&lt;/strong&gt;&lt;br&gt;
- &lt;strong&gt;성과:&lt;/strong&gt; 중공업 일변도의 경직된 노선에서 벗어나 제한적이나마 현실적인 생존 전략을 모색함. 나진 선봉 경제 무역 지대 설치 등 대외 개방을 위한 법적 제도적 장치를 마련하는 계기가 됨.&lt;br&gt;
- &lt;strong&gt;한계:&lt;/strong&gt; 에너지난과 원자재난이라는 구조적 모순을 해결하지 못해 정책이 구호에 그침. 농업 제일주의를 표방했음에도 불구하고 비료와 전력 부족으로 1995년부터 최악의 대기근이 발생함.&lt;br&gt;
- &lt;strong&gt;평가:&lt;/strong&gt; 북한 당국의 의도와 달리 중앙 통제형 계획 경제 시스템이 붕괴되는 시발점이 됨. 국가 배급망이 마비되면서 고난의 행군이 본격화되었고 생존을 위한 자생적 시장인 장마당이 태동하는 배경이 됨.&lt;/p&gt;


&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="66" name="1994년_1" tags="" position="1800,1450" size="100,100">
&lt;h1&gt;1994년&lt;/h1&gt;

&lt;h2&gt;태양이 저물고 . . .&lt;/h2&gt;

&lt;p&gt;“김일성 주석님께서 서거하셨다…”

&lt;img src=&quot;https://i.imgur.com/2Cg35lX.png&quot; style=&quot;width: 40%; height: auto;&quot;&gt;

마을 전체가 흐느끼고,
며칠 동안 모든 직장은 ‘정치학습’, ‘애도모임’이 이어졌다.
사람들은 서로 표정조차 조심했다.

얼마 지나지 않아 공장 지도원이 정온건을 불렀다.

“정동무, 전력 관리 분조 책임을 맡아야 하겠소.
지금 전력난이 심각하니 분조가 제대로 움직여야 하오.”

(set: _jeongStar to 
    &#39;&lt;span class=&quot;char-link&quot; &#39; +
    &#39;data-name=&quot;정별총&quot; &#39; +
    &#39;data-age=&quot;24&quot; &#39; +
    &#39;data-region=&quot;평안도 평양&quot; &#39; +
    &#39;data-trait=&quot;비관적&quot; &#39; +
    &#39;data-money=&quot;&#39; + (str: $money_2) + &#39;&quot; &#39; +
    &#39;data-stamina=&quot;&#39; + (str: $stamina_2) + &#39;&quot; &#39; +
    &#39;data-risk=&quot;&#39; + (str: $risk_2) + &#39;&quot; &#39; +
    &#39;data-trust=&quot;&#39; + (str: $trust_2) + &#39;&quot; &#39; +
    &#39;&gt;&#39; +
    &#39;정별총&#39; +
    &#39;&lt;/span&gt;&#39;
)

(print: _jeongStar)은 말없이 듣고 있었다.
분조 책임을 맡으면 상급의 신뢰를 얻을 수 있고,
경제난 속에서 배급도 조금 나아질 가능성이 있었다.
&lt;/p&gt;
&lt;p&gt;

&lt;hr class=&quot;page-separator&quot;&gt;
&lt;ul class=&quot;custom-list&quot;&gt;
&lt;li&gt;제2차 7개년 계획&lt;/li&gt;
&lt;li&gt;평양 세계청년학생축전&lt;/li&gt;
&lt;li&gt;소련 붕괴&lt;/li&gt;
&lt;li&gt;3년 정책&lt;/li&gt;
&lt;li&gt;[[김일성 사망]]&lt;/li&gt;
&lt;/ul&gt;
&lt;div&gt;
[[다음-&gt;1994년_2]]
&lt;/div&gt;



&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;

&lt;!-- 캐릭터 팝업 박스 --&gt;
&lt;div id=&quot;char-popup&quot;&gt;
  &lt;div class=&quot;popup-inner&quot;&gt;
    &lt;button class=&quot;popup-close&quot;&gt;&amp;times;&lt;/button&gt;
    &lt;div class=&quot;popup-header&quot;&gt;
      &lt;div class=&quot;char-portrait-wrap&quot;&gt;&lt;img class=&quot;char-portrait&quot;&gt;&lt;/div&gt;
      &lt;div class=&quot;char-head-text&quot;&gt;
        &lt;h3 class=&quot;char-name&quot;&gt;&lt;/h3&gt;
        &lt;ul class=&quot;char-meta&quot;&gt;
          &lt;li&gt;&lt;span&gt;나이&lt;/span&gt; &lt;span class=&quot;char-age&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;지역&lt;/span&gt; &lt;span class=&quot;char-region&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;성향&lt;/span&gt; &lt;span class=&quot;char-trait&quot;&gt;&lt;/span&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;char-stats&quot;&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;돈&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-money&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;체력&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-stamina&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;리스크&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-risk&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;신뢰&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-trust&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
    &lt;p class=&quot;char-desc&quot;&gt;&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="67" name="1994년_2" tags="" position="1800,1575" size="100,100">
&lt;h1&gt;1994년&lt;/h1&gt;

&lt;h2&gt;태양이 저물고 . . .&lt;/h2&gt;

&lt;p&gt;하지만 7월 이후 분위기는 더욱 조심스러워졌다.

회의 참석을 빠지면 눈에 띄기 쉬웠고

어느 때보다 충성도 평가가 강화되고

사소한 말실수도 문제가 될 수 있다는 것이 사람들 사이에 퍼졌다.

(set: _jeongStar to 
    &#39;&lt;span class=&quot;char-link&quot; &#39; +
    &#39;data-name=&quot;정별총&quot; &#39; +
    &#39;data-age=&quot;24&quot; &#39; +
    &#39;data-region=&quot;평안도 평양&quot; &#39; +
    &#39;data-trait=&quot;비관적&quot; &#39; +
    &#39;data-money=&quot;&#39; + (str: $money_2) + &#39;&quot; &#39; +
    &#39;data-stamina=&quot;&#39; + (str: $stamina_2) + &#39;&quot; &#39; +
    &#39;data-risk=&quot;&#39; + (str: $risk_2) + &#39;&quot; &#39; +
    &#39;data-trust=&quot;&#39; + (str: $trust_2) + &#39;&quot; &#39; +
    &#39;&gt;&#39; +
    &#39;정별총&#39; +
    &#39;&lt;/span&gt;&#39;
)

(print: _jeongStar)은 두 가지 시대적 압력 속에 놓여 있었다.

경제는 어려워지고,

정치적 감시는 강화되었다.

이 상황에서 실수 없이 살아가기 위해
그는 하나의 선택을 내려야 했다.
&lt;/p&gt;
&lt;p&gt;

&lt;hr class=&quot;page-separator&quot;&gt;
&lt;ul class=&quot;custom-list&quot;&gt;
&lt;li&gt;제2차 7개년 계획&lt;/li&gt;
&lt;li&gt;평양 세계청년학생축전&lt;/li&gt;
&lt;li&gt;소련 붕괴&lt;/li&gt;
&lt;li&gt;3년 정책&lt;/li&gt;
&lt;li&gt;[[김일성 사망]]&lt;/li&gt;
&lt;/ul&gt;
&lt;div&gt;
[[‘전력 관리 분조 책임을 맡는다.-&gt;1994년_3_1]]
[[분조 책임을 거절하고, 기존 업무만 성실히 수행한다.-&gt;1994년_3_2]]
[[책임은 맡되, 지나치게 앞장서지 않고 ‘형식적 수준’으로 조절한다.-&gt;1994년_3_3]]
&lt;/div&gt;



&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;

&lt;!-- 캐릭터 팝업 박스 --&gt;
&lt;div id=&quot;char-popup&quot;&gt;
  &lt;div class=&quot;popup-inner&quot;&gt;
    &lt;button class=&quot;popup-close&quot;&gt;&amp;times;&lt;/button&gt;
    &lt;div class=&quot;popup-header&quot;&gt;
      &lt;div class=&quot;char-portrait-wrap&quot;&gt;&lt;img class=&quot;char-portrait&quot;&gt;&lt;/div&gt;
      &lt;div class=&quot;char-head-text&quot;&gt;
        &lt;h3 class=&quot;char-name&quot;&gt;&lt;/h3&gt;
        &lt;ul class=&quot;char-meta&quot;&gt;
          &lt;li&gt;&lt;span&gt;나이&lt;/span&gt; &lt;span class=&quot;char-age&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;지역&lt;/span&gt; &lt;span class=&quot;char-region&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;성향&lt;/span&gt; &lt;span class=&quot;char-trait&quot;&gt;&lt;/span&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;char-stats&quot;&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;돈&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-money&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;체력&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-stamina&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;리스크&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-risk&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;신뢰&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-trust&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
    &lt;p class=&quot;char-desc&quot;&gt;&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="68" name="김일성 사망" tags="" position="1925,1450" size="100,100">&lt;h1&gt;김일성 사망&lt;/h1&gt;

&lt;img src=&quot;https://i.imgur.com/lS5PYnN.png&quot; style=&quot;width: 40%; height: auto;&quot;&gt;
&lt;p&gt;&lt;strong&gt;1. 배경&lt;/strong&gt;&lt;br&gt;
1994년 상반기 북한은 1차 북핵 위기로 인해 미국과 전쟁 직전의 상황까지 치달음. 카터 전 미국 대통령의 중재로 남북 정상회담이 합의되는 등 긴박한 정세 변화가 이어짐. 82세의 김일성은 고령임에도 묘향산 특각에 머물며 경제와 안보 현안을 직접 챙기는 등 과도한 업무 스트레스에 노출됨.&lt;br&gt;&lt;br&gt;

&lt;strong&gt;2. 전개 (1994. 7)&lt;/strong&gt;&lt;br&gt;
-&amp;nbsp; 1994년 7월 8일 새벽 2시 묘향산에서 심근경색에 의한 심장 쇼크로 급서함. 즉시 헬기와 의료진이 투입되었으나 소생에 실패함.&lt;br&gt;
-&amp;nbsp; 당국은 사망 34시간이 지난 7월 9일 정오에 중대 방송을 통해 부고를 공식 발표함. 전국에 조기가 게양되고 7월 19일까지 애도 기간이 선포되어 전 주민이 동원된 대규모 장례식이 거행됨. &lt;br&gt;
-&amp;nbsp; 예정되었던 역사상 최초의 남북 정상회담이 무산되었고 스위스 제네바에서 진행 중이던 북미 회담 등 주요 외교 일정이 전면 중단됨.&lt;br&gt;&lt;br&gt;

&lt;strong&gt;3. 결과&lt;/strong&gt;&lt;br&gt;
- &lt;strong&gt;성과:&lt;/strong&gt; 이미 확고한 후계 체제를 구축한 김정일이 3년상을 치르는 유훈 통치 방식을 채택함. 이를 통해 효를 강조하고 권력 승계의 도덕적 정당성을 확보하여 체제 급변 사태를 막음.&lt;br&gt;
- &lt;strong&gt;한계:&lt;/strong&gt; 절대적 카리스마를 지닌 최고 지도자의 부재와 자연재해가 겹치며 국가 시스템이 마비됨. 배급제 붕괴와 함께 수십만 명의 아사자가 발생하는 고난의 행군 시기로 진입함.&lt;br&gt;
- &lt;strong&gt;평가:&lt;/strong&gt; 1948년 정권 수립 이래 49년간 지속된 1인 독재 시대의 물리적 종언임. 시신을 영구 보존하고 금수산기념궁전을 성역화하며 영생 통치라는 신권 정치적 개념이 도입됨.&lt;/p&gt;
&lt;p style=&quot;font-size: 1.0em; border-top: 1px solid #ccc; padding-top: 10px; color: #666;&quot;&gt;

&lt;strong&gt;출처 및 참고자료&lt;/strong&gt;&lt;br&gt;
* 이행선 외, &quot;1988~1994년 북한방문기와 대북관: 북한바로알기운동~김일성 사망&quot;, &lt;a href=&quot;https://www.kci.go.kr/kciportal/ci/sereArticleSearch/ciSereArtiView.kci?sereArticleSearchBean.artiId=ART002672869&quot; target=&quot;_blank&quot;&gt;&lt;/a&gt;&lt;br&gt;
&lt;/p&gt;

&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="69" name="1994년_3_1" tags="" position="1800,1700" size="100,100">
&lt;h1&gt;1991년&lt;/h1&gt;

&lt;h2&gt;소련의 붕괴 . . .&lt;/h2&gt;

&lt;p&gt;
&lt;‘전력 관리 분조 책임을 맡는다&gt;

* 3년 인민경제기본과업(1993–95)의 핵심 분야인 ‘전력’ 부문에서 책임 역할 수행
* 지도원·총국 평가에서 ‘충성심·성실함’을 인정받을 가능성이 높아짐
* 김일성 사망(1994) 이후 강화된 규율 속에서도 “믿을 만한 사람”으로 분류될 수 있음
* 그러나 감시·점검 역할 특성상 동료들 사이에 미묘한 거리감이 생기고, 퇴근이 늦어 가족과의 시간이 줄어듦
* 조용히 체제 내부에서 안정적 위치를 확보하지만, 개인적 피로와 사회적 부담이 커짐
&lt;/p&gt;

(set:
    _moneyDiff_2 to +3,
    _staminaDiff_2 to -9,
    _riskDiff_2 to +4,
    _trustDiff_2 to +12
)

(set:
    $money_2 to $money_2 + _moneyDiff_2,
    $stamina_2 to $stamina_2 + _staminaDiff_2,
    $risk_2 to $risk_2 + _riskDiff_2,
    $trust_2 to $trust_2 + _trustDiff_2
)

&lt;p&gt;돈: +_moneyDiff_2
체력: _staminaDiff_2
리스크: +_riskDiff_2
신뢰: +_trustDiff_2&lt;/p&gt;

[[결과-&gt;결과보기2]]

&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="70" name="1994년_3_2" tags="" position="1925,1700" size="100,100">
&lt;h1&gt;1991년&lt;/h1&gt;

&lt;h2&gt;소련의 붕괴 . . .&lt;/h2&gt;

&lt;p&gt;
&lt;분조 책임을 거절하고, 기존 업무만 성실히 수행한다.&gt;

* 새로운 책임을 지지 않기 때문에 갈등·부담·노동시간 증가 등을 피할 수 있음
* 가정과 개인 생활은 안정적으로 유지되며, 가족 돌봄이나 생계 보조 활동에 시간을 사용 가능
* 그러나 직장에서는 “적극성이 부족하다”는 평가를 받을 수 있으며, 배급·평가에서 뒤처질 위험이 있음
* 김일성 사망 이후 정치적 긴장이 높아진 시기라 ‘소극적 태도’가 부정적으로 해석될 가능성 존재
* 체제 압력 속에서 조용히 몸을 낮추는 전략으로, 단기적으로는 안전하지만 장기적 불이익 가능
&lt;/p&gt;

(set:
    _moneyDiff_2 to -4,
    _staminaDiff_2 to +6,
    _riskDiff_2 to +5,
    _trustDiff_2 to -9
)

(set:
    $money_2 to $money_2 + _moneyDiff_2,
    $stamina_2 to $stamina_2 + _staminaDiff_2,
    $risk_2 to $risk_2 + _riskDiff_2,
    $trust_2 to $trust_2 + _trustDiff_2
)

&lt;p&gt;돈: +_moneyDiff_2
체력: _staminaDiff_2
리스크: +_riskDiff_2
신뢰: +_trustDiff_2&lt;/p&gt;

[[결과-&gt;결과보기2]]

&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="71" name="1994년_3_3" tags="" position="2050,1700" size="100,100">
&lt;h1&gt;1991년&lt;/h1&gt;

&lt;h2&gt;소련의 붕괴 . . .&lt;/h2&gt;

&lt;p&gt;
&lt;책임은 맡되, 지나치게 앞장서지 않고 ‘형식적 수준’으로 조절한다.&gt;

* 분조 명단에는 이름을 올려 체제·직장 평가에서 불이익을 피함
* 규정된 수준의 점검만 수행하여 과도한 충성 경쟁이나 과업 부담에서 어느 정도 벗어남
* 동료들과의 관계를 크게 악화시키지 않으면서도 책임 회피자로 보이지 않음
* 그러나 공장과 지도원 입장에서는 “적당히 하는 사람”, 동료 입장에서는 “감시 역할을 맡은 사람”으로 어느 쪽에서도 완전한 신뢰를 얻기 어려움
* 정치·경제가 동시에 불안해진 시기(1993–94) 실제 주민들이 택한 ‘중간 지대 전략’에 가까운 선택
&lt;/p&gt;

(set:
    _moneyDiff_2 to -1,
    _staminaDiff_2 to -3,
    _riskDiff_2 to +6,
    _trustDiff_2 to -4
)

(set:
    $money_2 to $money_2 + _moneyDiff_2,
    $stamina_2 to $stamina_2 + _staminaDiff_2,
    $risk_2 to $risk_2 + _riskDiff_2,
    $trust_2 to $trust_2 + _trustDiff_2
)

&lt;p&gt;돈: +_moneyDiff_2
체력: _staminaDiff_2
리스크: +_riskDiff_2
신뢰: +_trustDiff_2&lt;/p&gt;

[[결과-&gt;결과보기2]]

&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="72" name="1995년_1" tags="" position="600,1900" size="100,100">(set: $money_3 to 20)
(set: $stamina_3 to 20)
(set: $risk_3 to 20)
(set: $trust_3 to 20)
&lt;h1&gt;1995년&lt;/h1&gt;

&lt;h2&gt;배급의 종말 . . .&lt;/h2&gt;

&lt;img src=&quot;https://i.imgur.com/liWoAVj.png&quot; style=&quot;width: 90%; height: auto;&quot;&gt;

&lt;p&gt;그해 8월, 폭우가 내린 지 사흘째 되던 날이었다.
하천 수위가 순식간에 올라 탁한 물이 논으로 들이쳤다.
어디서 흘러왔는지 모를 가재기물과 지붕 조각이 둑 위로 밀려왔다.

주민들은 수해 소식을 자세히 듣지 않아도 됐다.
논이 가라앉고, 밭이 흙탕물에 잠기고,
집집마다 비품을 말리는 광경이 이미 현실을 설명하고 있었다.
&lt;/p&gt;

&lt;hr class=&quot;page-separator&quot;&gt;
&lt;ul class=&quot;custom-list&quot;&gt;
&lt;li&gt;[[대홍수]]&lt;/li&gt;
&lt;/ul&gt;
&lt;div&gt;
[[다음-&gt;1995년_2]]
&lt;/div&gt;



&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;


&lt;!-- 캐릭터 팝업 박스 --&gt;
&lt;div id=&quot;char-popup&quot;&gt;
  &lt;div class=&quot;popup-inner&quot;&gt;
    &lt;button class=&quot;popup-close&quot;&gt;&amp;times;&lt;/button&gt;
    &lt;div class=&quot;popup-header&quot;&gt;
      &lt;div class=&quot;char-portrait-wrap&quot;&gt;&lt;img class=&quot;char-portrait&quot;&gt;&lt;/div&gt;
      &lt;div class=&quot;char-head-text&quot;&gt;
        &lt;h3 class=&quot;char-name&quot;&gt;&lt;/h3&gt;
        &lt;ul class=&quot;char-meta&quot;&gt;
          &lt;li&gt;&lt;span&gt;나이&lt;/span&gt; &lt;span class=&quot;char-age&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;지역&lt;/span&gt; &lt;span class=&quot;char-region&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;성향&lt;/span&gt; &lt;span class=&quot;char-trait&quot;&gt;&lt;/span&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;char-stats&quot;&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;돈&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-money&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;체력&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-stamina&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;리스크&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-risk&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;신뢰&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-trust&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
    &lt;p class=&quot;char-desc&quot;&gt;&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="73" name="1995년_2" tags="" position="600,2025" size="100,100">
&lt;h1&gt;1995년&lt;/h1&gt;

&lt;h2&gt;배급의 종말 . . .&lt;/h2&gt;

&lt;p&gt;며칠 뒤, 구역위원회에서 나온 통지문이 붙었다.
“농경지 침수 규모가 크므로 가을 수확 전망이 불투명하다.”
배급소는 열리지 않았고, 공장은 가동률이 떨어져
사람들은 출근해도 돌릴 기계가 없었다.

(set: _jeongWe to 
    &#39;&lt;span class=&quot;char-link&quot; &#39; +
    &#39;data-name=&quot;정위철&quot; &#39; +
    &#39;data-age=&quot;30&quot; &#39; +
    &#39;data-region=&quot;평양남도 남포&quot; &#39; +
    &#39;data-trait=&quot;적극적&quot; &#39; +
    &#39;data-money=&quot;&#39; + (str: $money_3) + &#39;&quot; &#39; +
    &#39;data-stamina=&quot;&#39; + (str: $stamina_3) + &#39;&quot; &#39; +
    &#39;data-risk=&quot;&#39; + (str: $risk_3) + &#39;&quot; &#39; +
    &#39;data-trust=&quot;&#39; + (str: $trust_3) + &#39;&quot; &#39; +
    &#39;&gt;&#39; +
    &#39;정위철&#39; +
    &#39;&lt;/span&gt;&#39;
)

(print: _jeongWe)은 처음으로
‘올해 농사가 망가지면 내년엔 어떻게 되는 걸까’
라는 질문을 스스로 해보았다.
이듬해 또 큰 비가 오면 정말로 먹을 게 사라지는 것 아닐까,
그런 두려움은 주민들 사이에 말 없이 퍼지고 있었다.

1995년은 아직 이름 붙은 재난의 해가 아니었지만,
이미 사람들은 ‘내년이 더 위험할 수 있다’는 직감을 공유하고 있었다.
&lt;/p&gt;

&lt;hr class=&quot;page-separator&quot;&gt;
&lt;ul class=&quot;custom-list&quot;&gt;
&lt;li&gt;[[대홍수]]&lt;/li&gt;
&lt;/ul&gt;
&lt;div&gt;
[[침수된 논·밭의 상태를 확인하고, 수해 조사표 작성 작업을 돕는다.-&gt;1995년_3_1]]
[[마을 주변에서 침수된 생활용품을 모아 공동 창고로 옮기는 작업에 참여한다.-&gt;1995년_3_2]]
[[공장이 멈춘 날들이 늘어나자, 아버지와 함께 식량 대신 ‘연료와 겨울 준비’를 고민한다.-&gt;1995년_3_3]]
&lt;/div&gt;



&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;

&lt;!-- 캐릭터 팝업 박스 --&gt;
&lt;div id=&quot;char-popup&quot;&gt;
  &lt;div class=&quot;popup-inner&quot;&gt;
    &lt;button class=&quot;popup-close&quot;&gt;&amp;times;&lt;/button&gt;
    &lt;div class=&quot;popup-header&quot;&gt;
      &lt;div class=&quot;char-portrait-wrap&quot;&gt;&lt;img class=&quot;char-portrait&quot;&gt;&lt;/div&gt;
      &lt;div class=&quot;char-head-text&quot;&gt;
        &lt;h3 class=&quot;char-name&quot;&gt;&lt;/h3&gt;
        &lt;ul class=&quot;char-meta&quot;&gt;
          &lt;li&gt;&lt;span&gt;나이&lt;/span&gt; &lt;span class=&quot;char-age&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;지역&lt;/span&gt; &lt;span class=&quot;char-region&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;성향&lt;/span&gt; &lt;span class=&quot;char-trait&quot;&gt;&lt;/span&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;char-stats&quot;&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;돈&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-money&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;체력&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-stamina&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;리스크&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-risk&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;신뢰&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-trust&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
    &lt;p class=&quot;char-desc&quot;&gt;&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="74" name="대홍수" tags="" position="725,1900" size="100,100">&lt;h1&gt;1995년 대홍수&lt;/h1&gt;

&lt;p&gt;&lt;strong&gt;1. 배경&lt;/strong&gt;&lt;br&gt;
사회주의권 붕괴와 김일성 사망으로 경제 난국이 지속되는 가운데 산림이 심각하게 황폐화됨. 식량 증산을 목적으로 무리하게 조성한 다락밭이 산림의 수분 저장 능력을 파괴하여 홍수 조절 기능을 상실한 상태였음.&lt;br&gt;&lt;br&gt;

&lt;strong&gt;2. 전개 (1995. 7~8)&lt;/strong&gt;&lt;br&gt;
-&amp;nbsp; 1995년 7월 30일부터 8월 18일까지 평안도와 황해도 및 강원도 등 주요 곡창 지대에 기록적인 폭우가 쏟아짐. 일부 지역은 하루 강수량이 연평균 강수량에 육박하는 등 기상 관측 이래 최대 규모의 집중 호우가 발생함.&lt;br&gt;

-&amp;nbsp; 전국 경지 면적의 약 15퍼센트가 침수되거나 매몰되었으며 탄광이 침수되어 에너지 공급이 중단됨. 약 520만 명의 이재민이 발생하고 190만 톤 이상의 곡물 생산 차질이 빚어짐.&lt;br&gt;
-&amp;nbsp; 자력으로 사태 수습이 불가능해지자 북한 당국은 이례적으로 유엔 인도주의업무조정국 등 국제 사회에 공식적인 지원을 요청함. 이를 계기로 폐쇄적이었던 북한 내부에 국제기구 요원들이 상주하며 구호 활동을 시작함.&lt;br&gt;&lt;br&gt;

&lt;strong&gt;3. 결과&lt;/strong&gt;&lt;br&gt;
- &lt;strong&gt;성과:&lt;/strong&gt; 국제 사회에 북한의 식량 위기 실태가 처음으로 알려져 인도적 지원이 시작됨. 외부 지원을 통해 최악의 국면은 넘겼으나 근본적인 해결책이 되지는 못함.&lt;br&gt;
- &lt;strong&gt;한계:&lt;/strong&gt; 이미 취약했던 국가 배급망이 이 시기를 기점으로 완전히 붕괴됨. 수해 복구가 지연되면서 수인성 전염병이 창궐하고 아사자가 속출하는 등 사회 안전망이 해체됨.&lt;br&gt;
- &lt;strong&gt;평가:&lt;/strong&gt; 당국은 자연의 대재앙이라 선전했으나 전문가들은 무분별한 개간과 치산치수 실패가 부른 예고된 인재로 분석함. 이른바 고난의 행군이 본격화되는 직접적인 도화선이 됨.&lt;/p&gt;

&lt;p style=&quot;font-size: 1.0em; border-top: 1px solid #ccc; padding-top: 10px; color: #666;&quot;&gt;
&lt;strong&gt;출처 및 참고자료&lt;/strong&gt;&lt;br&gt;
* 이용인, &quot;북 큰물피해 95·96년 홍수와 비교해보니&quot;, &lt;a href=&quot;https://www.hani.co.kr/arti/politics/defense/146716.html&quot; target=&quot;_blank&quot;&gt;한겨레&lt;/a&gt;&lt;br&gt;
* 이계환, &quot;WMO “북한 1995년 대홍수, 지난 50년간 10대 자연재해”&quot;, &lt;a href=&quot;https://www.tongilnews.com/news/articleView.html&quot; target=&quot;_blank&quot;&gt;통일뉴스&lt;/a&gt;&lt;br&gt;
&lt;/p&gt;


&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="75" name="1995년_3_1" tags="" position="475,2150" size="100,100">
&lt;h1&gt;1995년&lt;/h1&gt;

&lt;h2&gt;배급의 종말 . . .&lt;/h2&gt;

&lt;p&gt;
&lt;침수된 논·밭의 상태를 확인하고, 수해 조사표 작성 작업을 돕는다.&gt;

* 36만정보가 침수·매몰·유실되며 각 마을에서 피해 조사표 작성이 급히 진행된다.
* 학생·청년들은 면적 측정, 침수 지점 표시, 파손된 농기구 정리에 동원된다.
* 조사표에 적힌 실제 수치들을 보며 올해 수확량이 크게 줄어든다는 현실을 체감한다.
* 단순한 자연재해가 아니라 구조적 식량난의 전조라는 느낌이 스며든다.
&lt;/p&gt;

(set:
    _moneyDiff_3 to -2,
    _staminaDiff_3 to -5,
    _riskDiff_3 to +3,
    _trustDiff_3 to +2
)

(set:
    $money_3 to $money_3 + _moneyDiff_3,
    $stamina_3 to $stamina_3 + _staminaDiff_3,
    $risk_3 to $risk_3 + _riskDiff_3,
    $trust_3 to $trust_3 + _trustDiff_3
)

&lt;p&gt;돈: +_moneyDiff_3
체력: _staminaDiff_3
리스크: +_riskDiff_3
신뢰: +_trustDiff_3&lt;/p&gt;

[[다음 -&gt;1996년_1]]

&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="76" name="1995년_3_3" tags="" position="725,2150" size="100,100">
&lt;h1&gt;1995년&lt;/h1&gt;

&lt;h2&gt;배급의 종말 . . .&lt;/h2&gt;

&lt;p&gt;
&lt;공장이 멈춘 날들이 늘어나자, 아버지와 함께 식량 대신 ‘연료와 겨울 준비’를 고민한다.&gt;

* 전력 공급 감소로 공장이 멈추는 날이 잦아지며 주민들의 불안이 커진다.
* 식량뿐 아니라 난방·연료 부족 우려가 확산되면서 가족 단위로 겨울 준비가 시작된다.
* 장작 말리기, 벽틈 메우기, 연탄재 모으기 등 생활적 대비가 일상화된다.
* 위철에게는 ‘올해 농사 실패 → 내년 겨울난’이라는 흐름이 처음 연결된다.
&lt;/p&gt;

(set:
    _moneyDiff_3 to -2,
    _staminaDiff_3 to -4,
    _riskDiff_3 to +3,
    _trustDiff_3 to 0
)

(set:
    $money_3 to $money_3 + _moneyDiff_3,
    $stamina_3 to $stamina_3 + _staminaDiff_3,
    $risk_3 to $risk_3 + _riskDiff_3,
    $trust_3 to $trust_3 + _trustDiff_3
)

&lt;p&gt;돈: +_moneyDiff_3
체력: _staminaDiff_3
리스크: +_riskDiff_3
신뢰: +_trustDiff_3&lt;/p&gt;

[[다음 -&gt;1996년_1]]


&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="77" name="1995년_3_2" tags="" position="600,2150" size="100,100">
&lt;h1&gt;1995년&lt;/h1&gt;

&lt;h2&gt;배급의 종말 . . .&lt;/h2&gt;

&lt;p&gt;
&lt;마을 주변에서 침수된 생활용품을 모아 공동 창고로 옮기는 작업에 참여한다.&gt;

* 주택 9만8천 가구 파손으로 물품이 흘러가거나 뒤섞여 마을마다 정리 작업이 이루어진다.
* 젖은 의복, 깨진 그릇, 문짝과 사진 조각 등 생활의 흔적을 모아 임시 창고에 보관한다.
* 주민들의 피해가 크다는 사실을 눈으로 확인하면서 복구가 쉽지 않음을 느낀다.
* 국가의 개입이 닿기 전, 마을 단위가 먼저 움직이는 모습을 보게 된다.
&lt;/p&gt;

(set:
    _moneyDiff_3 to -1,
    _staminaDiff_3 to -6,
    _riskDiff_3 to +2,
    _trustDiff_3 to +3
)

(set:
    $money_3 to $money_3 + _moneyDiff_3,
    $stamina_3 to $stamina_3 + _staminaDiff_3,
    $risk_3 to $risk_3 + _riskDiff_3,
    $trust_3 to $trust_3 + _trustDiff_3
)

&lt;p&gt;돈: +_moneyDiff_3
체력: _staminaDiff_3
리스크: +_riskDiff_3
신뢰: +_trustDiff_3&lt;/p&gt;

[[다음 -&gt;1996년_1]]


&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="78" name="1996년_1" tags="" position="900,1900" size="100,100">
&lt;h1&gt;1996년&lt;/h1&gt;

&lt;h2&gt;고난의 행군 . . .&lt;/h2&gt;

&lt;p&gt;1996년 봄, 마을 회관 게시판에는 평소와 다른 공지가 붙었다.
“올해 알곡 생산량 심각히 저하… 절약과 자력 대책 강조.”

처음엔 누구도 크게 말하지 않았다.
하지만 시간이 지나며, 그 말이 단순한 권고가 아니라 사실상 ‘배급 중단 예고’라는 걸 주민들은 알게 되었다.

여름이 되자 더 이상 숨길 수 없게 되었다.
논마다 비어 있는 자리, 병충해가 난 줄, 물에 잠겨 죽은 모가 그대로 방치된 곳들.
“올해 수확은… 없다”는 말이 마을 어른들 사이에서 들리기 시작했다.
&lt;/p&gt;

&lt;hr class=&quot;page-separator&quot;&gt;
&lt;ul class=&quot;custom-list&quot;&gt;
&lt;li&gt;대홍수&lt;/li&gt;
&lt;li&gt;[[고난의 행군]]&lt;/li&gt;
&lt;/ul&gt;
&lt;div&gt;
[[다음-&gt;1996년_2]]
&lt;/div&gt;



&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;
</tw-passagedata><tw-passagedata pid="79" name="고난의 행군" tags="" position="1025,1900" size="100,100">&lt;h1&gt;고난의 행군&lt;/h1&gt;

&lt;p&gt;&lt;strong&gt;1. 배경&lt;/strong&gt;&lt;br&gt;
1990년대 초반 사회주의권 붕괴와 김일성 사망 그리고 연이은 대규모 자연재해로 국가 경제와 배급 시스템이 완전히 마비됨. 1938년 항일 유격대가 겪었던 혹독한 시련을 상기시키며 현 난국을 정신력으로 타개하자는 구호 아래 전 국민적인 희생과 절대적인 내핍을 강요하는 시기가 도래함.&lt;br&gt;&lt;br&gt;

&lt;strong&gt;2. 전개 (1996~2000)&lt;/strong&gt;&lt;br&gt;
-&amp;nbsp; 1996년 1월 1일 노동신문 신년사에서 붉은기를 높이 들고 고난의 행군을 힘있게 다그쳐 나가자고 호소하며 공식화함. 생존을 위해 풀뿌리와 나무껍질로 연명하는 처참한 식량 위기가 일상화되었으며 유랑하는 꽃제비가 급증함.
-&amp;nbsp; 국가 배급 체계가 작동을 멈추자 주민들은 생존을 위해 자발적으로 물물교환에 나섬. 이는 불법 시장인 장마당이 전국적으로 확산되고 계획 경제의 빈자리를 비공식 시장 경제가 대체하는 결정적 계기가 됨.
-&amp;nbsp; 체제 붕괴를 막기 위해 군대를 최우선시하는 선군 정치를 통치 방식으로 전면에 내세움. 부족한 국가 자원을 군수 공업과 군대에 집중 배분하고 사회 전반을 병영 체제로 재편하여 내부 통제를 극대화함.

&lt;strong&gt;3. 결과&lt;/strong&gt;&lt;br&gt;
- &lt;strong&gt;성과:&lt;/strong&gt; 김정일 정권은 최악의 위기 속에서도 체제 붕괴를 막고 유일 지배 체제를 안착시킴. 1998년 인공위성 발사를 선전하며 강성대국 건설을 위한 군사적 기반을 닦았다고 주장함.&lt;br&gt;
- &lt;strong&gt;한계:&lt;/strong&gt; 최소 30만 명에서 최대 300만 명으로 추산되는 아사자가 발생하여 인구 구조가 왜곡됨. 전력난과 자재난으로 가동이 멈춘 공장의 설비가 헐값에 고철로 팔려나가 산업 기반이 회복 불가능한 수준으로 파괴됨.&lt;br&gt;
- &lt;strong&gt;평가:&lt;/strong&gt; 북한 주민들의 의식이 국가 의존형에서 각자도생형으로 변화하는 역사적 분기점임. 사회주의 계획 경제 시스템이 사실상 껍데기만 남고 아래로부터의 시장화가 불가역적으로 진행됨.&lt;/p&gt;

&lt;p style=&quot;font-size: 1.0em; border-top: 1px solid #ccc; padding-top: 10px; color: #666;&quot;&gt;
&lt;strong&gt;출처 및 참고자료&lt;/strong&gt;&lt;br&gt;
* 한국민족문화대백과사전, &quot;1996년부터 1999년까지 경제적, 대외적 위기를 극복하기 위한 북한의 대응 태세.&quot;, &lt;a href=&quot;https://encykorea.aks.ac.kr/Article/E0078757&quot; target=&quot;_blank&quot;&gt;&lt;/a&gt;&lt;br&gt;
* 차문석, &quot;&#39;고난의 행군&#39;과 북한 경제의 성격 변화&quot;, &lt;a href=&quot;https://nk.ac.kr/wp-content/uploads/2022/08/8-1_cms.pdf?utm_source=chatgpt.com&quot; target=&quot;_blank&quot;&gt;북한대학원&lt;/a&gt;&lt;br&gt;
&lt;/p&gt;


&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="80" name="1996년_2" tags="" position="900,2025" size="100,100">
&lt;h1&gt;1996년&lt;/h1&gt;

&lt;h2&gt;고난의 행군 . . .&lt;/h2&gt;

&lt;p&gt;며칠 뒤, 공장 앞에 서 있는 사람들이 말했다.
“기계가 멈춘 지 벌써 일주일이다.”
전력도 오지 않고, 공급도 없으니 공장은 돌아갈 수 없었다.

사람들이 먼저 쓰러지기 시작한 건 그 무렵이었다.
식량 배급이 사실상 끊기자, 마을을 지나는 길목에 낯선 사람들이 나타났다.
뼈만 남은 얼굴로 걸어가다 길가에 주저앉는 사람들.
누군가가 “저 사람도 다른 데서 굶다 내려온 거라고 하더라”고 말했다.

&lt;img src=&quot;https://i.imgur.com/kEcQIMR.png&quot; style=&quot;width: 90%; height: auto;&quot;&gt;

(set: _jeongWe to 
    &#39;&lt;span class=&quot;char-link&quot; &#39; +
    &#39;data-name=&quot;정위철&quot; &#39; +
    &#39;data-age=&quot;30&quot; &#39; +
    &#39;data-region=&quot;평양남도 남포&quot; &#39; +
    &#39;data-trait=&quot;적극적&quot; &#39; +
    &#39;data-money=&quot;&#39; + (str: $money_3) + &#39;&quot; &#39; +
    &#39;data-stamina=&quot;&#39; + (str: $stamina_3) + &#39;&quot; &#39; +
    &#39;data-risk=&quot;&#39; + (str: $risk_3) + &#39;&quot; &#39; +
    &#39;data-trust=&quot;&#39; + (str: $trust_3) + &#39;&quot; &#39; +
    &#39;&gt;&#39; +
    &#39;정위철&#39; +
    &#39;&lt;/span&gt;&#39;
)

(print: _jeongWe)은 그 모습을 바라보며,
“이제는 다 같이 어려운 것이 아니라… 먼저 쓰러지는 사람이 생겨나는 시대가 된 건가?”
하는 생각을 처음 하게 되었다.
&lt;/p&gt;

&lt;hr class=&quot;page-separator&quot;&gt;
&lt;ul class=&quot;custom-list&quot;&gt;
&lt;li&gt;대홍수&lt;/li&gt;
&lt;li&gt;[[고난의 행군]]&lt;/li&gt;
&lt;/ul&gt;
&lt;div&gt;
[[다음-&gt;1996년_3]]
&lt;/div&gt;



&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;

&lt;!-- 캐릭터 팝업 박스 --&gt;
&lt;div id=&quot;char-popup&quot;&gt;
  &lt;div class=&quot;popup-inner&quot;&gt;
    &lt;button class=&quot;popup-close&quot;&gt;&amp;times;&lt;/button&gt;
    &lt;div class=&quot;popup-header&quot;&gt;
      &lt;div class=&quot;char-portrait-wrap&quot;&gt;&lt;img class=&quot;char-portrait&quot;&gt;&lt;/div&gt;
      &lt;div class=&quot;char-head-text&quot;&gt;
        &lt;h3 class=&quot;char-name&quot;&gt;&lt;/h3&gt;
        &lt;ul class=&quot;char-meta&quot;&gt;
          &lt;li&gt;&lt;span&gt;나이&lt;/span&gt; &lt;span class=&quot;char-age&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;지역&lt;/span&gt; &lt;span class=&quot;char-region&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;성향&lt;/span&gt; &lt;span class=&quot;char-trait&quot;&gt;&lt;/span&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;char-stats&quot;&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;돈&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-money&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;체력&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-stamina&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;리스크&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-risk&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;신뢰&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-trust&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
    &lt;p class=&quot;char-desc&quot;&gt;&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="81" name="1996년_3" tags="" position="900,2150" size="100,100">
&lt;h1&gt;1996년&lt;/h1&gt;

&lt;h2&gt;고난의 행군 . . .&lt;/h2&gt;

&lt;p&gt;어느 날 아침, 큰 길 쪽이 소란스러웠다.
화물열차가 지나가는데, 지붕 위에 사람들이 매달려 있었다.
허리를 굽힌 채, 바람을 맞으며, 기차의 흔들림에 위태롭게 버티는 모습이었다.

그날 밤, (set: _jeongWe to 
    &#39;&lt;span class=&quot;char-link&quot; &#39; +
    &#39;data-name=&quot;정위철&quot; &#39; +
    &#39;data-age=&quot;30&quot; &#39; +
    &#39;data-region=&quot;평양남도 남포&quot; &#39; +
    &#39;data-trait=&quot;적극적&quot; &#39; +
    &#39;data-money=&quot;&#39; + (str: $money_3) + &#39;&quot; &#39; +
    &#39;data-stamina=&quot;&#39; + (str: $stamina_3) + &#39;&quot; &#39; +
    &#39;data-risk=&quot;&#39; + (str: $risk_3) + &#39;&quot; &#39; +
    &#39;data-trust=&quot;&#39; + (str: $trust_3) + &#39;&quot; &#39; +
    &#39;&gt;&#39; +
    &#39;정위철&#39; +
    &#39;&lt;/span&gt;&#39;
)

(print: _jeongWe)은 방에 앉아있다 아버지에게 조심스럽게 물었다.
“아버지… 우리도 뭔가 해야 하지 않겠습니까.”

아버지는 대답하지 않았다.
그저 자리에서 일어나던 쌀독을 열어 보였다.
바닥에 남은 건, 손바닥만큼의 알곡뿐이었다.

(set: _jeongWe to 
    &#39;&lt;span class=&quot;char-link&quot; &#39; +
    &#39;data-name=&quot;정위철&quot; &#39; +
    &#39;data-age=&quot;24&quot; &#39; +
    &#39;data-region=&quot;평양남도 남포&quot; &#39; +
    &#39;data-trait=&quot;적극적&quot; &#39; +
    &#39;data-money=&quot;&#39; + (str: $money_3) + &#39;&quot; &#39; +
    &#39;data-stamina=&quot;&#39; + (str: $stamina_3) + &#39;&quot; &#39; +
    &#39;data-risk=&quot;&#39; + (str: $risk_3) + &#39;&quot; &#39; +
    &#39;data-trust=&quot;&#39; + (str: $trust_3) + &#39;&quot; &#39; +
    &#39;&gt;&#39; +
    &#39;정위철&#39; +
    &#39;&lt;/span&gt;&#39;
)

(print: _jeongWe)은 깨달았다.
이제는 누가 대신 해결해줄 문제가 아니라는 것.
직접 선택해야 한다는 것.

그리고, 세 가지 길이 위철 앞에 놓이게 된다.
&lt;/p&gt;

&lt;hr class=&quot;page-separator&quot;&gt;
&lt;ul class=&quot;custom-list&quot;&gt;
&lt;li&gt;대홍수&lt;/li&gt;
&lt;li&gt;[[고난의 행군]]&lt;/li&gt;
&lt;/ul&gt;
&lt;div&gt;
[[굶주린 주민들의 ‘열차 위·화물칸 이동’ 시도에 합류한다.-&gt;1996년_4_1]]
[[며칠씩 굶은 이웃에게 식량을 나누며, 대신 ‘집안 물건’을 받는 비공식 교환에 참여한다.-&gt;1996년_4_2]]
[[굶주림을 버티기 위해 ‘야산 채집조’에 끼어 잡초·나무껍질·옥수수대 속을 모은다.-&gt;1996년_4_3]]
&lt;/div&gt;



&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;

&lt;!-- 캐릭터 팝업 박스 --&gt;
&lt;div id=&quot;char-popup&quot;&gt;
  &lt;div class=&quot;popup-inner&quot;&gt;
    &lt;button class=&quot;popup-close&quot;&gt;&amp;times;&lt;/button&gt;
    &lt;div class=&quot;popup-header&quot;&gt;
      &lt;div class=&quot;char-portrait-wrap&quot;&gt;&lt;img class=&quot;char-portrait&quot;&gt;&lt;/div&gt;
      &lt;div class=&quot;char-head-text&quot;&gt;
        &lt;h3 class=&quot;char-name&quot;&gt;&lt;/h3&gt;
        &lt;ul class=&quot;char-meta&quot;&gt;
          &lt;li&gt;&lt;span&gt;나이&lt;/span&gt; &lt;span class=&quot;char-age&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;지역&lt;/span&gt; &lt;span class=&quot;char-region&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;성향&lt;/span&gt; &lt;span class=&quot;char-trait&quot;&gt;&lt;/span&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;char-stats&quot;&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;돈&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-money&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;체력&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-stamina&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;리스크&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-risk&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;신뢰&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-trust&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
    &lt;p class=&quot;char-desc&quot;&gt;&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="82" name="1996년_4_1" tags="" position="775,2275" size="100,100">
&lt;h1&gt;1996년&lt;/h1&gt;

&lt;h2&gt;고난의 행군 . . .&lt;/h2&gt;

&lt;p&gt;
&lt;침수된 논·밭의 상태를 확인하고, 수해 조사표 작성 작업을 돕는다.&gt;

* 식량 배급이 끊기고, 마을에는 며칠째 시신이 치워지지 않는 곳도 생긴다.
* 곡창지대나 시장이 열리기 시작한 도시로 가기 위해 사람들은 화물열차 위, 사이드 발판, 완충기 사이에 올라타기 시작한다.
* 경찰·보위부의 단속이 있었지만 아사자가 늘어나자 통제도 느슨해졌다.
* 위철은 위험을 알면서도 “여기서 기다리면 그냥 굶어 죽을 수도 있다”는 생각이 머리를 스친다.
&lt;/p&gt;

(set:
    _moneyDiff_3 to -3,
    _staminaDiff_3 to -7,
    _riskDiff_3 to +12,
    _trustDiff_3 to -2
)

(set:
    $money_3 to $money_3 + _moneyDiff_3,
    $stamina_3 to $stamina_3 + _staminaDiff_3,
    $risk_3 to $risk_3 + _riskDiff_3,
    $trust_3 to $trust_3 + _trustDiff_3
)

&lt;p&gt;돈: +_moneyDiff_3
체력: _staminaDiff_3
리스크: +_riskDiff_3
신뢰: +_trustDiff_3&lt;/p&gt;

[[다음 -&gt;1997년_1]]


&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="83" name="1996년_4_2" tags="" position="900,2275" size="100,100">
&lt;h1&gt;1996년&lt;/h1&gt;

&lt;h2&gt;고난의 행군 . . .&lt;/h2&gt;

&lt;p&gt;
&lt;며칠씩 굶은 이웃에게 식량을 나누며, 대신 ‘집안 물건’을 받는 비공식 교환에 참여한다.&gt;

* 1996년 초반, 아직 장마당이 본격적으로 열리기 전, 사람들은 집안 물건을 “음식과 교환”하기 시작했다.
* 가족끼리 먹을 곡식과 이웃의 솥·옷·도구 같은 물건이 맞바뀌는 일이 흔했다.
* 이는 장마당의 초기 형태이자, 공동체의 붕괴와 새로운 생존 윤리의 출현이 동시에 일어난 순간이었다.
* 위철은 처음으로 “내가 가진 걸 나누는 건 선의인가? 거래인가?”라는 감각을 겪는다.
&lt;/p&gt;

(set:
    _moneyDiff_3 to +6,
    _staminaDiff_3 to -3,
    _riskDiff_3 to +4,
    _trustDiff_3 to -1
)

(set:
    $money_3 to $money_3 + _moneyDiff_3,
    $stamina_3 to $stamina_3 + _staminaDiff_3,
    $risk_3 to $risk_3 + _riskDiff_3,
    $trust_3 to $trust_3 + _trustDiff_3
)

&lt;p&gt;돈: +_moneyDiff_3
체력: _staminaDiff_3
리스크: +_riskDiff_3
신뢰: +_trustDiff_3&lt;/p&gt;

[[다음 -&gt;1997년_1]]


&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="84" name="1996년_4_3" tags="" position="1025,2275" size="100,100">
&lt;h1&gt;1996년&lt;/h1&gt;

&lt;h2&gt;고난의 행군 . . .&lt;/h2&gt;

&lt;p&gt;
&lt;굶주림을 버티기 위해 ‘야산 채집조’에 끼어 잡초·나무껍질·옥수수대 속을 모은다.&gt;

* 산에 가면 이미 사람들이 잔뿌리까지 캐간 자리만 남아 있다.
* 어린아이부터 노인까지, 산야에서 먹을 것을 찾으며 줄지어 움직이는 광경이 나타난다.
* 위철은 처음엔 부끄러웠지만, 배고픔이 며칠 더 이어지자 결국 채집조에 따라 나선다.
* 풀을 말려 죽에 넣고, 나무껍질을 긁어 가루처럼 만들어 섞어 먹는다.
&lt;/p&gt;

(set:
    _moneyDiff_3 to +2,
    _staminaDiff_3 to -14,
    _riskDiff_3 to +6,
    _trustDiff_3 to -3
)

(set:
    $money_3 to $money_3 + _moneyDiff_3,
    $stamina_3 to $stamina_3 + _staminaDiff_3,
    $risk_3 to $risk_3 + _riskDiff_3,
    $trust_3 to $trust_3 + _trustDiff_3
)

&lt;p&gt;돈: +_moneyDiff_3
체력: _staminaDiff_3
리스크: +_riskDiff_3
신뢰: +_trustDiff_3&lt;/p&gt;

[[다음 -&gt;1997년_1]]


&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="85" name="1997년_1" tags="" position="1200,1900" size="100,100">
&lt;h1&gt;1997년&lt;/h1&gt;

&lt;h2&gt;배급을 대신하여 . . .&lt;/h2&gt;

&lt;p&gt;겨울이 지나 봄이 왔다.
(set: _jeongWe to 
    &#39;&lt;span class=&quot;char-link&quot; &#39; +
    &#39;data-name=&quot;정위철&quot; &#39; +
    &#39;data-age=&quot;30&quot; &#39; +
    &#39;data-region=&quot;평양남도 남포&quot; &#39; +
    &#39;data-trait=&quot;적극적&quot; &#39; +
    &#39;data-money=&quot;&#39; + (str: $money_3) + &#39;&quot; &#39; +
    &#39;data-stamina=&quot;&#39; + (str: $stamina_3) + &#39;&quot; &#39; +
    &#39;data-risk=&quot;&#39; + (str: $risk_3) + &#39;&quot; &#39; +
    &#39;data-trust=&quot;&#39; + (str: $trust_3) + &#39;&quot; &#39; +
    &#39;&gt;&#39; +
    &#39;정위철&#39; +
    &#39;&lt;/span&gt;&#39;
)

(print: _jeongWe)은 문득, 지난해 겨울처럼 사람들이 길가에서 쓰러지는 모습을 더는 보지 못하고 있다는 사실을 깨달았다.
굶주림이 사라진 건 아니었다.
단지 사람들이 먹을 방식을 바꿨다는 것에 가까웠다.

마을 근처, 오래 방치되던 공터에서 사람들이 모여 있었다.
누군가는 감자 몇 알을 펼쳐놓고,
누군가는 헌 옷을 두 벌 놓았고,
누군가는 집에서 가져온 낡은 부품, 냄비, 비누 조각까지 내놨다.
&lt;/p&gt;

&lt;hr class=&quot;page-separator&quot;&gt;
&lt;ul class=&quot;custom-list&quot;&gt;
&lt;li&gt;대홍수&lt;/li&gt;
&lt;li&gt;고난의 행군&lt;/li&gt;
&lt;li&gt;[[장마당]]&lt;/li&gt;
&lt;/ul&gt;
&lt;div&gt;
[[다음-&gt;1997년_2]]
&lt;/div&gt;



&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;

&lt;!-- 캐릭터 팝업 박스 --&gt;
&lt;div id=&quot;char-popup&quot;&gt;
  &lt;div class=&quot;popup-inner&quot;&gt;
    &lt;button class=&quot;popup-close&quot;&gt;&amp;times;&lt;/button&gt;
    &lt;div class=&quot;popup-header&quot;&gt;
      &lt;div class=&quot;char-portrait-wrap&quot;&gt;&lt;img class=&quot;char-portrait&quot;&gt;&lt;/div&gt;
      &lt;div class=&quot;char-head-text&quot;&gt;
        &lt;h3 class=&quot;char-name&quot;&gt;&lt;/h3&gt;
        &lt;ul class=&quot;char-meta&quot;&gt;
          &lt;li&gt;&lt;span&gt;나이&lt;/span&gt; &lt;span class=&quot;char-age&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;지역&lt;/span&gt; &lt;span class=&quot;char-region&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;성향&lt;/span&gt; &lt;span class=&quot;char-trait&quot;&gt;&lt;/span&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;char-stats&quot;&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;돈&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-money&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;체력&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-stamina&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;리스크&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-risk&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;신뢰&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-trust&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
    &lt;p class=&quot;char-desc&quot;&gt;&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="86" name="장마당" tags="" position="1325,1900" size="100,100">&lt;h1&gt;장마당의 확산&lt;/h1&gt;

&lt;img src=&quot;https://i.imgur.com/rrd5T95.png&quot; style=&quot;width: 90%; height: auto;&quot;&gt;
&lt;p&gt;&lt;strong&gt;1. 배경&lt;/strong&gt;&lt;br&gt;
고난의 행군 시기 국가 배급 제도가 전면적으로 붕괴되어 식량 배급이 중단됨. 주민들이 생존을 위해 가재도구를 팔거나 물물교환에 나설 수밖에 없는 절박한 상황이 조성되면서 불법적인 사적 거래 공간이 자연발생적으로 형성됨.&lt;br&gt;&lt;br&gt;

&lt;strong&gt;2. 전개 (1997~)&lt;/strong&gt;&lt;br&gt;
-&amp;nbsp; 기존 농민 시장이 식량과 공산품 및 의약품까지 거래하는 종합 시장 형태로 불법 확장됨. 당국의 강력한 통제와 단속에도 불구하고 생존을 위한 유일한 수단으로 자리 잡으며 전국적으로 확산됨.
-&amp;nbsp; 단속반을 피해 자리를 옮겨 다니며 장사하는 일명 메뚜기 상인이 대거 등장함. 단순한 물물교환 수준을 넘어 쌀이 화폐 가치의 기준이 되고 현금과 외화가 통용되는 실질적인 시장 경제 시스템이 작동하기 시작함.
-&amp;nbsp; 국경 지역을 통한 보따리 무역이 활성화되어 중국산 생필품과 식량이 내륙 깊숙이 유입되는 사적 유통망이 구축됨. 이동의 자유가 제한된 상황에서도 상인들의 이동으로 정보의 유통이 가속화됨.

&lt;strong&gt;3. 결과&lt;/strong&gt;&lt;br&gt;
- &lt;strong&gt;성과:&lt;/strong&gt; 마비된 국가 경제 기능을 대신하여 기근에 시달리던 다수 주민들의 생존에 절대적인 기여를 함. 수요와 공급에 따라 가격이 결정되는 자생적인 시장 메커니즘이 확립됨.&lt;br&gt;
- &lt;strong&gt;한계:&lt;/strong&gt; 빈부 격차가 발생하고 돈주라 불리는 신흥 자본가 계층이 태동함. 단속 무마를 위한 뇌물 수수가 만연해지면서 관료 사회의 부패 사슬이 구조화됨.&lt;br&gt;
- &lt;strong&gt;평가:&lt;/strong&gt; 사회주의 계획 경제의 근간을 뒤흔들고 아래로부터의 시장화를 촉발한 역사적 전환점임. 북한 주민의 의식이 집단주의에서 개인주의와 황금만능주의로 변화하는 결정적 계기가 됨.&lt;/p&gt;

&lt;p style=&quot;font-size: 1.0em; border-top: 1px solid #ccc; padding-top: 10px; color: #666;&quot;&gt;
&lt;strong&gt;출처 및 참고자료&lt;/strong&gt;&lt;br&gt;
* 박형중, &quot;북한에서 1990년대 정권 기관의 
상업적 활동과 시장 확대&quot;, &lt;a href=&quot;https://repo.kinu.or.kr/retrieve/11443&quot; target=&quot;_blank&quot;&gt;&lt;/a&gt;&lt;br&gt;
* 김정유 외, &quot;북한 &#39;장마당&#39;의 변화과정에 대한 진화론적 분석&quot;, &lt;a href=&quot;https://www.kci.go.kr/kciportal/ci/sereArticleSearch/ciSereArtiView.kci?sereArticleSearchBean.artiId=ART002538670&quot; target=&quot;_blank&quot;&gt;경희대학교&lt;/a&gt;&lt;br&gt;
&lt;/p&gt;


&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="87" name="1997년_2" tags="" position="1200,2025" size="100,100">
&lt;h1&gt;1997년&lt;/h1&gt;

&lt;h2&gt;배급을 대신하여 . . .&lt;/h2&gt;

&lt;p&gt;국가의 배급이 멈췄으니,
사람들은 서로 가진 것을 교환해 살아남는 길을 찾아냈다.
처음엔 암시장처럼 숨어 했지만,
지금은 거의 공개적으로 이루어졌다.
보위부가 나타나도,
사람들이 너무 많아 전부 막지는 못했다.

(set: _jeongWe to 
    &#39;&lt;span class=&quot;char-link&quot; &#39; +
    &#39;data-name=&quot;정위철&quot; &#39; +
    &#39;data-age=&quot;30&quot; &#39; +
    &#39;data-region=&quot;평양남도 남포&quot; &#39; +
    &#39;data-trait=&quot;적극적&quot; &#39; +
    &#39;data-money=&quot;&#39; + (str: $money_3) + &#39;&quot; &#39; +
    &#39;data-stamina=&quot;&#39; + (str: $stamina_3) + &#39;&quot; &#39; +
    &#39;data-risk=&quot;&#39; + (str: $risk_3) + &#39;&quot; &#39; +
    &#39;data-trust=&quot;&#39; + (str: $trust_3) + &#39;&quot; &#39; +
    &#39;&gt;&#39; +
    &#39;정위철&#39; +
    &#39;&lt;/span&gt;&#39;
)

(print: _jeongWe)에게도 변화가 찾아왔다.
&lt;/p&gt;

&lt;hr class=&quot;page-separator&quot;&gt;
&lt;ul class=&quot;custom-list&quot;&gt;
&lt;li&gt;대홍수&lt;/li&gt;
&lt;li&gt;고난의 행군&lt;/li&gt;
&lt;li&gt;[[장마당]]&lt;/li&gt;
&lt;/ul&gt;
&lt;div&gt;
[[다음-&gt;1997년_3]]
&lt;/div&gt;



&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;

&lt;!-- 캐릭터 팝업 박스 --&gt;
&lt;div id=&quot;char-popup&quot;&gt;
  &lt;div class=&quot;popup-inner&quot;&gt;
    &lt;button class=&quot;popup-close&quot;&gt;&amp;times;&lt;/button&gt;
    &lt;div class=&quot;popup-header&quot;&gt;
      &lt;div class=&quot;char-portrait-wrap&quot;&gt;&lt;img class=&quot;char-portrait&quot;&gt;&lt;/div&gt;
      &lt;div class=&quot;char-head-text&quot;&gt;
        &lt;h3 class=&quot;char-name&quot;&gt;&lt;/h3&gt;
        &lt;ul class=&quot;char-meta&quot;&gt;
          &lt;li&gt;&lt;span&gt;나이&lt;/span&gt; &lt;span class=&quot;char-age&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;지역&lt;/span&gt; &lt;span class=&quot;char-region&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;성향&lt;/span&gt; &lt;span class=&quot;char-trait&quot;&gt;&lt;/span&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;char-stats&quot;&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;돈&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-money&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;체력&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-stamina&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;리스크&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-risk&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;신뢰&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-trust&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
    &lt;p class=&quot;char-desc&quot;&gt;&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="88" name="1997년_3" tags="" position="1200,2150" size="100,100">
&lt;h1&gt;1997년&lt;/h1&gt;

&lt;h2&gt;배급을 대신하여 . . .&lt;/h2&gt;

&lt;p&gt;지난해, 아버지와 함께 모아둔 연료와 생활물건들.
그중 일부가 요즘은 ‘돈’처럼 여겨졌다.
누군가는 그것을 식량과 바꾸고,
누군가는 약품이나 간단한 의복과 바꿨다.


마을 사람들은 저마다 다른 길을 걷기 시작했다.

누군가는 직접 장사에 나섰고,
누군가는 장사꾼들과 거래하는 ‘중간다리’가 되었고,
누군가는 멀리 도시까지 물건을 옮겨주며 돈을 벌었다.

(set: _jeongWe to 
    &#39;&lt;span class=&quot;char-link&quot; &#39; +
    &#39;data-name=&quot;정위철&quot; &#39; +
    &#39;data-age=&quot;30&quot; &#39; +
    &#39;data-region=&quot;평양남도 남포&quot; &#39; +
    &#39;data-trait=&quot;적극적&quot; &#39; +
    &#39;data-money=&quot;&#39; + (str: $money_3) + &#39;&quot; &#39; +
    &#39;data-stamina=&quot;&#39; + (str: $stamina_3) + &#39;&quot; &#39; +
    &#39;data-risk=&quot;&#39; + (str: $risk_3) + &#39;&quot; &#39; +
    &#39;data-trust=&quot;&#39; + (str: $trust_3) + &#39;&quot; &#39; +
    &#39;&gt;&#39; +
    &#39;정위철&#39; +
    &#39;&lt;/span&gt;&#39;
)

(print: _jeongWe)도 선택해야만 했다.
더 이상 기다리는 것만으로는 아무것도 바뀌지 않았다.
&lt;/p&gt;

&lt;hr class=&quot;page-separator&quot;&gt;
&lt;ul class=&quot;custom-list&quot;&gt;
&lt;li&gt;대홍수&lt;/li&gt;
&lt;li&gt;고난의 행군&lt;/li&gt;
&lt;li&gt;[[장마당]]&lt;/li&gt;
&lt;/ul&gt;
&lt;div&gt;
[[시장에 물건을 내놓고 본격적인 장사를 시도한다.-&gt;1997년_4_1]]
[[장사를 하는 사람들의 ‘운반’과 ‘거래 연결’을 돕는 역할을 맡는다.-&gt;1997년_4_2]]
[[가족이 가진 물건을 정리하고, 교환·장사에 필요한 기본 재고를 모은다.-&gt;1997년_4_3]]
&lt;/div&gt;



&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;

&lt;!-- 캐릭터 팝업 박스 --&gt;
&lt;div id=&quot;char-popup&quot;&gt;
  &lt;div class=&quot;popup-inner&quot;&gt;
    &lt;button class=&quot;popup-close&quot;&gt;&amp;times;&lt;/button&gt;
    &lt;div class=&quot;popup-header&quot;&gt;
      &lt;div class=&quot;char-portrait-wrap&quot;&gt;&lt;img class=&quot;char-portrait&quot;&gt;&lt;/div&gt;
      &lt;div class=&quot;char-head-text&quot;&gt;
        &lt;h3 class=&quot;char-name&quot;&gt;&lt;/h3&gt;
        &lt;ul class=&quot;char-meta&quot;&gt;
          &lt;li&gt;&lt;span&gt;나이&lt;/span&gt; &lt;span class=&quot;char-age&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;지역&lt;/span&gt; &lt;span class=&quot;char-region&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;성향&lt;/span&gt; &lt;span class=&quot;char-trait&quot;&gt;&lt;/span&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;char-stats&quot;&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;돈&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-money&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;체력&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-stamina&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;리스크&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-risk&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;신뢰&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-trust&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
    &lt;p class=&quot;char-desc&quot;&gt;&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="89" name="1997년_4_1" tags="" position="1200,2275" size="100,100">
&lt;h1&gt;1997년&lt;/h1&gt;

&lt;h2&gt;배급을 대신하여 . . .&lt;/h2&gt;

&lt;p&gt;
&lt;시장에 물건을 내놓고 본격적인 장사를 시도한다.&gt;

* 1997년부터 주민들은 생활용품·헌옷·고철·수공구 같은 “집에 있던 잔품”을 들고 장사에 나서기 시작했다.
* 위철은 못, 낡은 라디오 부품, 남은 천 조각 등 지금 당장 없어도 되는 물건을 골라 장마당에 가져간다.
* 큰 이익은 아니지만, 사람들의 가격 감각·물건의 희소성·흥정 방식 같은 새로운 규칙을 몸으로 익힌다.
* 배급이 아닌 “시장 가격”이 생존을 결정하는 시대가 도래했음을 실감한다.
&lt;/p&gt;

(set:
    _moneyDiff_3 to +10,
    _staminaDiff_3 to -5,
    _riskDiff_3 to +7,
    _trustDiff_3 to -5
)

(set:
    $money_3 to $money_3 + _moneyDiff_3,
    $stamina_3 to $stamina_3 + _staminaDiff_3,
    $risk_3 to $risk_3 + _riskDiff_3,
    $trust_3 to $trust_3 + _trustDiff_3
)

&lt;p&gt;돈: +_moneyDiff_3
체력: _staminaDiff_3
리스크: +_riskDiff_3
신뢰: +_trustDiff_3&lt;/p&gt;

[[결과-&gt;결과보기3]]


&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="90" name="1997년_4_2" tags="" position="1325,2275" size="100,100">
&lt;h1&gt;1997년&lt;/h1&gt;

&lt;h2&gt;배급을 대신하여 . . .&lt;/h2&gt;

&lt;p&gt;
&lt;장사를 하는 사람들의 ‘운반’과 ‘거래 연결’을 돕는 역할을 맡는다.&gt;

* 1997년 이후 장사꾼들은 무거운 짐을 들고 이동해야 했고, 청년들이 그 짐을 들어주는 비공식 노동이 흔하게 나타났다.
* 위철은 장사꾼의 부탁을 받아 짐을 옮기거나 사람을 연결해주는 작은 역할을 맡는다.
* 이 과정에서 가격 변동, 어느 지역에 물건이 들어오는지, 단속이 언제 심한지 같은 정보를 자연스럽게 얻게 된다.
* 위험은 적지만, 시장의 구조와 흐름을 누구보다 빨리 익히는 길이다.
&lt;/p&gt;

(set:
    _moneyDiff_3 to +7,
    _staminaDiff_3 to -4,
    _riskDiff_3 to +3,
    _trustDiff_3 to -3
)

(set:
    $money_3 to $money_3 + _moneyDiff_3,
    $stamina_3 to $stamina_3 + _staminaDiff_3,
    $risk_3 to $risk_3 + _riskDiff_3,
    $trust_3 to $trust_3 + _trustDiff_3
)

&lt;p&gt;돈: +_moneyDiff_3
체력: _staminaDiff_3
리스크: +_riskDiff_3
신뢰: +_trustDiff_3&lt;/p&gt;

[[결과-&gt;결과보기3]]

&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="91" name="1997년_4_3" tags="" position="1200,2400" size="100,100">
&lt;h1&gt;1997년&lt;/h1&gt;

&lt;h2&gt;배급을 대신하여 . . .&lt;/h2&gt;

&lt;p&gt;
&lt;가족이 가진 물건을 정리하고, 교환·장사에 필요한 기본 재고를 모은다.&gt;

* 많은 가정이 1997년부터 집안을 뒤져 텍스타일, 옷감, 고철, 생활도구, 오래된 공산품 등을 분류했다.
* 장사에 바로 뛰어들지 않고, 먼저 “무엇이 가치 있는 물건인가”를 판단하는 단계다.
* 이렇게 모은 물건은 향후 장사, 교환, 이동 거래의 기반이 된다.
* 위험을 피하며 시장으로 전환하기 위한 가장 조심스러운 방식이다.
&lt;/p&gt;

(set:
    _moneyDiff_3 to +6,
    _staminaDiff_3 to -2,
    _riskDiff_3 to +2,
    _trustDiff_3 to -2
)

(set:
    $money_3 to $money_3 + _moneyDiff_3,
    $stamina_3 to $stamina_3 + _staminaDiff_3,
    $risk_3 to $risk_3 + _riskDiff_3,
    $trust_3 to $trust_3 + _trustDiff_3
)

&lt;p&gt;돈: +_moneyDiff_3
체력: _staminaDiff_3
리스크: +_riskDiff_3
신뢰: +_trustDiff_3&lt;/p&gt;

[[결과-&gt;결과보기3]]

&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="92" name="2002년_1" tags="" position="600,2600" size="100,100">(set: $money_4 to 20)
(set: $stamina_4 to 20)
(set: $risk_4 to 20)
(set: $trust_4 to 20)
&lt;h1&gt;2002년&lt;/h1&gt;

&lt;h2&gt;가격 조정 . . .&lt;/h2&gt;

&lt;p&gt;여름 볕이 쨍하게 내리쬐던 날, 장마당 게시판에 새 종이가 붙었다.
《가격 및 임금 조정에 관한 국가 방침》. 

사람들은 오래된 국정가격표를 접어 넣고, 종이에 새 숫자를 적었다 지웠다. 
오전과 오후의 값이 다르게 출렁였다. 
국가가 ‘시장 가격’을 따라잡으려는 듯한 기류가 장바닥까지 스며드는 순간이었다.
&lt;/p&gt;

&lt;hr class=&quot;page-separator&quot;&gt;
&lt;ul class=&quot;custom-list&quot;&gt;
&lt;li&gt;[[7·1 경제 관리 개선 조치]]&lt;/li&gt;
&lt;/ul&gt;
&lt;div&gt;
[[다음-&gt;2002년_2]]
&lt;/div&gt;



&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;



&lt;!-- 캐릭터 팝업 박스 --&gt;
&lt;div id=&quot;char-popup&quot;&gt;
  &lt;div class=&quot;popup-inner&quot;&gt;
    &lt;button class=&quot;popup-close&quot;&gt;&amp;times;&lt;/button&gt;
    &lt;div class=&quot;popup-header&quot;&gt;
      &lt;div class=&quot;char-portrait-wrap&quot;&gt;&lt;img class=&quot;char-portrait&quot;&gt;&lt;/div&gt;
      &lt;div class=&quot;char-head-text&quot;&gt;
        &lt;h3 class=&quot;char-name&quot;&gt;&lt;/h3&gt;
        &lt;ul class=&quot;char-meta&quot;&gt;
          &lt;li&gt;&lt;span&gt;나이&lt;/span&gt; &lt;span class=&quot;char-age&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;지역&lt;/span&gt; &lt;span class=&quot;char-region&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;성향&lt;/span&gt; &lt;span class=&quot;char-trait&quot;&gt;&lt;/span&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;char-stats&quot;&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;돈&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-money&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;체력&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-stamina&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;리스크&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-risk&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;신뢰&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-trust&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
    &lt;p class=&quot;char-desc&quot;&gt;&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="93" name="2002년_2" tags="" position="600,2725" size="100,100">
&lt;h1&gt;2002년&lt;/h1&gt;

&lt;h2&gt;시장 공식화 . . .&lt;/h2&gt;

&lt;p&gt;(set: _jeonghs to 
    &#39;&lt;span class=&quot;char-link&quot; &#39; +
    &#39;data-name=&quot;정혁신&quot; &#39; +
    &#39;data-age=&quot;30&quot; &#39; +
    &#39;data-region=&quot;평안북도 신의주&quot; &#39; +
    &#39;data-trait=&quot;신중함&quot; &#39; +
    &#39;data-money=&quot;&#39; + (str: $money_4) + &#39;&quot; &#39; +
    &#39;data-stamina=&quot;&#39; + (str: $stamina_4) + &#39;&quot; &#39; +
    &#39;data-risk=&quot;&#39; + (str: $risk_4) + &#39;&quot; &#39; +
    &#39;data-trust=&quot;&#39; + (str: $trust_4) + &#39;&quot; &#39; +
    &#39;&gt;&#39; +
    &#39;정혁신&#39; +
    &#39;&lt;/span&gt;&#39;
)

(print: _jeonghs)은 좌판 앞에서 연필 끝을 몇 번이고 깎았다. 
가격·임금 ‘현실화’가 시작되자, 쌀·연료·대중교통 같은 생활 단가가 연쇄적으로 손봐졌다. 

공장·기업소에는 “현실에 맞는 계획과 자율 경영”이라는 말이 흘렀다. 
하지만 전력과 원자재가 부족한 공장은 여전히 덜컹거렸다. 
장마당은 더 바빠졌고, 
‘묵인된 공간’이 제도권으로 끌려 들어오는 예감이 퍼졌다.

(set: _jeonghs to 
    &#39;&lt;span class=&quot;char-link&quot; &#39; +
    &#39;data-name=&quot;정혁신&quot; &#39; +
    &#39;data-age=&quot;30&quot; &#39; +
    &#39;data-region=&quot;평안북도 신의주&quot; &#39; +
    &#39;data-trait=&quot;신중함&quot; &#39; +
    &#39;data-money=&quot;&#39; + (str: $money_4) + &#39;&quot; &#39; +
    &#39;data-stamina=&quot;&#39; + (str: $stamina_4) + &#39;&quot; &#39; +
    &#39;data-risk=&quot;&#39; + (str: $risk_4) + &#39;&quot; &#39; +
    &#39;data-trust=&quot;&#39; + (str: $trust_4) + &#39;&quot; &#39; +
    &#39;&gt;&#39; +
    &#39;정혁신&#39; +
    &#39;&lt;/span&gt;&#39;
)

(print: _jeonghs)은 계산해 본다.
오늘의 장마당은 이미 어제와 다르다.

이 변화의 물결에서, 어디에 서야 할까.
&lt;/p&gt;

&lt;hr class=&quot;page-separator&quot;&gt;
&lt;ul class=&quot;custom-list&quot;&gt;
&lt;li&gt;[[7·1 경제 관리 개선 조치]]&lt;/li&gt;
&lt;/ul&gt;
&lt;div&gt;
[[새벽에 나가 ‘미래 종합시장’ 명당자리를 선점한다.-&gt;2002년_3_1]]
[[가격 변동을 이용한 스피드 회전 장사에 뛰어든다.-&gt;2002년_3_2]]
[[공장·기업소와 장마당을 잇는 ‘비공식 중개자’가 된다.-&gt;2002년_3_3]]
&lt;/div&gt;



&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;

&lt;!-- 캐릭터 팝업 박스 --&gt;
&lt;div id=&quot;char-popup&quot;&gt;
  &lt;div class=&quot;popup-inner&quot;&gt;
    &lt;button class=&quot;popup-close&quot;&gt;&amp;times;&lt;/button&gt;
    &lt;div class=&quot;popup-header&quot;&gt;
      &lt;div class=&quot;char-portrait-wrap&quot;&gt;&lt;img class=&quot;char-portrait&quot;&gt;&lt;/div&gt;
      &lt;div class=&quot;char-head-text&quot;&gt;
        &lt;h3 class=&quot;char-name&quot;&gt;&lt;/h3&gt;
        &lt;ul class=&quot;char-meta&quot;&gt;
          &lt;li&gt;&lt;span&gt;나이&lt;/span&gt; &lt;span class=&quot;char-age&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;지역&lt;/span&gt; &lt;span class=&quot;char-region&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;성향&lt;/span&gt; &lt;span class=&quot;char-trait&quot;&gt;&lt;/span&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;char-stats&quot;&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;돈&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-money&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;체력&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-stamina&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;리스크&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-risk&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;신뢰&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-trust&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
    &lt;p class=&quot;char-desc&quot;&gt;&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="94" name="7·1 경제 관리 개선 조치" tags="" position="725,2600" size="100,100">&lt;h1&gt;7·1 경제 관리 개선 조치&lt;/h1&gt;

&lt;p&gt;&lt;strong&gt;1. 배경&lt;/strong&gt;&lt;br&gt;
고난의 행군 이후 국가 배급 시스템이 붕괴되고 장마당이 비대해지면서 계획 경제와 현실의 괴리가 극심해짐. 이중 가격 구조로 인해 국가 재정이 고갈되고 생산 의욕이 저하되자 시장 기능을 제도권으로 흡수하여 마비된 경제를 정상화하려는 특단의 대책이 강구됨.&lt;br&gt;&lt;br&gt;

&lt;strong&gt;2. 전개 (2002. 7)&lt;/strong&gt;&lt;br&gt;
-&amp;nbsp; 가격과 임금을 장마당 시세에 근접하게 현실화하는 조치를 단행함. 쌀 1킬로그램 가격을 기존 8전에서 44원으로 대폭 인상하고 노동자 평균 월급을 110원에서 2천 원 대로 약 18배 인상함.&lt;br&gt;

-&amp;nbsp; 고정 환율제를 폐지하고 미 달러화 대비 환율을 1달러당 2.15원에서 150원으로 조정하여 암시장 환율을 공식 인정함. 국가 보조금을 삭감하고 상품 거래를 전면 현금화함.&lt;br&gt;
-&amp;nbsp; 사회주의 분배 원칙인 번 수입에 의한 평가를 도입함. 공장과 기업소에 경영 자율권을 부여하고 실적에 따라 임금을 차등 지급하는 성과급 제도를 시행하여 노동 생산성을 높이고자 함.&lt;br&gt;&lt;br&gt;

&lt;strong&gt;3. 결과&lt;/strong&gt;&lt;br&gt;
- &lt;strong&gt;성과:&lt;/strong&gt; 초기에는 암시장의 자금이 국영 상점으로 흡수되고 기업소의 독립채산제가 강화되어 일시적인 생산 활력 효과가 나타남.&lt;br&gt;
- &lt;strong&gt;한계:&lt;/strong&gt; 물자 공급 능력이 결여된 상태에서 임금만 인상되어 살인적인 초인플레이션이 발생함. 쌀값이 천정부지로 치솟고 화폐 가치가 폭락하여 주민들의 생활고가 오히려 가중됨.&lt;br&gt;
- &lt;strong&gt;평가:&lt;/strong&gt; 북한 정권 수립 이후 최초로 시장 경제 요소를 과감히 도입한 위로부터의 개혁 시도임. 그러나 불완전한 개혁과 생산 기반 부족으로 인해 계획 경제 복원이라는 당초 목표에 실패하고 시장화가 가속화되는 역설적 결과를 낳음.&lt;/p&gt;

&lt;p style=&quot;font-size: 1.0em; border-top: 1px solid #ccc; padding-top: 10px; color: #666;&quot;&gt;
&lt;strong&gt;출처 및 참고자료&lt;/strong&gt;&lt;br&gt;
&lt;p style=&quot;font-size: 1.0em; border-top: 1px solid #ccc; padding-top: 10px; color: #666;&quot;&gt;
&lt;strong&gt;출처 및 참고자료&lt;/strong&gt;
* 한국학중앙연구원, &quot;7·1 경제관리개선조치&quot;,   &lt;a href=&quot;https://encykorea.aks.ac.kr/Article/E0070270&quot; target=&quot;_blank&quot;&gt;한국민족문화대백과사전&lt;/a&gt;
* 남성욱 외, &quot;북한의 7·1 경제관리개선조치와 농업개혁 전망&quot;,   &lt;a href=&quot;https://repository.krei.re.kr/bitstream/2018.oak/18261/1/%EB%B6%81%ED%95%9C%EC%9D%98%207%C2%B71%20%EA%B2%BD%EC%A0%9C%EA%B4%80%EB%A6%AC%EA%B0%9C%EC%84%A0%EC%A1%B0%EC%B9%98%EC%99%80%20%EB%86%8D%EC%97%85%EA%B0%9C%ED%98%81%20%EC%A0%84%EB%A7%9D.pdf&quot; target=&quot;_blank&quot;&gt;한국농촌경제연구원(KREI)&lt;/a&gt;
* 이슈인사이트, &quot;7·1조치 이후 북한의 경제관리 변화&quot;,   &lt;a href=&quot;https://www.korea.kr/news/cultureColumnView.do?newsId=148676970&quot; target=&quot;_blank&quot;&gt;대한민국 정책브리핑&lt;/a&gt;
&lt;/p&gt;

&lt;/p&gt;


&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="95" name="2002년_3_1" tags="" position="475,2850" size="100,100">
&lt;h1&gt;2002년&lt;/h1&gt;

&lt;h2&gt;시장 공식화 . . .&lt;/h2&gt;

&lt;p&gt;
&lt;새벽에 나가 ‘미래 종합시장’ 명당자리를 선점한다.&gt;

* 7·1 조치 이후 시장이 제도권으로 편입될 조짐이 나타나며, 고정 좌판의 가치가 급격히 상승한다.
* 출입구 동선, 그늘, 운반 동선이 좋은 자리는 곧 “재산”이 되어 자리세·관리료를 감수할 사람들도 생겼다.
* 안정적인 손님 흐름이 생기면서 단골과 품목 확장이 유리해진다.
* 그러나 규정·관리의 눈길을 피하기 어려워지고, 시장 질서 변화의 영향을 가장 민감하게 받는다.
&lt;/p&gt;

(set:
    _moneyDiff_4 to +12,
    _staminaDiff_4 to -6,
    _riskDiff_4 to +8,
    _trustDiff_4 to -4
)

(set:
    $money_4 to $money_4 + _moneyDiff_4,
    $stamina_4 to $stamina_4 + _staminaDiff_4,
    $risk_4 to $risk_4 + _riskDiff_4,
    $trust_4 to $trust_4 + _trustDiff_4
)

&lt;p&gt;돈: +_moneyDiff_4
체력: _staminaDiff_4
리스크: +_riskDiff_4
신뢰: +_trustDiff_4&lt;/p&gt;

[[다음 -&gt;2005년_1]]

&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="96" name="2002년_3_2" tags="" position="600,2850" size="100,100">
&lt;h1&gt;2002년&lt;/h1&gt;

&lt;h2&gt;시장 공식화 . . .&lt;/h2&gt;

&lt;p&gt;
&lt;가격 변동을 이용한 스피드 회전 장사에 뛰어든다.&gt;

* 가격·임금 현실화 이후 쌀·비누·라이터 같은 빠른 회전 품목의 장마당 가격이 단기간 크게 흔들렸다.
* 혁신은 이 틈을 이용해 저가 시간대에 매입하고, 오후 시장 분위기에 맞춰 차익 판매를 시도한다.
* 적은 자본으로도 현금 회전이 빠르게 일어나 수익을 쌓을 수 있다.
* 다만 하루에도 손익이 갈리고, 물가 변동이 심한 시기라 위험 부담도 크다.
&lt;/p&gt;

(set:
    _moneyDiff_4 to +13,
    _staminaDiff_4 to -5,
    _riskDiff_4 to +10,
    _trustDiff_4 to -5
)

(set:
    $money_4 to $money_4 + _moneyDiff_4,
    $stamina_4 to $stamina_4 + _staminaDiff_4,
    $risk_4 to $risk_4 + _riskDiff_4,
    $trust_4 to $trust_4 + _trustDiff_4
)

&lt;p&gt;돈: +_moneyDiff_4
체력: _staminaDiff_4
리스크: +_riskDiff_4
신뢰: +_trustDiff_4&lt;/p&gt;

[[다음 -&gt;2005년_1]]

&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="97" name="2002년_3_3" tags="" position="725,2850" size="100,100">
&lt;h1&gt;2002년&lt;/h1&gt;

&lt;h2&gt;시장 공식화 . . .&lt;/h2&gt;

&lt;p&gt;
&lt;공장·기업소와 장마당을 잇는 ‘비공식 중개자’가 된다.&gt;

* 7·1 조치 후 일부 기업소는 부족한 부품·연료를 스스로 조달해야 했고, 장마당이 사실상 뒤를 받쳤다.
* 혁신은 공장의 요청을 받아 장마당에서 필요한 물자를 조달하고, 신뢰와 정보력을 기반으로 수수료를 챙긴다.
* 큰 자본이 없어도 관계·정보가 자산이 되며, 훗날 도매–소매 연결로 확장될 가능성이 생긴다.
* 하지만 공식 신분이 아니어서 단속·오해의 위험이 늘 따라붙는다.
&lt;/p&gt;

(set:
    _moneyDiff_4 to +14,
    _staminaDiff_4 to -6,
    _riskDiff_4 to +11,
    _trustDiff_4 to -6
)

(set:
    $money_4 to $money_4 + _moneyDiff_4,
    $stamina_4 to $stamina_4 + _staminaDiff_4,
    $risk_4 to $risk_4 + _riskDiff_4,
    $trust_4 to $trust_4 + _trustDiff_4
)

&lt;p&gt;돈: +_moneyDiff_4
체력: _staminaDiff_4
리스크: +_riskDiff_4
신뢰: +_trustDiff_4&lt;/p&gt;

[[다음 -&gt;2005년_1]]

&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="98" name="2005년_1" tags="" position="900,2600" size="100,100">
&lt;h1&gt;2006년&lt;/h1&gt;

&lt;h2&gt;무역이 막히며 . . .&lt;/h2&gt;

&lt;p&gt;2006년 들어서는 공장 노동자들조차
“장마당 없는 날은 바로 굶는 날”이라는 말을 솔직하게 내뱉곤 했다.

여름이 되자 소문이 더 확실해졌다.
UN 쪽에서 제재가 강화되고, 금융이 막히고,
북한이 달러를 구하기가 어려워졌다.
그 여파는 곧바로 장마당의 “중간 사람들”에게 전달됐다.

원래 중국에서 물건을 끌어오던 중개 상인들이
예전처럼 매주 넘어오지 않았다.
어떤 날은 하루 종일 장마당을 둘러봐도
비누 한 개, 건전지 한 묶음도 찾기 어려웠다.
&lt;/p&gt;

&lt;hr class=&quot;page-separator&quot;&gt;
&lt;ul class=&quot;custom-list&quot;&gt;
&lt;li&gt;7·1 경제 관리 개선 조치&lt;/li&gt;
&lt;li&gt;[[UN 안보리]]&lt;/li&gt;
&lt;/ul&gt;
&lt;div&gt;
[[다음-&gt;2005년_2]]
&lt;/div&gt;



&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;

&lt;!-- 캐릭터 팝업 박스 --&gt;
&lt;div id=&quot;char-popup&quot;&gt;
  &lt;div class=&quot;popup-inner&quot;&gt;
    &lt;button class=&quot;popup-close&quot;&gt;&amp;times;&lt;/button&gt;
    &lt;div class=&quot;popup-header&quot;&gt;
      &lt;div class=&quot;char-portrait-wrap&quot;&gt;&lt;img class=&quot;char-portrait&quot;&gt;&lt;/div&gt;
      &lt;div class=&quot;char-head-text&quot;&gt;
        &lt;h3 class=&quot;char-name&quot;&gt;&lt;/h3&gt;
        &lt;ul class=&quot;char-meta&quot;&gt;
          &lt;li&gt;&lt;span&gt;나이&lt;/span&gt; &lt;span class=&quot;char-age&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;지역&lt;/span&gt; &lt;span class=&quot;char-region&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;성향&lt;/span&gt; &lt;span class=&quot;char-trait&quot;&gt;&lt;/span&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;char-stats&quot;&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;돈&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-money&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;체력&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-stamina&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;리스크&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-risk&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;신뢰&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-trust&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
    &lt;p class=&quot;char-desc&quot;&gt;&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="99" name="2005년_2" tags="" position="900,2725" size="100,100">
&lt;h1&gt;2006년&lt;/h1&gt;

&lt;h2&gt;무역이 막히며 . . .&lt;/h2&gt;

&lt;p&gt;그 무렵, 접경 지역에서 나온 이야기가 장마당에 퍼졌다.

열차표가 돈이 아니라 면도날·비누·식용유로 거래되었다는 이야기

세관 단속 때문에 상인이 보따리를 중국 쪽 강변에 몰래 던져놓고 밤에 꺼내왔다는 이야기

“올해 가을엔 설탕이 사라질 거라더라”는 말

사람들은 모두가 알고도 모르는 척했다.
외환이 막히면, 무역이 줄어들면,
장마당은 가장 먼저 흔들린다는 사실을.

(set: _jeonghs to 
    &#39;&lt;span class=&quot;char-link&quot; &#39; +
    &#39;data-name=&quot;정혁신&quot; &#39; +
    &#39;data-age=&quot;30&quot; &#39; +
    &#39;data-region=&quot;평안북도 신의주&quot; &#39; +
    &#39;data-trait=&quot;신중함&quot; &#39; +
    &#39;data-money=&quot;&#39; + (str: $money_4) + &#39;&quot; &#39; +
    &#39;data-stamina=&quot;&#39; + (str: $stamina_4) + &#39;&quot; &#39; +
    &#39;data-risk=&quot;&#39; + (str: $risk_4) + &#39;&quot; &#39; +
    &#39;data-trust=&quot;&#39; + (str: $trust_4) + &#39;&quot; &#39; +
    &#39;&gt;&#39; +
    &#39;정혁신&#39; +
    &#39;&lt;/span&gt;&#39;
)

(print: _jeonghs)은 선택하여야 한다.
&lt;/p&gt;

&lt;hr class=&quot;page-separator&quot;&gt;
&lt;ul class=&quot;custom-list&quot;&gt;
&lt;li&gt;7·1 경제 관리 개선 조치&lt;/li&gt;
&lt;li&gt;[[UN 안보리]]&lt;/li&gt;
&lt;/ul&gt;
&lt;div&gt;
[[국경 단속 사이의 ‘틈’을 노리고 중국산 생활재 품목을 빨리 확보해둔다.-&gt;2005년_3_1]]
[[화폐 대신 ‘교환물품 중심’으로 전환해 장사를 이어간다.-&gt;2005년_3_2]]
[[공장·기업소 노동자 대상 ‘생필품 꾸러미 판매’를 시작한다.-&gt;2005년_3_3]]
&lt;/div&gt;



&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;

&lt;!-- 캐릭터 팝업 박스 --&gt;
&lt;div id=&quot;char-popup&quot;&gt;
  &lt;div class=&quot;popup-inner&quot;&gt;
    &lt;button class=&quot;popup-close&quot;&gt;&amp;times;&lt;/button&gt;
    &lt;div class=&quot;popup-header&quot;&gt;
      &lt;div class=&quot;char-portrait-wrap&quot;&gt;&lt;img class=&quot;char-portrait&quot;&gt;&lt;/div&gt;
      &lt;div class=&quot;char-head-text&quot;&gt;
        &lt;h3 class=&quot;char-name&quot;&gt;&lt;/h3&gt;
        &lt;ul class=&quot;char-meta&quot;&gt;
          &lt;li&gt;&lt;span&gt;나이&lt;/span&gt; &lt;span class=&quot;char-age&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;지역&lt;/span&gt; &lt;span class=&quot;char-region&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;성향&lt;/span&gt; &lt;span class=&quot;char-trait&quot;&gt;&lt;/span&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;char-stats&quot;&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;돈&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-money&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;체력&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-stamina&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;리스크&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-risk&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;신뢰&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-trust&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
    &lt;p class=&quot;char-desc&quot;&gt;&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="100" name="2005년_3_1" tags="" position="900,2850" size="100,100">
&lt;h1&gt;2006년&lt;/h1&gt;

&lt;h2&gt;무역이 막히며 . . .&lt;/h2&gt;

&lt;p&gt;
&lt;국경 단속 사이의 ‘틈’을 노리고 중국산 생활재 품목을 빨리 확보해둔다.&gt;

* 2005년 이후 무역이 막히자 비누·건전지·라이터 같은 생활재는
“들어올 때 한꺼번에 들어오는” 날이 있다는 증언이 많았다.
* 단속이 심해졌다 풀렸다 하며 시장 물가는 며칠 사이에도 크게 출렁였다.
* 혁신은 위험을 감수하고 그 짧은 개방 구간을 노려 필수 물자를 미리 확보해둔다.
* 그는 생각한다. “오늘 못 챙기면, 다음 번엔 몇 배 값을 주고도 못 살지도 몰라.”
&lt;/p&gt;

(set:
    _moneyDiff_4 to +12,
    _staminaDiff_4 to -4,
    _riskDiff_4 to +13,
    _trustDiff_4 to -6
)

(set:
    $money_4 to $money_4 + _moneyDiff_4,
    $stamina_4 to $stamina_4 + _staminaDiff_4,
    $risk_4 to $risk_4 + _riskDiff_4,
    $trust_4 to $trust_4 + _trustDiff_4
)

&lt;p&gt;돈: +_moneyDiff_4
체력: _staminaDiff_4
리스크: +_riskDiff_4
신뢰: +_trustDiff_4&lt;/p&gt;

[[다음 -&gt;2009년_1]]

&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="101" name="2005년_3_2" tags="" position="1025,2850" size="100,100">
&lt;h1&gt;2006년&lt;/h1&gt;

&lt;h2&gt;무역이 막히며 . . .&lt;/h2&gt;

&lt;p&gt;
&lt;화폐 대신 ‘교환물품 중심’으로 전환해 장사를 이어간다.&gt;

* 2005년 무렵 주민 증언에는 “돈보다 비누가 더 믿을 만하다”는 말이 자주 등장했다.
* 물가가 불안정해지자 장마당에서는 잔돈 대신 생활재를 건네는 광경이 흔해졌다.
* 혁신은 거래 방식을 완전히 바꾸며, 화폐 대신 안정적인 ‘현물’을 쌓기 시작한다.
* 그의 머릿속엔 현실적인 계산이 맴돈다. “돈이 흔들리는 시기엔, 물건이 곧 돈이다.”
&lt;/p&gt;

(set:
    _moneyDiff_4 to +10,
    _staminaDiff_4 to -2,
    _riskDiff_4 to +6,
    _trustDiff_4 to -4
)

(set:
    $money_4 to $money_4 + _moneyDiff_4,
    $stamina_4 to $stamina_4 + _staminaDiff_4,
    $risk_4 to $risk_4 + _riskDiff_4,
    $trust_4 to $trust_4 + _trustDiff_4
)

&lt;p&gt;돈: +_moneyDiff_4
체력: _staminaDiff_4
리스크: +_riskDiff_4
신뢰: +_trustDiff_4&lt;/p&gt;

[[다음 -&gt;2009년_1]]

&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="102" name="2005년_3_3" tags="" position="900,2975" size="100,100">
&lt;h1&gt;2006년&lt;/h1&gt;

&lt;h2&gt;무역이 막히며 . . .&lt;/h2&gt;

&lt;p&gt;
&lt;공장·기업소 노동자 대상 ‘생필품 꾸러미 판매’를 시작한다.&gt;

* 2005년 공장 임금은 몇 달씩 밀리거나 실질 가치가 크게 떨어졌다는 보고가 많았다.
* 노동자들은 급여 대신 장마당에서 바로 쓸 수 있는 생필품을 찾기 시작했다.
* 혁신은 비누·성냥·건전지·소금 등을 묶어 “하루를 버티는 꾸러미”로 만들어 판매한다.
* 그리고 깨닫는다. “사람들은 지금, 돈보다 당장 손에 쥘 수 있는 걸 원한다.”
&lt;/p&gt;

(set:
    _moneyDiff_4 to +12,
    _staminaDiff_4 to -3,
    _riskDiff_4 to +7,
    _trustDiff_4 to -4
)

(set:
    $money_4 to $money_4 + _moneyDiff_4,
    $stamina_4 to $stamina_4 + _staminaDiff_4,
    $risk_4 to $risk_4 + _riskDiff_4,
    $trust_4 to $trust_4 + _trustDiff_4
)

&lt;p&gt;돈: +_moneyDiff_4
체력: _staminaDiff_4
리스크: +_riskDiff_4
신뢰: +_trustDiff_4&lt;/p&gt;

[[다음 -&gt;2009년_1]]

&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="103" name="2009년_1" tags="" position="1200,2600" size="100,100">
&lt;h1&gt;2009년&lt;/h1&gt;

&lt;h2&gt;통화 개혁 . . .&lt;/h2&gt;

&lt;p&gt;11월 30일 오전 11시.
화폐 교환을 실시한다는 이야기가 들려왔다.

&lt;img src=&quot;https://i.imgur.com/rwXJlWn.png&quot; style=&quot;width: 50%; height: auto;&quot;&gt;

“세대당 10만 원 한도.”

(set: _jeonghs to 
    &#39;&lt;span class=&quot;char-link&quot; &#39; +
    &#39;data-name=&quot;정혁신&quot; &#39; +
    &#39;data-age=&quot;30&quot; &#39; +
    &#39;data-region=&quot;평안북도 신의주&quot; &#39; +
    &#39;data-trait=&quot;신중함&quot; &#39; +
    &#39;data-money=&quot;&#39; + (str: $money_4) + &#39;&quot; &#39; +
    &#39;data-stamina=&quot;&#39; + (str: $stamina_4) + &#39;&quot; &#39; +
    &#39;data-risk=&quot;&#39; + (str: $risk_4) + &#39;&quot; &#39; +
    &#39;data-trust=&quot;&#39; + (str: $trust_4) + &#39;&quot; &#39; +
    &#39;&gt;&#39; +
    &#39;정혁신&#39; +
    &#39;&lt;/span&gt;&#39;
)

(print: _jeonghs)은 얼어붙었다.
그는 지난 10년 동안 장사해서 한 푼 한 푼 모아온 돈을 떠올렸다.
밤에 화물열차 완충기 사이에 매달려 이동하며 번 돈,
비누를 팔아 번 돈,
중국산 라이터를 몰래 받아 팔아 모은 이익.

그렇게 모은 돈이 100만 원이 넘었다.
북한에서 노동자 한 사람이 보유한 평균 현금 수준이 정확히 그랬다.

그런데 국가가 준다는 것은
딱 10만 원.

남은 90만 원 이상은 그대로 휴지가 되었다.
&lt;/p&gt;

&lt;hr class=&quot;page-separator&quot;&gt;
&lt;ul class=&quot;custom-list&quot;&gt;
&lt;li&gt;7·1 경제 관리 개선 조치&lt;/li&gt;
&lt;li&gt;UN 안보리&lt;/li&gt;
&lt;li&gt;[[통화 개혁]]&lt;/li&gt;
&lt;/ul&gt;
&lt;div&gt;
[[다음-&gt;2009년_2]]
&lt;/div&gt;



&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;

&lt;!-- 캐릭터 팝업 박스 --&gt;
&lt;div id=&quot;char-popup&quot;&gt;
  &lt;div class=&quot;popup-inner&quot;&gt;
    &lt;button class=&quot;popup-close&quot;&gt;&amp;times;&lt;/button&gt;
    &lt;div class=&quot;popup-header&quot;&gt;
      &lt;div class=&quot;char-portrait-wrap&quot;&gt;&lt;img class=&quot;char-portrait&quot;&gt;&lt;/div&gt;
      &lt;div class=&quot;char-head-text&quot;&gt;
        &lt;h3 class=&quot;char-name&quot;&gt;&lt;/h3&gt;
        &lt;ul class=&quot;char-meta&quot;&gt;
          &lt;li&gt;&lt;span&gt;나이&lt;/span&gt; &lt;span class=&quot;char-age&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;지역&lt;/span&gt; &lt;span class=&quot;char-region&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;성향&lt;/span&gt; &lt;span class=&quot;char-trait&quot;&gt;&lt;/span&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;char-stats&quot;&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;돈&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-money&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;체력&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-stamina&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;리스크&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-risk&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;신뢰&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-trust&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
    &lt;p class=&quot;char-desc&quot;&gt;&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="104" name="통화 개혁" tags="" position="1325,2600" size="100,100">&lt;h1&gt;2009년 화폐 개혁&lt;/h1&gt;

&lt;p&gt;&lt;strong&gt;1. 배경&lt;/strong&gt;&lt;br&gt;
2002년 7·1 조치 이후 인플레이션이 심화되고 시장 세력이 급성장하여 국가의 경제 통제력이 약화됨. 2012년 강성대국 진입을 앞두고 지하 자금을 양성화하여 국가 재정을 확충하고 신흥 자본가 계층인 돈주를 견제하여 계획 경제의 질서를 회복하고자 함.&lt;br&gt;&lt;br&gt;

&lt;strong&gt;2. 전개 (2009. 11)&lt;/strong&gt;&lt;br&gt;
-&amp;nbsp; 2009년 11월 30일 오전 11시를 기해 구권과 신권의 교환 비율을 100대 1로 설정하는 전격적인 화폐 개혁을 단행함. 사전 예고 없이 기습적으로 이루어진 조치였음.&lt;br&gt;
-&amp;nbsp; 세대당 교환 한도를 초기 10만 원으로 극히 제한하여 그 이상의 현금 자산은 휴지 조각으로 만듦. 시장을 통해 축적된 개인의 부를 강제로 몰수하고 노동자 등 빈곤층의 지지를 확보하려는 의도가 내포됨.&lt;br&gt;
-&amp;nbsp; 장마당 폐쇄 조치와 함께 외화 사용을 전면 금지하고 국영 상점 이용을 강제함. 시장 기능을 무력화하고 사회주의 계획 경제 체제로의 강제적 회귀를 시도함.&lt;br&gt;&lt;br&gt;

&lt;strong&gt;3. 결과&lt;/strong&gt;&lt;br&gt;
- &lt;strong&gt;성과:&lt;/strong&gt; 시중의 유동 자금을 일시적으로 흡수했으나 경제 구조의 근본적 개선 없는 무리한 조치로 사실상 성과가 전무함.&lt;br&gt;
- &lt;strong&gt;한계:&lt;/strong&gt; 시장 기능이 마비되고 쌀값이 수백 배 폭등하는 살인적인 초인플레이션이 발생함. 평생 모은 재산을 잃은 주민들의 집단적 저항과 소요 사태가 발생하는 등 체제 불안정이 가중됨.&lt;br&gt;
- &lt;strong&gt;평가:&lt;/strong&gt; 북한 원화에 대한 공신력이 완전히 붕괴되어 달러와 위안화가 일상적으로 통용되는 경제의 달러라이제이션이 고착화됨. 정책 실패의 책임을 물어 박남기 당 계획재정부장이 처형되고 총리 김영일이 이례적으로 공개 사과함.&lt;/p&gt;

&lt;p style=&quot;font-size: 1.0em; border-top: 1px solid #ccc; padding-top: 10px; color: #666;&quot;&gt;
&lt;strong&gt;출처 및 참고자료&lt;/strong&gt;&lt;br&gt;
* 양운철, &quot;2009년 11월 화폐개혁 이후의 북한경제: 현황과 전망&quot;, &lt;a href=&quot;https://www.kci.go.kr/kciportal/ci/sereArticleSearch/ciSereArtiView.kci?sereArticleSearchBean.artiId=ART001554677&quot; target=&quot;_blank&quot;&gt;KCI&lt;/a&gt;
* 양문수, &quot;북한의 화폐개혁: 실태와 평가&quot;, &lt;a href=&quot;https://kiss.kstudy.com/Detail/Ar?key=3381964&quot; target=&quot;_blank&quot;&gt;통일문제연구&lt;/a&gt;
* PIIE, &quot;North Korea&#39;s Failed Currency Reform&quot;, &lt;a href=&quot;https://www.piie.com/commentary/op-eds/north-koreas-failed-currency-reform&quot; target=&quot;_blank&quot;&gt;PIIE&lt;/a&gt;
* The Guardian, &quot;North Korea &#39;panic&#39; after surprise currency revaluation&quot;, &lt;a href=&quot;https://www.theguardian.com/world/2009/dec/03/north-korea-won-currency-revaluation&quot; target=&quot;_blank&quot;&gt;The Guardian&lt;/a&gt;
&lt;/p&gt;


&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="105" name="2009년_2" tags="" position="1200,2725" size="100,100">
&lt;h1&gt;2009년&lt;/h1&gt;

&lt;h2&gt;통화 개혁 . . .&lt;/h2&gt;

&lt;p&gt;(set: _jeonghs to 
    &#39;&lt;span class=&quot;char-link&quot; &#39; +
    &#39;data-name=&quot;정혁신&quot; &#39; +
    &#39;data-age=&quot;30&quot; &#39; +
    &#39;data-region=&quot;평안북도 신의주&quot; &#39; +
    &#39;data-trait=&quot;신중함&quot; &#39; +
    &#39;data-money=&quot;&#39; + (str: $money_4) + &#39;&quot; &#39; +
    &#39;data-stamina=&quot;&#39; + (str: $stamina_4) + &#39;&quot; &#39; +
    &#39;data-risk=&quot;&#39; + (str: $risk_4) + &#39;&quot; &#39; +
    &#39;data-trust=&quot;&#39; + (str: $trust_4) + &#39;&quot; &#39; +
    &#39;&gt;&#39; +
    &#39;정혁신&#39; +
    &#39;&lt;/span&gt;&#39;
)

(print: _jeonghs)은 손에 쥔 돈 뭉치를 바라봤다.
“이걸로 쌀 40kg 정도는 살 수 있었는데…”
그 사실이 뼈처럼 마음을 찔렀다.

쌀 1kg 2,500원.
100만 원이면 40kg씩 스무 번을 살 수 있는 돈이었다.
가족을 몇 달은 먹여 살릴 수 있는 금액이었다.

그 모든 가치가 한순간에 사라졌다.

장마당으로 나가니 사람들은 멍한 얼굴로
자기 돈을 주머니에서 꺼내 쳐다보고만 있었다.
누군가 중얼거렸다.
&lt;/p&gt;

&lt;hr class=&quot;page-separator&quot;&gt;
&lt;ul class=&quot;custom-list&quot;&gt;
&lt;li&gt;7·1 경제 관리 개선 조치&lt;/li&gt;
&lt;li&gt;UN 안보리&lt;/li&gt;
&lt;li&gt;[[통화 개혁]]&lt;/li&gt;
&lt;/ul&gt;
&lt;div&gt;
[[다음-&gt;2009년_3]]
&lt;/div&gt;



&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;

&lt;!-- 캐릭터 팝업 박스 --&gt;
&lt;div id=&quot;char-popup&quot;&gt;
  &lt;div class=&quot;popup-inner&quot;&gt;
    &lt;button class=&quot;popup-close&quot;&gt;&amp;times;&lt;/button&gt;
    &lt;div class=&quot;popup-header&quot;&gt;
      &lt;div class=&quot;char-portrait-wrap&quot;&gt;&lt;img class=&quot;char-portrait&quot;&gt;&lt;/div&gt;
      &lt;div class=&quot;char-head-text&quot;&gt;
        &lt;h3 class=&quot;char-name&quot;&gt;&lt;/h3&gt;
        &lt;ul class=&quot;char-meta&quot;&gt;
          &lt;li&gt;&lt;span&gt;나이&lt;/span&gt; &lt;span class=&quot;char-age&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;지역&lt;/span&gt; &lt;span class=&quot;char-region&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;성향&lt;/span&gt; &lt;span class=&quot;char-trait&quot;&gt;&lt;/span&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;char-stats&quot;&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;돈&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-money&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;체력&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-stamina&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;리스크&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-risk&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;신뢰&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-trust&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
    &lt;p class=&quot;char-desc&quot;&gt;&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="106" name="2009년_3" tags="" position="1200,2850" size="100,100">
&lt;h1&gt;2009년&lt;/h1&gt;

&lt;h2&gt;통화 개혁 . . .&lt;/h2&gt;

&lt;p&gt;“…눈 뜨고 도둑 맞은 거지.”

(set: _jeonghs to 
    &#39;&lt;span class=&quot;char-link&quot; &#39; +
    &#39;data-name=&quot;정혁신&quot; &#39; +
    &#39;data-age=&quot;30&quot; &#39; +
    &#39;data-region=&quot;평안북도 신의주&quot; &#39; +
    &#39;data-trait=&quot;신중함&quot; &#39; +
    &#39;data-money=&quot;&#39; + (str: $money_4) + &#39;&quot; &#39; +
    &#39;data-stamina=&quot;&#39; + (str: $stamina_4) + &#39;&quot; &#39; +
    &#39;data-risk=&quot;&#39; + (str: $risk_4) + &#39;&quot; &#39; +
    &#39;data-trust=&quot;&#39; + (str: $trust_4) + &#39;&quot; &#39; +
    &#39;&gt;&#39; +
    &#39;정혁신&#39; +
    &#39;&lt;/span&gt;&#39;
)

(print: _jeonghs)은 그 말에 반박할 힘도 없었다.
그는 그저 두 손을 떨며 말했다.

“…이제, 우리 보고 어떻게 살라는 거지?”

장마당은 그대로 무너지고 있었다.
돈을 믿는 사람이 없어지고,
가격은 무의미해지고,
사람들은 서로의 눈치만 살폈다.

그 혼돈 속에서,
(set: _jeonghs to 
    &#39;&lt;span class=&quot;char-link&quot; &#39; +
    &#39;data-name=&quot;정혁신&quot; &#39; +
    &#39;data-age=&quot;30&quot; &#39; +
    &#39;data-region=&quot;평안북도 신의주&quot; &#39; +
    &#39;data-trait=&quot;신중함&quot; &#39; +
    &#39;data-money=&quot;&#39; + (str: $money_4) + &#39;&quot; &#39; +
    &#39;data-stamina=&quot;&#39; + (str: $stamina_4) + &#39;&quot; &#39; +
    &#39;data-risk=&quot;&#39; + (str: $risk_4) + &#39;&quot; &#39; +
    &#39;data-trust=&quot;&#39; + (str: $trust_4) + &#39;&quot; &#39; +
    &#39;&gt;&#39; +
    &#39;정혁신&#39; +
    &#39;&lt;/span&gt;&#39;
)

(print: _jeonghs)은 반드시 선택해야 했다.
&lt;/p&gt;

&lt;hr class=&quot;page-separator&quot;&gt;
&lt;ul class=&quot;custom-list&quot;&gt;
&lt;li&gt;7·1 경제 관리 개선 조치&lt;/li&gt;
&lt;li&gt;UN 안보리&lt;/li&gt;
&lt;li&gt;[[통화 개혁]]&lt;/li&gt;
&lt;/ul&gt;
&lt;div&gt;
[[남은 돈을 새 화폐로 바꿀 수 있는 한도까지 바꾸고, 살 수 있는 것을 사들인다.-&gt;2009년_4_1]]
[[휴지가 된 돈뭉치를 내려다보다가, 물물교환을 기본으로 삼는 새로운 방식으로 즉시 전환한다.-&gt;2009년_4_2]]
[[새 화폐 가격이 안정될 때까지 좌판을 접고 ‘백지 상태에서 재시작’을 선택한다.-&gt;2009년_4_3]]
&lt;/div&gt;



&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;

&lt;!-- 캐릭터 팝업 박스 --&gt;
&lt;div id=&quot;char-popup&quot;&gt;
  &lt;div class=&quot;popup-inner&quot;&gt;
    &lt;button class=&quot;popup-close&quot;&gt;&amp;times;&lt;/button&gt;
    &lt;div class=&quot;popup-header&quot;&gt;
      &lt;div class=&quot;char-portrait-wrap&quot;&gt;&lt;img class=&quot;char-portrait&quot;&gt;&lt;/div&gt;
      &lt;div class=&quot;char-head-text&quot;&gt;
        &lt;h3 class=&quot;char-name&quot;&gt;&lt;/h3&gt;
        &lt;ul class=&quot;char-meta&quot;&gt;
          &lt;li&gt;&lt;span&gt;나이&lt;/span&gt; &lt;span class=&quot;char-age&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;지역&lt;/span&gt; &lt;span class=&quot;char-region&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;성향&lt;/span&gt; &lt;span class=&quot;char-trait&quot;&gt;&lt;/span&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;char-stats&quot;&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;돈&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-money&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;체력&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-stamina&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;리스크&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-risk&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;신뢰&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-trust&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
    &lt;p class=&quot;char-desc&quot;&gt;&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="107" name="2009년_4_1" tags="" position="1075,2975" size="100,100">
&lt;h1&gt;2009년&lt;/h1&gt;

&lt;h2&gt;통화 개혁 . . .&lt;/h2&gt;

&lt;p&gt;
&lt;남은 돈을 새 화폐로 바꿀 수 있는 한도까지 바꾸고, 살 수 있는 것을 사들인다.&gt;

* 2009년 화폐개혁 당시 세대당 10만 원까지만 교환이 허용되었다.
평균적으로 북한 주민은 100만 원 이상 현금을 보유하고 있었으므로 대부분의 재산이 휴지가 되었다.
* 교환한 새 돈의 가치가 얼마나 유지될지 불투명했기 때문에
주민들은 하루 만에 쌀·기름·소금 등 실물재화로 재빨리 전환하려 했다.
* “오늘 산 것이 내일의 생명줄이다”라는 말이 돌았다는 증언처럼,
시장에서는 단 하루 사이에도 물가가 두 배 이상 튀는 현상이 보고되었다.
* 혁신은 새 화폐를 재빨리 실물로 바꾸며 “이 돈이 언제 또 종이 조각이 될지 모른다”는 불안을 되새긴다.
&lt;/p&gt;

(set:
    _moneyDiff_4 to +11,
    _staminaDiff_4 to -2,
    _riskDiff_4 to +8,
    _trustDiff_4 to -6
)

(set:
    $money_4 to $money_4 + _moneyDiff_4,
    $stamina_4 to $stamina_4 + _staminaDiff_4,
    $risk_4 to $risk_4 + _riskDiff_4,
    $trust_4 to $trust_4 + _trustDiff_4
)

&lt;p&gt;돈: +_moneyDiff_4
체력: _staminaDiff_4
리스크: +_riskDiff_4
신뢰: +_trustDiff_4&lt;/p&gt;

[[결과-&gt;결과보기4]]

&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="108" name="2009년_4_2" tags="" position="1200,2975" size="100,100">
&lt;h1&gt;2009년&lt;/h1&gt;

&lt;h2&gt;통화 개혁 . . .&lt;/h2&gt;

&lt;p&gt;
&lt;휴지가 된 돈뭉치를 내려다보다가, 물물교환을 기본으로 삼는 새로운 방식으로 즉시 전환한다.&gt;

* 화폐개혁 직후 시장 신뢰가 붕괴하면서 **“돈 말고 물건을 달라”**는 요구가 전국적으로 증가했다.
* 비누·성냥·식용유·고기 등 현물의 가치가 돈보다 안정적이었기 때문이다.
* 실제 증언에 따르면 “돈을 받으면 손해”라는 인식 때문에 장마당 일부는 물물교환 중심 거래로 흘렀다.
* 혁신은 비누를 감자와, 건전지를 옥수수와 바꾸는 식으로 가벼운 실물 중심 장사 모델로 즉시 전환한다.
* 그는 깨닫는다.
“국가가 돈의 가치를 없애버리면, 우리가 믿을 건 결국 손에 잡히는 물건뿐이구나.”
&lt;/p&gt;

(set:
    _moneyDiff_4 to +9,
    _staminaDiff_4 to -2,
    _riskDiff_4 to +5,
    _trustDiff_4 to -5
)

(set:
    $money_4 to $money_4 + _moneyDiff_4,
    $stamina_4 to $stamina_4 + _staminaDiff_4,
    $risk_4 to $risk_4 + _riskDiff_4,
    $trust_4 to $trust_4 + _trustDiff_4
)

&lt;p&gt;돈: +_moneyDiff_4
체력: _staminaDiff_4
리스크: +_riskDiff_4
신뢰: +_trustDiff_4&lt;/p&gt;

[[결과-&gt;결과보기4]]

&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="109" name="2009년_4_3" tags="" position="1325,2975" size="100,100">
&lt;h1&gt;2009년&lt;/h1&gt;

&lt;h2&gt;통화 개혁 . . .&lt;/h2&gt;

&lt;p&gt;
&lt;새 화폐 가격이 안정될 때까지 좌판을 접고 ‘백지 상태에서 재시작’을 선택한다.&gt;

* 화폐개혁 직후 장마당 대부분이 며칠간 마비되었다.
누구도 가격을 정할 수 없었고, 새 돈을 받는 것조차 위험하다고 여겼다.
* 일부 상인들은 혼란 속 장사를 강행하다가 손해만 키웠고, 반대로 거래를 잠시 중단한 상인들이 손실을 최소화했다는 사례도 많다.
* 혁신은 “지금 움직이면 오히려 잃는다”는 판단 아래 좌판을 걷고 상황을 지켜보는 위험 회피 전략을 택한다.
* 그는 멍해진 얼굴로 빈 좌판을 바라보며 생각한다.
“죽어버린 돈으로 장사를 이어가는 건… 미친 짓이지.”
&lt;/p&gt;

(set:
    _moneyDiff_4 to -4,
    _staminaDiff_4 to +2,
    _riskDiff_4 to +3,
    _trustDiff_4 to -3
)

(set:
    $money_4 to $money_4 + _moneyDiff_4,
    $stamina_4 to $stamina_4 + _staminaDiff_4,
    $risk_4 to $risk_4 + _riskDiff_4,
    $trust_4 to $trust_4 + _trustDiff_4
)

&lt;p&gt;돈: +_moneyDiff_4
체력: _staminaDiff_4
리스크: +_riskDiff_4
신뢰: +_trustDiff_4&lt;/p&gt;

[[결과-&gt;결과보기4]]

&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="110" name="2016년_1" tags="" position="600,3200" size="100,100">(set: $money_5 to 20)
(set: $stamina_5 to 20)
(set: $risk_5 to 20)
(set: $trust_5 to 20)
&lt;h1&gt;2016년&lt;/h1&gt;

&lt;h2&gt;제재의 그늘 . . .&lt;/h2&gt;

&lt;p&gt;2016년 3월, 평성(Pyongsong) 도매시장 뒷골목.
평안남도 평성은 &#39;북한의 물류 허브&#39;이자 도매상들이 모이는 곳이다. 
하지만 2016년의 봄바람은 유난히 차갑다.

역전 스피커에서는 군가가 찢어질 듯 울려 퍼진다. 

&lt;img src=&quot;https://i.imgur.com/RTBPFfl.png&quot; style=&quot;width: 70%; height: auto;&quot;&gt;

&quot;7차 당 대회를 향하여, 70일 전투로 달려나가자!&quot; 
김정은 위원장이 36년 만에 여는 당 대회를 앞두고, 전 주민을 동원해 성과를 짜내라는 &#39;70일 전투(2월 말~5월 초)&#39; 총동원령이 내려진 것이다. 
&lt;/p&gt;

&lt;hr class=&quot;page-separator&quot;&gt;
&lt;ul class=&quot;custom-list&quot;&gt;
&lt;li&gt;[[70일 전투]]&lt;/li&gt;
&lt;/ul&gt;
&lt;div&gt;
[[다음-&gt;2016년_2]]
&lt;/div&gt;



&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;

</tw-passagedata><tw-passagedata pid="111" name="2016년_2" tags="" position="600,3325" size="100,100">
&lt;h1&gt;2016년&lt;/h1&gt;

&lt;h2&gt;제재의 그늘 . . .&lt;/h2&gt;

&lt;p&gt;(set: _jeoneh to 
    &#39;&lt;span class=&quot;char-link&quot; &#39; +
    &#39;data-name=&quot;정은혜&quot; &#39; +
    &#39;data-age=&quot;41&quot; &#39; +
    &#39;data-region=&quot;평안북도 신의주&quot; &#39; +
    &#39;data-trait=&quot;노련함&quot; &#39; +
    &#39;data-money=&quot;&#39; + (str: $money_5) + &#39;&quot; &#39; +
    &#39;data-stamina=&quot;&#39; + (str: $stamina_5) + &#39;&quot; &#39; +
    &#39;data-risk=&quot;&#39; + (str: $risk_5) + &#39;&quot; &#39; +
    &#39;data-trust=&quot;&#39; + (str: $trust_5) + &#39;&quot; &#39; +
    &#39;&gt;&#39; +
    &#39;정은혜&#39; +
    &#39;&lt;/span&gt;&#39;
)

(print: _jeoneh)는 창고 구석에 쌓인 &#39;쿠쿠 밥솥&#39;과 &#39;초코파이&#39; 박스를 보며 한숨을 쉰다. 

지난 2월 10일, 남조선이 개성공단을 전면 폐쇄했다. 
다음날 북한 당국은 자산을 동결하고 인원을 추방했다. 
그 여파로 시장에서 암암리에 돌던 &#39;개성공단산 물건&#39;들이 하루아침에 끊겼다.

엎친 데 덮친 격으로 3월 3일, 유엔 안보리 결의 2270호가 통과됐다. 
중국 세관에서 들어오는 화물 트럭 검사가 강화됐다는 소문이 파다하다. 

&quot;이제 중국 물건도 들어오기 힘들 거야. 환율이 뛸 거다.&quot; 
옆 가게 환전상 &#39;달러 아줌마&#39;가 귀띔한다.

보안서의 &#39;비사회주의 검열 그루빠(단속반)&#39;는 &quot;제재를 뚫고 자력갱생하자&quot;는 구호를 외치며 수입산 물품 단속을 시작했다. 사실상 뇌물을 뜯어내기 위한 명분이다.
&lt;/p&gt;

&lt;hr class=&quot;page-separator&quot;&gt;
&lt;ul class=&quot;custom-list&quot;&gt;
&lt;li&gt;[[70일 전투]]&lt;/li&gt;
&lt;li&gt;[[개성공단 폐쇄]]&lt;/li&gt;
&lt;li&gt;[[유엔 안보리 결의 2270호]]&lt;/li&gt;
&lt;/ul&gt;
&lt;div&gt;
[[다음-&gt;2016년_3]]
&lt;/div&gt;



&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;

&lt;!-- 캐릭터 팝업 박스 --&gt;
&lt;div id=&quot;char-popup&quot;&gt;
  &lt;div class=&quot;popup-inner&quot;&gt;
    &lt;button class=&quot;popup-close&quot;&gt;&amp;times;&lt;/button&gt;
    &lt;div class=&quot;popup-header&quot;&gt;
      &lt;div class=&quot;char-portrait-wrap&quot;&gt;&lt;img class=&quot;char-portrait&quot;&gt;&lt;/div&gt;
      &lt;div class=&quot;char-head-text&quot;&gt;
        &lt;h3 class=&quot;char-name&quot;&gt;&lt;/h3&gt;
        &lt;ul class=&quot;char-meta&quot;&gt;
          &lt;li&gt;&lt;span&gt;나이&lt;/span&gt; &lt;span class=&quot;char-age&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;지역&lt;/span&gt; &lt;span class=&quot;char-region&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;성향&lt;/span&gt; &lt;span class=&quot;char-trait&quot;&gt;&lt;/span&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;char-stats&quot;&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;돈&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-money&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;체력&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-stamina&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;리스크&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-risk&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;신뢰&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-trust&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
    &lt;p class=&quot;char-desc&quot;&gt;&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="112" name="70일 전투" tags="" position="725,3200" size="100,100">&lt;h1&gt;2016년 70일 전투&lt;/h1&gt;

&lt;img src=&quot;https://i.imgur.com/RTBPFfl.png&quot; style=&quot;width: 70%; height: auto;&quot;&gt;
&lt;p&gt;&lt;strong&gt;1. 배경&lt;/strong&gt;&lt;br&gt;
2016년 5월, 36년 만에 개최되는 제7차 당 대회를 앞두고 김정은 체제의 성과를 극대화할 필요가 제기됨. 제4차 핵실험에 따른 유엔의 고강도 제재 국면을 내부 결속과 노력 동원으로 정면 돌파하려는 의도가 내포됨.&lt;br&gt;&lt;br&gt;

&lt;strong&gt;2. 전개 (2016. 2~5)&lt;/strong&gt;&lt;br&gt;
-&amp;nbsp; 2016년 2월 23일부터 5월 2일까지 약 70일간 전 당과 전 군 및 전 인민을 대상으로 진행됨. 새로운 시대의 천리마 운동인 만리마 속도 창조를 핵심 구호로 내걸음.&lt;br&gt;
-&amp;nbsp; 충성의 70일 전투라는 명목하에 새벽부터 심야까지 강도 높은 노동과 사상 학습을 강요함. 여맹원과 노인 등 유휴 인력까지 총동원하여 백두산영웅청년3호발전소와 려명거리 건설 등 대형 토목 공사에 투입함.&lt;br&gt;
-&amp;nbsp; 장마당 운영 시간을 단축하고 주민 이동을 통제하며 비사회주의적 현상에 대한 검열을 강화함. 모든 사회적 역량을 당 대회 준비와 경제 과제 수행에 집중시킴.&lt;br&gt;&lt;br&gt;

&lt;strong&gt;3. 결과&lt;/strong&gt;&lt;br&gt;
- &lt;strong&gt;성과:&lt;/strong&gt; 당국은 산업 총생산액이 계획 대비 144퍼센트 수행되었으며 전력과 석탄 및 기계 공업 부문에서 목표를 초과 달성했다고 공식 발표함.&lt;br&gt;
- &lt;strong&gt;한계:&lt;/strong&gt; 무리한 속도전으로 인한 부실 공사와 자재 난이 심화됨. 장기간의 가혹한 노동 동원으로 주민들의 피로감이 극에 달하고 생계 활동인 장마당 위축으로 민심 이반이 발생함.&lt;br&gt;
- &lt;strong&gt;평가:&lt;/strong&gt; 김정은 시대의 본격적인 개막을 알리기 위한 대규모 정치적 캠페인임. 경제적 실익보다는 대북 제재에도 건재하다는 체제 결속력을 대내외에 과시하고 수령 유일 지배 체제를 확립하는 데 방점을 둠.&lt;/p&gt;

&lt;p style=&quot;font-size: 1.0em; border-top: 1px solid #ccc; padding-top: 10px; color: #666;&quot;&gt;
&lt;strong&gt;출처 및 참고자료&lt;/strong&gt;&lt;br&gt;
* 김종수, &quot;북한 대중운동 연구 – 권력승계 측면에서 비교한 ‘150일전투’와 ‘70일전투’를 중심으로&quot;, &lt;a href=&quot;https://www.kci.go.kr/kciportal/landing/article.kci?arti_id=ART001426386&quot; target=&quot;_blank&quot;&gt;사회과학연구&lt;/a&gt;
* 통일뉴스, &quot;북, 1970년대 &#39;70일 전투&#39; 집중 부각&quot;, &lt;a href=&quot;https://www.tongilnews.com/news/articleView.html?idxno=100070&quot; target=&quot;_blank&quot;&gt;통일뉴스&lt;/a&gt;
* NK리포트, &quot;70일 전투&quot;, &lt;a href=&quot;https://m.nk.chosun.com/bbs/view.html?idxno=2138&quot; target=&quot;_blank&quot;&gt;조선일보 계열 NK리포트&lt;/a&gt;
&lt;/p&gt;


&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="113" name="2016년_3" tags="" position="600,3450" size="100,100">
&lt;h1&gt;2016년&lt;/h1&gt;

&lt;h2&gt;제재의 그늘 . . .&lt;/h2&gt;

&lt;p&gt;(set: _jeoneh to 
    &#39;&lt;span class=&quot;char-link&quot; &#39; +
    &#39;data-name=&quot;정은혜&quot; &#39; +
    &#39;data-age=&quot;41&quot; &#39; +
    &#39;data-region=&quot;평안북도 신의주&quot; &#39; +
    &#39;data-trait=&quot;노련함&quot; &#39; +
    &#39;data-money=&quot;&#39; + (str: $money_5) + &#39;&quot; &#39; +
    &#39;data-stamina=&quot;&#39; + (str: $stamina_5) + &#39;&quot; &#39; +
    &#39;data-risk=&quot;&#39; + (str: $risk_5) + &#39;&quot; &#39; +
    &#39;data-trust=&quot;&#39; + (str: $trust_5) + &#39;&quot; &#39; +
    &#39;&gt;&#39; +
    &#39;정은혜&#39; +
    &#39;&lt;/span&gt;&#39;
)

(print: _jeoneh)의 수중에는 
현금 5천 달러와 
개성공단 물품(밀수품), 
그리고 중국에서 막 들여온 태양광 패널 부품이 있다. 

지금 시장은 공포와 기회가 공존한다. 
물건이 귀해지니 가격은 오르지만, 걸리면 전 재산을 몰수당하고 교화소에 갈 수도 있다.

이 난세에 (set: _jeoneh to 
    &#39;&lt;span class=&quot;char-link&quot; &#39; +
    &#39;data-name=&quot;정은혜&quot; &#39; +
    &#39;data-age=&quot;24&quot; &#39; +
    &#39;data-region=&quot;평안북도 신의주&quot; &#39; +
    &#39;data-trait=&quot;노련함&quot; &#39; +
    &#39;data-money=&quot;&#39; + (str: $money_5) + &#39;&quot; &#39; +
    &#39;data-stamina=&quot;&#39; + (str: $stamina_5) + &#39;&quot; &#39; +
    &#39;data-risk=&quot;&#39; + (str: $risk_5) + &#39;&quot; &#39; +
    &#39;data-trust=&quot;&#39; + (str: $trust_5) + &#39;&quot; &#39; +
    &#39;&gt;&#39; +
    &#39;정은혜&#39; +
    &#39;&lt;/span&gt;&#39;
)

(print: _jeoneh)는 자본을 어디에 태워야 할까?
&lt;/p&gt;

&lt;hr class=&quot;page-separator&quot;&gt;
&lt;ul class=&quot;custom-list&quot;&gt;
&lt;li&gt;[[70일 전투]]&lt;/li&gt;
&lt;li&gt;[[개성공단 폐쇄]]&lt;/li&gt;
&lt;li&gt;[[유엔 안보리 결의 2270호]]&lt;/li&gt;
&lt;/ul&gt;
&lt;div&gt;
[[&quot;위기는 곧 기회다.&quot; 단속을 피해 개성공단 물품과 수입 가전을 고가에 &#39;뒷거래&#39;한다.-&gt;2016년_4_1]]
[[&quot;당의 노선을 탄다.&quot; 수입품을 처분하고, 국산화(경공업) 공장에 투자해 &#39;임가공&#39;을 시작한다.-&gt;2016년_4_2]]
[[&quot;돈보다 신분이다.&quot; 70일 전투에 거액의 충성 자금을 바치고, &#39;노동당 입당&#39;과 보호막을 산다.-&gt;2016년_4_3]]
&lt;/div&gt;



&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;

&lt;!-- 캐릭터 팝업 박스 --&gt;
&lt;div id=&quot;char-popup&quot;&gt;
  &lt;div class=&quot;popup-inner&quot;&gt;
    &lt;button class=&quot;popup-close&quot;&gt;&amp;times;&lt;/button&gt;
    &lt;div class=&quot;popup-header&quot;&gt;
      &lt;div class=&quot;char-portrait-wrap&quot;&gt;&lt;img class=&quot;char-portrait&quot;&gt;&lt;/div&gt;
      &lt;div class=&quot;char-head-text&quot;&gt;
        &lt;h3 class=&quot;char-name&quot;&gt;&lt;/h3&gt;
        &lt;ul class=&quot;char-meta&quot;&gt;
          &lt;li&gt;&lt;span&gt;나이&lt;/span&gt; &lt;span class=&quot;char-age&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;지역&lt;/span&gt; &lt;span class=&quot;char-region&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;성향&lt;/span&gt; &lt;span class=&quot;char-trait&quot;&gt;&lt;/span&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;char-stats&quot;&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;돈&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-money&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;체력&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-stamina&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;리스크&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-risk&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;신뢰&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-trust&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
    &lt;p class=&quot;char-desc&quot;&gt;&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="114" name="개성공단 폐쇄" tags="" position="725,3325" size="100,100">&lt;h1&gt;개성공단 전면 중단&lt;/h1&gt;

&lt;img src=&quot;https://i.imgur.com/sMuxAZt.png&quot; style=&quot;width: 70%; height: auto;&quot;&gt;
&lt;p&gt;&lt;strong&gt;1. 배경&lt;/strong&gt;&lt;br&gt;
2016년 1월 북한의 제4차 핵실험과 2월 장거리 미사일 광명성 4호 발사로 한반도 안보 위기가 최고조에 달함. 공단을 통해 유입된 현금이 북한의 대량살상무기 개발 자금으로 전용되는 악순환을 차단하기 위한 한국 정부 차원의 특단의 독자 제재 조치가 결정됨.&lt;br&gt;&lt;br&gt;

&lt;strong&gt;2. 전개 (2016. 2)&lt;/strong&gt;&lt;br&gt;
-&amp;nbsp; 2016년 2월 10일 대한민국 정부는 국가안전보장회의 상임위원회 회의를 거쳐 개성공단 가동의 전면 중단을 공식 발표함. 이는 2004년 첫 가동 이후 12년 만에 내려진 결정임.&lt;br&gt;
-&amp;nbsp; 북한은 이에 대한 맞대응으로 2월 11일 조평통 성명을 통해 공단 내 남측 인원 전원을 추방하고 모든 설비와 자산 동결을 선언함. 공단 지역을 군사통제구역으로 선포하고 판문점 연락 채널을 단절하는 초강경 조치를 취함.&lt;br&gt;
-&amp;nbsp; 입주 기업들은 완제품과 원부자재를 반출하지 못한 채 철수함. 남북 경협의 마지막 보루였던 공단이 물리적으로 폐쇄되고 남북 관계가 완전한 단절 국면으로 진입함.&lt;br&gt;&lt;br&gt;

&lt;strong&gt;3. 결과&lt;/strong&gt;&lt;br&gt;
- &lt;strong&gt;성과:&lt;/strong&gt; 북한 정권으로 유입되던 연간 약 1억 달러 규모의 통치 자금줄을 차단함. 북한의 도발에 대해 강력한 대가를 치르게 하겠다는 원칙적 입장을 대내외에 천명함.&lt;br&gt;
- &lt;strong&gt;한계:&lt;/strong&gt; 124개 입주 기업과 협력 업체들이 막대한 경제적 손실을 입음. 북한이 동결된 남측 자산을 무단으로 가동하거나 시설을 훼손하는 재산권 침해 문제가 지속적으로 발생함.&lt;br&gt;
- &lt;strong&gt;평가:&lt;/strong&gt; 햇볕정책으로 대변되던 남북 화해 협력 시대의 최후 상징이 소멸함. 대화와 교류를 통한 북한 변화 유도 정책이 사실상 폐기되고 제재와 압박 중심의 강경 정책으로 완전히 전환되는 분기점이 됨.&lt;/p&gt;

&lt;p style=&quot;font-size: 1.0em; border-top: 1px solid #ccc; padding-top: 10px; color: #666;&quot;&gt;
&lt;strong&gt;출처 및 참고자료&lt;/strong&gt;
* “개성공단, 중단할 수밖에 없었던 이유”, &lt;a href=&quot;https://www.korea.kr/news/reporterView.do?newsId=148809542&quot; target=&quot;_blank&quot;&gt;대한민국 정책브리핑 (2016)&lt;/a&gt;
&lt;/p&gt;


&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="115" name="유엔 안보리 결의 2270호" tags="" position="725,3450" size="100,100">&lt;h1&gt;유엔 안보리 결의 2270호&lt;/h1&gt;

&lt;p&gt;&lt;strong&gt;1. 배경&lt;/strong&gt;&lt;br&gt;
2016년 1월 북한의 제4차 핵실험과 2월 장거리 로켓 발사 감행으로 국제 사회의 우려가 최고조에 달함. 기존의 제재망을 비웃듯 핵 능력을 고도화하는 북한에 대응해 김정은 정권의 자금줄을 원천 차단할 수 있는 고강도의 실효적 제재안이 요구됨.&lt;br&gt;&lt;br&gt;

&lt;strong&gt;2. 전개 (2016. 3)&lt;/strong&gt;&lt;br&gt;
-&amp;nbsp; 2016년 3월 2일 유엔 안전보장이사회 이사국 만장일치로 채택됨. 미국과 중국의 치열한 막후 협상을 거쳐 도출된 역대 가장 강력하고 포괄적인 비군사적 제재안임.&lt;br&gt;
-&amp;nbsp; 북한의 최대 수출 품목인 석탄과 철 및 철광석을 비롯해 금과 티타늄 및 희토류 등 주요 광물 자원의 수출을 원칙적으로 금지함. 이는 지도층을 겨냥한 기존 스마트 제재를 넘어 북한 경제 전반을 타격하는 분야별 제재의 시초가 됨.&lt;br&gt;
-&amp;nbsp; 북한을 입출항하는 모든 화물에 대한 검색을 의무화하고 로켓 연료로 전용 가능한 항공유의 대북 판매를 금지함. 북한 은행의 해외 지점 신규 개설을 막고 기존 지점도 폐쇄하도록 하여 금융 제재를 대폭 강화함.&lt;br&gt;&lt;br&gt;

&lt;strong&gt;3. 결과&lt;/strong&gt;&lt;br&gt;
- &lt;strong&gt;성과:&lt;/strong&gt; 대량살상무기와 직접 연관이 없는 민간 경제 분야인 광물 수출을 처음으로 제재 대상에 포함시켜 대북 압박의 수위를 한 단계 격상시킴.&lt;br&gt;
- &lt;strong&gt;한계:&lt;/strong&gt; 중국과 러시아의 요구로 민생 목적의 광물 거래는 허용한다는 예외 조항이 포함됨. 이 허점을 이용해 중국향 석탄 수출이 지속되면서 실제 제재 효과가 반감되는 결정적인 구멍이 발생함.&lt;br&gt;
- &lt;strong&gt;평가:&lt;/strong&gt; 징벌적 성격의 제재에서 북한의 돈줄을 말리는 봉쇄 전략으로 전환된 분기점임. 그러나 민생 예외 조항이라는 한계로 인해 북한의 핵 개발 의지를 꺾는 데 실패하고 이후 추가 도발과 제재의 악순환이 반복됨.&lt;/p&gt;

&lt;p style=&quot;font-size: 1.0em; border-top: 1px solid #ccc; padding-top: 10px; color: #666;&quot;&gt;
&lt;strong&gt;출처 및 참고자료&lt;/strong&gt;&lt;br&gt;
&lt;p style=&quot;font-size: 1.0em; border-top: 1px solid #ccc; padding-top: 10px; color: #666;&quot;&gt; &lt;strong&gt;출처 및 참고자료&lt;/strong&gt;&lt;br&gt; 
* United Nations Security Council, “Resolution 2270 (2016)”, &lt;a href=&quot;https://undocs.org/S/RES/2270(2016)&quot; target=&quot;_blank&quot;&gt;UN 공식 문서&lt;/a&gt;&lt;br&gt; 
* UN Security Council Press Release, “Security Council Imposes Fresh Sanctions on Democratic People’s Republic of Korea”, &lt;a href=&quot;https://press.un.org/en/2016/sc12267.doc.htm&quot; target=&quot;_blank&quot;&gt;UN Press&lt;/a&gt;&lt;br&gt; 
* 조선일보, “유엔 안보리 대북제재 2270호 분석”, &lt;a href=&quot;https://www.chosun.com&quot; target=&quot;_blank&quot;&gt;조선일보&lt;/a&gt;&lt;br&gt; 
&lt;/p&gt;


&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="116" name="2016년_4_1" tags="" position="475,3600" size="100,100">
&lt;h1&gt;2016년&lt;/h1&gt;

&lt;h2&gt;제재의 그늘 . . .&lt;/h2&gt;

&lt;p&gt;
&lt;&quot;위기는 곧 기회다.&quot; 단속을 피해 개성공단 물품과 수입 가전을 고가에 &#39;뒷거래&#39;한다.&gt;

* 개성공단 폐쇄와 대북 제재로 공급이 끊긴 &#39;한국산 제품&#39;의 희소성이 극대화되며, 부르는 게 값이 되는 &#39;매도자 우위&#39; 시장을 누린다.
* 위험수당이 붙은 막대한 마진으로 단기간에 달러를 거머쥐고, 훗날 평양 아파트(려명거리 등) 진입을 위한 결정적 자본을 마련한다.
* 하지만 24시간 보안원의 먹잇감이 되어, 수익의 상당 부분을 끊임없이 &#39;보호비(뇌물)&#39;로 상납해야 하는 불안한 공생이 이어진다.
* 2019년 비사회주의 검열이 극단적으로 강화될 때, &#39;제1 숙청 대상&#39;으로 지목되어 하루아침에 전 재산을 몰수당할 위험을 안고 산다.
&lt;/p&gt;

(set:
    _moneyDiff_5 to +15,
    _staminaDiff_5 to -5,
    _riskDiff_5 to +15,
    _trustDiff_5 to -12
)

(set:
    $money_5 to $money_5 + _moneyDiff_5,
    $stamina_5 to $stamina_5 + _staminaDiff_5,
    $risk_5 to $risk_5 + _riskDiff_5,
    $trust_5 to $trust_5 + _trustDiff_5
)

&lt;p&gt;돈: +_moneyDiff_5
체력: _staminaDiff_5
리스크: +_riskDiff_5
신뢰: +_trustDiff_5&lt;/p&gt;

[[다음 -&gt;2018년_1]]

&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="117" name="2016년_4_2" tags="" position="600,3600" size="100,100">
&lt;h1&gt;2016년&lt;/h1&gt;

&lt;h2&gt;제재의 그늘 . . .&lt;/h2&gt;

&lt;p&gt;
&lt;&quot;당의 노선에 탄다.&quot; 수입품을 처분하고, 국산화(경공업) 공장에 투자해 &#39;임가공&#39;을 시작한다.&gt;

* 김정은 정권의 핵심 슬로건인 &#39;국산화&#39; 정책에 편승하여, 국영 공장의 명의를 빌린 &#39;대여 공장&#39; 형태로 법적·정치적 보호를 받는다.
* 수입품 대박 같은 일확천금은 없지만, 세금 감면 혜택과 함께 단속 걱정 없이 기술을 축적하며 안정적인 생산 라인을 구축한다.
* &quot;자력갱생의 모범&quot;이라는 명분까지 얻어 당국으로부터 표창을 받고, 지역 사회에서 신뢰받는 &#39;붉은 자본가&#39;로 자리 잡는다.
* 2020년 코로나로 국경이 완전히 봉쇄되어 수입품이 사라질 때, 유일하게 공장을 돌리며 시장을 독점하는 최후의 승자가 된다.
&lt;/p&gt;

(set:
    _moneyDiff_5 to +12,
    _staminaDiff_5 to -6,
    _riskDiff_5 to +4,
    _trustDiff_5 to +15
)

(set:
    $money_5 to $money_5 + _moneyDiff_5,
    $stamina_5 to $stamina_5 + _staminaDiff_5,
    $risk_5 to $risk_5 + _riskDiff_5,
    $trust_5 to $trust_5 + _trustDiff_5
)

&lt;p&gt;돈: +_moneyDiff_5
체력: _staminaDiff_5
리스크: +_riskDiff_5
신뢰: +_trustDiff_5&lt;/p&gt;

[[다음 -&gt;2018년_1]]

&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="118" name="2016년_4_3" tags="" position="725,3600" size="100,100">
&lt;h1&gt;2016년&lt;/h1&gt;

&lt;h2&gt;제재의 그늘 . . .&lt;/h2&gt;

&lt;p&gt;
&lt;&quot;돈보다 신분이다.&quot; 70일 전투에 거액의 충성 자금을 바치고, &#39;노동당 입당&#39;과 보호막을 산다.&gt;

* &#39;70일 전투&#39; 기간 부족한 통치 자금을 메워주는 대가로 거액의 현금을 쾌척하고, 돈으로 살 수 있는 최고의 스펙인 &#39;노동당 입당&#39;을 성취한다.
* 당장의 장사 밑천이 반토막 나 유동성 위기를 겪지만, 시장 말단 보안원이나 관리원들이 함부로 건드리지 못하는 강력한 정치적 방패를 얻는다.
* 단순한 장사꾼을 넘어 &#39;충성 분자&#39;로 신분 세탁에 성공하여, 향후 관급 공사나 권력형 이권 사업으로 진출할 기회가 열린다.
* 2018년 이후 도래할 숨 막히는 &#39;감시 사회&#39;에서 돈보다 강력한 생존 수단을 확보하지만, 장사 수완이 뒷받침되지 않으면 껍데기만 남을 수도 있다.
&lt;/p&gt;

(set:
    _moneyDiff_5 to -10,
    _staminaDiff_5 to -3,
    _riskDiff_5 to +6,
    _trustDiff_5 to +15
)

(set:
    $money_5 to $money_5 + _moneyDiff_5,
    $stamina_5 to $stamina_5 + _staminaDiff_5,
    $risk_5 to $risk_5 + _riskDiff_5,
    $trust_5 to $trust_5 + _trustDiff_5
)

&lt;p&gt;돈: +_moneyDiff_5
체력: _staminaDiff_5
리스크: +_riskDiff_5
신뢰: +_trustDiff_5&lt;/p&gt;

[[다음 -&gt;2018년_1]]

&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="119" name="2018년_1" tags="" position="900,3200" size="100,100">
&lt;h1&gt;2018년&lt;/h1&gt;

&lt;h2&gt;밀착감시사회 . . .&lt;/h2&gt;

&lt;p&gt;평양 거리는 그 어느 때보다 뜨겁다. 
TV에서는 김정은 위원장이 문재인 대통령, 트럼프 대통령과 악수하는 장면이 연일 나온다. 
시장 사람들은 삼삼오오 모여 웅성거린다. 

&quot;야, 이제 진짜 제재 풀리는 거 아니니? 원산 땅값이 천정부지로 뛴단다.&quot;

하지만 (set: _jeoneh to 
    &#39;&lt;span class=&quot;char-link&quot; &#39; +
    &#39;data-name=&quot;정은혜&quot; &#39; +
    &#39;data-age=&quot;41&quot; &#39; +
    &#39;data-region=&quot;평안북도 신의주&quot; &#39; +
    &#39;data-trait=&quot;노련함&quot; &#39; +
    &#39;data-money=&quot;&#39; + (str: $money_5) + &#39;&quot; &#39; +
    &#39;data-stamina=&quot;&#39; + (str: $stamina_5) + &#39;&quot; &#39; +
    &#39;data-risk=&quot;&#39; + (str: $risk_5) + &#39;&quot; &#39; +
    &#39;data-trust=&quot;&#39; + (str: $trust_5) + &#39;&quot; &#39; +
    &#39;&gt;&#39; +
    &#39;정은혜&#39; +
    &#39;&lt;/span&gt;&#39;
)

(print: _jeoneh)가 느끼는 체감 온도는 영하이다. 
어제 옆집 환전상 &#39;박 씨 아줌마&#39;가 보위부에 끌려갔다. 
죄목은 &#39;비사회주의적 외화 유통&#39;. 

당국은 &quot;모든 상거래는 국가 은행망을 통하라&quot;며 압박하고 있다. 장마당에서 달러를 주고받다 걸리면 그 자리에서 몰수다. 대신 &#39;전성 카드(전자 결제 카드)&#39;나 휴대폰 앱 &#39;만물상&#39; 사용을 반강제로 권장한다.

&quot;현금을 입금하면 출처를 묻지 않겠다&quot;고 유혹하지만, 내 돈이 전산에 기록되는 순간 인질이 되는 것만 같다.
&lt;/p&gt;

&lt;hr class=&quot;page-separator&quot;&gt;
&lt;ul class=&quot;custom-list&quot;&gt;
&lt;li&gt;70일 전투&lt;/li&gt;
&lt;li&gt;개성공단 폐쇄&lt;/li&gt;
&lt;li&gt;유엔 안보리 결의 2270호&lt;/li&gt;
&lt;/ul&gt;
&lt;div&gt;
[[다음-&gt;2018년_2]]
&lt;/div&gt;



&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;

&lt;!-- 캐릭터 팝업 박스 --&gt;
&lt;div id=&quot;char-popup&quot;&gt;
  &lt;div class=&quot;popup-inner&quot;&gt;
    &lt;button class=&quot;popup-close&quot;&gt;&amp;times;&lt;/button&gt;
    &lt;div class=&quot;popup-header&quot;&gt;
      &lt;div class=&quot;char-portrait-wrap&quot;&gt;&lt;img class=&quot;char-portrait&quot;&gt;&lt;/div&gt;
      &lt;div class=&quot;char-head-text&quot;&gt;
        &lt;h3 class=&quot;char-name&quot;&gt;&lt;/h3&gt;
        &lt;ul class=&quot;char-meta&quot;&gt;
          &lt;li&gt;&lt;span&gt;나이&lt;/span&gt; &lt;span class=&quot;char-age&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;지역&lt;/span&gt; &lt;span class=&quot;char-region&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;성향&lt;/span&gt; &lt;span class=&quot;char-trait&quot;&gt;&lt;/span&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;char-stats&quot;&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;돈&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-money&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;체력&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-stamina&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;리스크&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-risk&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;신뢰&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-trust&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
    &lt;p class=&quot;char-desc&quot;&gt;&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="120" name="2018년_2" tags="" position="900,3325" size="100,100">
&lt;h1&gt;2018년&lt;/h1&gt;

&lt;h2&gt;밀착감시사회 . . .&lt;/h2&gt;

&lt;p&gt;설상가상으로 &#39;109 상무(비사회주의 검열단)&#39;가 미친 듯이 돌아다닌다. 
남북 관계가 좋아질수록 당국은 내부가 썩을까 봐 더 단속한다. 

겉으로는 평화가 왔다는데, 장사꾼들의 목줄은 더 조여온다. 달러를 쥐고 있자니 언제 뺏길지 모르고, 은행에 넣자니 못 찾을까 두렵다. 손전화로 장사 연락을 해야 하는데, 검열 때문에 폰을 꺼내기도 무섭다.

&lt;img src=&quot;https://i.imgur.com/JdlRg4S.png&quot; style=&quot;width: 90%; height: auto;&quot;&gt;

이 진퇴양난의 시기, (set: _jeoneh to 
    &#39;&lt;span class=&quot;char-link&quot; &#39; +
    &#39;data-name=&quot;정은혜&quot; &#39; +
    &#39;data-age=&quot;41&quot; &#39; +
    &#39;data-region=&quot;평안북도 신의주&quot; &#39; +
    &#39;data-trait=&quot;노련함&quot; &#39; +
    &#39;data-money=&quot;&#39; + (str: $money_5) + &#39;&quot; &#39; +
    &#39;data-stamina=&quot;&#39; + (str: $stamina_5) + &#39;&quot; &#39; +
    &#39;data-risk=&quot;&#39; + (str: $risk_5) + &#39;&quot; &#39; +
    &#39;data-trust=&quot;&#39; + (str: $trust_5) + &#39;&quot; &#39; +
    &#39;&gt;&#39; +
    &#39;정은혜&#39; +
    &#39;&lt;/span&gt;&#39;
)

(print: _jeoneh)는 어떻게 버텨야 할까?
&lt;/p&gt;

&lt;hr class=&quot;page-separator&quot;&gt;
&lt;ul class=&quot;custom-list&quot;&gt;
&lt;li&gt;70일 전투&lt;/li&gt;
&lt;li&gt;개성공단 폐쇄&lt;/li&gt;
&lt;li&gt;유엔 안보리 결의 2270호&lt;/li&gt;
&lt;/ul&gt;
&lt;div&gt;
[[의심받을 달러를 처분하고 당국이 미는 ‘전성 카드’를 쓴다.-&gt;2018년_3_1]]
[[화폐개혁의 트라우마를 기억하며, 현금을 즉시 ‘쌀과 휘발유’로 바꾼다.-&gt;2018년_3_2]]
[[검열용 ‘깨끗한 폰’과 장사용 ‘비밀 폰’ 두 대를 굴린다.-&gt;2018년_3_3]]
&lt;/div&gt;



&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;

&lt;!-- 캐릭터 팝업 박스 --&gt;
&lt;div id=&quot;char-popup&quot;&gt;
  &lt;div class=&quot;popup-inner&quot;&gt;
    &lt;button class=&quot;popup-close&quot;&gt;&amp;times;&lt;/button&gt;
    &lt;div class=&quot;popup-header&quot;&gt;
      &lt;div class=&quot;char-portrait-wrap&quot;&gt;&lt;img class=&quot;char-portrait&quot;&gt;&lt;/div&gt;
      &lt;div class=&quot;char-head-text&quot;&gt;
        &lt;h3 class=&quot;char-name&quot;&gt;&lt;/h3&gt;
        &lt;ul class=&quot;char-meta&quot;&gt;
          &lt;li&gt;&lt;span&gt;나이&lt;/span&gt; &lt;span class=&quot;char-age&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;지역&lt;/span&gt; &lt;span class=&quot;char-region&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;성향&lt;/span&gt; &lt;span class=&quot;char-trait&quot;&gt;&lt;/span&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;char-stats&quot;&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;돈&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-money&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;체력&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-stamina&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;리스크&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-risk&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;신뢰&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-trust&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
    &lt;p class=&quot;char-desc&quot;&gt;&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="121" name="2018년_3_1" tags="" position="900,3450" size="100,100">
&lt;h1&gt;2018년&lt;/h1&gt;

&lt;h2&gt;밀착감시사회 . . .&lt;/h2&gt;

&lt;p&gt;
&lt;당국의 감시를 피해 ‘전자 결제(전성 카드)’로 양지바른 장사를 한다.&gt;

* 2018년 당국은 장롱 속 외화를 흡수하고 자금 흐름을 통제하기 위해 전자 결제(전성·나래 카드) 사용을 반강제로 독려했다.
* 현금을 들고 다니는 것 자체가 &#39;비사회주의 단속&#39;의 표적이 되자, 상인들은 울며 겨자 먹기로 은행 문을 두드렸다.
* 은혜는 위험한 달러 뭉치를 은행에 입금하고, &#39;만물상&#39; 앱으로 물건을 주문하며 &quot;국가 시책을 따르는 모범 상인&quot;의 탈을 쓴다.
* 그리고 깨닫는다. &quot;나는 오늘 안전을 샀지만, 내 돈줄의 목고리는 국가가 쥐게 되었다.&quot;
&lt;/p&gt;

(set:
    _moneyDiff_5 to +4,
    _staminaDiff_5 to -1,
    _riskDiff_5 to +5,
    _trustDiff_5 to +8
)

(set:
    $money_5 to $money_5 + _moneyDiff_5,
    $stamina_5 to $stamina_5 + _staminaDiff_5,
    $risk_5 to $risk_5 + _riskDiff_5,
    $trust_5 to $trust_5 + _trustDiff_5
)

&lt;p&gt;돈: +_moneyDiff_5
체력: _staminaDiff_5
리스크: +_riskDiff_5
신뢰: +_trustDiff_5&lt;/p&gt;

[[다음 -&gt;2020년_1]]

&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="122" name="2018년_3_2" tags="" position="1025,3450" size="100,100">
&lt;h1&gt;2018년&lt;/h1&gt;

&lt;h2&gt;밀착감시사회 . . .&lt;/h2&gt;

&lt;p&gt;
&lt;화폐개혁의 트라우마를 기억하며, 현금을 즉시 ‘쌀과 휘발유’로 바꾼다.&gt;

* 2009년 화폐개혁으로 하루아침에 재산이 휴지 조각이 된 트라우마는 &#39;평화 무드&#39; 속에서도 여전히 사람들을 지배했다.
* 부동산 투기 바람이 불 때, 진짜 &#39;꾼&#39;들은 환율이나 정책에 흔들리지 않는 절대 가치인 식량과 연료에 집중했다.
* 은혜는 장사 수익이 생기는 족족 썩지 않는 쌀포대와 휘발유 통으로 바꿔, 집안 마루 밑과 벽장 깊숙이 쟁여둔다.
* 그리고 확신한다. &quot;이 나라에서 믿을 수 있는 유일한 은행은, 가득 찬 쌀독뿐이다.&quot;
&lt;/p&gt;


(set:
    _moneyDiff_5 to +9,
    _staminaDiff_5 to -1,
    _riskDiff_5 to +4,
    _trustDiff_5 to -3
)

set:
    $money_5 to $money_5 + _moneyDiff_5,
    $stamina_5 to $stamina_5 + _staminaDiff_5,
    $risk_5 to $risk_5 + _riskDiff_5,
    $trust_5 to $trust_5 + _trustDiff_5
)

&lt;p&gt;돈: +_moneyDiff_5
체력: _staminaDiff_5
리스크: +_riskDiff_5
신뢰: +_trustDiff_5&lt;/p&gt;

[[다음 -&gt;2020년_1]]

&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="123" name="2018년_3_3" tags="" position="900,3575" size="100,100">
&lt;h1&gt;2018년&lt;/h1&gt;

&lt;h2&gt;밀착감시사회 . . .&lt;/h2&gt;

&lt;p&gt;
&lt;검열용 ‘깨끗한 폰’과 장사용 ‘비밀 폰’ 두 대를 굴린다.&gt;

* &#39;109 상무&#39;는 길거리에서 무작위로 행인들의 손전화(스마트폰)를 뺏어 사진첩과 문자 내역을 털어갔다.
* 장사꾼에게 정보는 생명이었지만, 정보가 담긴 폰은 곧 감옥행 티켓이었기에 &#39;보여주기용&#39;과 &#39;실전용&#39;의 분리가 절실했다.
* 은혜는 노동신문만 깔린 &#39;검열용 폰&#39;을 주머니에 넣고, 진짜 장부와 연락처가 담긴 &#39;중국산 폰&#39;은 몸 깊숙한 곳에 숨긴다.
* 그리고 체감한다. &quot;이제 장사는 물건을 파는 기술이 아니라, 보안원을 속이는 연기력 싸움이다.&quot;
&lt;/p&gt;

(set:
    _moneyDiff_5 to +8,
    _staminaDiff_5 to -2,
    _riskDiff_5 to +12,
    _trustDiff_5 to -7
)

(set:
    $money_5 to $money_5 + _moneyDiff_5,
    $stamina_5 to $stamina_5 + _staminaDiff_5,
    $risk_5 to $risk_5 + _riskDiff_5,
    $trust_5 to $trust_5 + _trustDiff_5
)

&lt;p&gt;돈: +_moneyDiff_5
체력: _staminaDiff_5
리스크: +_riskDiff_5
신뢰: +_trustDiff_5&lt;/p&gt;

[[다음 -&gt;2020년_1]]

&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="124" name="2020년_1" tags="" position="1200,3200" size="100,100">
&lt;h1&gt;2020년&lt;/h1&gt;

&lt;h2&gt;고립의 섬 . . .&lt;/h2&gt;

&lt;p&gt;설 명절을 앞둔 1월, 
청천벽력 같은 소식이 평안북도 신의주와 양강도 혜산에 떨어졌다. 

&quot;국가 비상 방역 체계로 전환한다. 국경을 전면 폐쇄한다.&quot;

&lt;img src=&quot;https://i.imgur.com/5lCRAQt.png&quot; style=&quot;width: 80%; height: auto;&quot;&gt;

처음엔 사스(SARS)나 에볼라 때처럼 며칠 흉내만 내다 말 줄 알았다. 
하지만 이번엔 공기부터가 달랐다. 
압록강 철교 위를 오가던 화물 트럭의 엔진 소리가 딱 끊겼다. 세관에는 이중 삼중의 콘크리트 차단벽이 설치됐고, 방호복을 입은 군인들이 &#39;개미 한 마리도 얼씬 못 하게 하라&#39;는 당의 지시를 복창하며 총을 겨눴다.
&lt;/p&gt;

&lt;hr class=&quot;page-separator&quot;&gt;
&lt;ul class=&quot;custom-list&quot;&gt;
&lt;li&gt;70일 전투&lt;/li&gt;
&lt;li&gt;개성공단 폐쇄&lt;/li&gt;
&lt;li&gt;유엔 안보리 결의 2270호&lt;/li&gt;
&lt;li&gt;[[코로나 국경 봉쇄]]&lt;/li&gt;
&lt;/ul&gt;
&lt;div&gt;
[[다음-&gt;2020년_2]]
&lt;/div&gt;



&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;

</tw-passagedata><tw-passagedata pid="125" name="2020년_2" tags="" position="1200,3325" size="100,100">
&lt;h1&gt;2020년&lt;/h1&gt;

&lt;h2&gt;고립의 섬 . . .&lt;/h2&gt;

&lt;p&gt;3월이 되자, 시장은 아비규환이 되었다. 
가장 먼저 비명을 지른 건 식탁이었다. 중국산 수입에 의존하던 &#39;하얀 가루 3총사(설탕, 밀가루, 맛내기)&#39;가 씨가 말랐다. 
평소 1kg에 4,000원 하던 설탕은 30,000원을 넘겨도 구할 수 없는 &#39;하얀 금&#39;이 되었다.

여기에 8월, 사회안전성의 포고문이 결정타를 날렸다. 

&quot;국경 연선 1~2km 완충지대에 접근하는 자는 이유 불문하고 사격한다.&quot; 
실제로 혜산시 국경 근처에서 밀수꾼이 사살되고, 시신을 그 자리에서 화형시켰다는 흉흉한 소문이 돌았다. 
북한 주민들의 생명줄이던 &#39;밀수&#39;가 물리적으로 불가능해진 것이다.
&lt;/p&gt;

&lt;hr class=&quot;page-separator&quot;&gt;
&lt;ul class=&quot;custom-list&quot;&gt;
&lt;li&gt;70일 전투&lt;/li&gt;
&lt;li&gt;개성공단 폐쇄&lt;/li&gt;
&lt;li&gt;유엔 안보리 결의 2270호&lt;/li&gt;
&lt;li&gt;[[코로나 국경 봉쇄]]&lt;/li&gt;
&lt;/ul&gt;
&lt;div&gt;
[[다음-&gt;2020년_3]]
&lt;/div&gt;



&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;
</tw-passagedata><tw-passagedata pid="126" name="2020년_3" tags="" position="1200,3450" size="100,100">
&lt;h1&gt;2020년&lt;/h1&gt;

&lt;h2&gt;고립의 섬 . . .&lt;/h2&gt;

&lt;p&gt;당국은 방역을 핑계로 시장 운영 시간을 오후 2시부터 5시까지로 대폭 줄였다. 
&quot;장마당은 비루스 전파의 온상&quot;이라며 상인들을 쫓아내고, 
대신 국영 &#39;양곡 판매소&#39;로 사람들을 몰아넣었다. 

시장을 죽이고 배급제를 부활시키려는 속셈이다.

(set: _jeoneh to 
    &#39;&lt;span class=&quot;char-link&quot; &#39; +
    &#39;data-name=&quot;정은혜&quot; &#39; +
    &#39;data-age=&quot;41&quot; &#39; +
    &#39;data-region=&quot;평안북도 신의주&quot; &#39; +
    &#39;data-trait=&quot;노련함&quot; &#39; +
    &#39;data-money=&quot;&#39; + (str: $money_5) + &#39;&quot; &#39; +
    &#39;data-stamina=&quot;&#39; + (str: $stamina_5) + &#39;&quot; &#39; +
    &#39;data-risk=&quot;&#39; + (str: $risk_5) + &#39;&quot; &#39; +
    &#39;data-trust=&quot;&#39; + (str: $trust_5) + &#39;&quot; &#39; +
    &#39;&gt;&#39; +
    &#39;정은혜&#39; +
    &#39;&lt;/span&gt;&#39;
)

(print: _jeoneh)의 창고에는 팔 물건이 없다. 
중국 대방(무역 파트너)과의 연락도 끊겼다. 
가지고 있는 달러는 쓸 곳이 없어 휴지 조각처럼 느껴지고, 당장 내일 먹을 쌀과 땔감이 걱정이다. 

거대한 감옥에 갇힌 2020년, 그녀는 어떻게든 살 구멍을 파야 한다.
&lt;/p&gt;

&lt;hr class=&quot;page-separator&quot;&gt;
&lt;ul class=&quot;custom-list&quot;&gt;
&lt;li&gt;70일 전투&lt;/li&gt;
&lt;li&gt;개성공단 폐쇄&lt;/li&gt;
&lt;li&gt;유엔 안보리 결의 2270호&lt;/li&gt;
&lt;li&gt;[[코로나 국경 봉쇄]]&lt;/li&gt;
&lt;/ul&gt;
&lt;div&gt;
[[옥수수를 삭혀 만든 &#39;인조 꿀(엿)&#39;과 사탕을 제조한다.-&gt;2020년_4_1]]
[[장마당 밖으로 나가 아파트를 도는 &#39;배낭 장사(메뚜기)&#39;가 된다.-&gt;2020년_4_2]]
[[아파트 화단과 베란다를 엎어 &#39;채소와 약초&#39;를 직접 기른다.-&gt;2020년_4_3]]
&lt;/div&gt;



&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;

&lt;!-- 캐릭터 팝업 박스 --&gt;
&lt;div id=&quot;char-popup&quot;&gt;
  &lt;div class=&quot;popup-inner&quot;&gt;
    &lt;button class=&quot;popup-close&quot;&gt;&amp;times;&lt;/button&gt;
    &lt;div class=&quot;popup-header&quot;&gt;
      &lt;div class=&quot;char-portrait-wrap&quot;&gt;&lt;img class=&quot;char-portrait&quot;&gt;&lt;/div&gt;
      &lt;div class=&quot;char-head-text&quot;&gt;
        &lt;h3 class=&quot;char-name&quot;&gt;&lt;/h3&gt;
        &lt;ul class=&quot;char-meta&quot;&gt;
          &lt;li&gt;&lt;span&gt;나이&lt;/span&gt; &lt;span class=&quot;char-age&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;지역&lt;/span&gt; &lt;span class=&quot;char-region&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;성향&lt;/span&gt; &lt;span class=&quot;char-trait&quot;&gt;&lt;/span&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;char-stats&quot;&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;돈&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-money&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;체력&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-stamina&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;리스크&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-risk&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;신뢰&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-trust&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
    &lt;p class=&quot;char-desc&quot;&gt;&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="127" name="2020년_4_1" tags="" position="1075,3575" size="100,100">
&lt;h1&gt;2020년&lt;/h1&gt;

&lt;h2&gt;고립의 섬 . . .&lt;/h2&gt;

&lt;p&gt;
&lt;옥수수를 삭혀 만든 &#39;인조 꿀(엿)&#39;과 사탕을 제조한다.&gt;

* 수입 설탕이 끊기며 단맛에 굶주린 사람들에게, 옥수수 전분을 삭혀 만든 조청과 수제 사탕은 없어서 못 파는 귀한 간식이 되었다.
* 밤새 가마솥 앞에서 불을 때며 엿을 고아야 하는 중노동이지만, 원재료(옥수수)만 구하면 부르는 게 값이라 마진율이 엄청나다.
* 하지만 연기와 냄새 때문에 이웃에게 들킬 위험이 크고, 식량난이 심해지면 옥수수 가격마저 폭등해 재료 수급이 막힐 수 있다.
* 당국이 &quot;식량을 낭비해 간식을 만든다&quot;며 비사회주의 행위로 단속할 명분이 충분하다.
&lt;/p&gt;

(set:
    _moneyDiff_5 to +14,
    _staminaDiff_5 to -10,
    _riskDiff_5 to +11,
    _trustDiff_5 to -8
)

(set:
    $money_5 to $money_5 + _moneyDiff_5,
    $stamina_5 to $stamina_5 + _staminaDiff_5,
    $risk_5 to $risk_5 + _riskDiff_5,
    $trust_5 to $trust_5 + _trustDiff_5
)

&lt;p&gt;돈: +_moneyDiff_5
체력: _staminaDiff_5
리스크: +_riskDiff_5
신뢰: +_trustDiff_5&lt;/p&gt;

[[다음 -&gt;2023년_1]]

&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="128" name="2020년_4_2" tags="" position="1200,3575" size="100,100">
&lt;h1&gt;2020년&lt;/h1&gt;

&lt;h2&gt;고립의 섬 . . .&lt;/h2&gt;

&lt;p&gt;
&lt;장마당 밖으로 나가 아파트를 도는 &#39;배낭 장사(메뚜기)&#39;가 된다.&gt;

* 시장 운영 시간이 단축되고 통제가 심해지자, 상인들은 단속반이 퇴근한 저녁 시간이나 아파트 단지 내부로 숨어들었다.
* 무거운 배낭에 두부, 콩나물, 비누 등을 짊어지고 고층 아파트를 오르내리며 &quot;두부 사세요&quot;라고 속삭이는 &#39;방문 판매&#39; 전략이다.
* 장세(자리세)를 낼 필요가 없고 현찰을 바로 쥘 수 있지만, 하루 종일 걷느라 무릎이 망가지고 낯선 사람의 신고나 강도 위험에 무방비다.
* 코로나 공포로 인해 문전박대당하기 일쑤이며, &quot;비루스를 퍼뜨리고 다닌다&quot;는 오명을 쓸 수도 있다.
&lt;/p&gt;

(set:
    _moneyDiff_5 to +9,
    _staminaDiff_5 to -14,
    _riskDiff_5 to +10,
    _trustDiff_5 to -6
)

(set:
    $money_5 to $money_5 + _moneyDiff_5,
    $stamina_5 to $stamina_5 + _staminaDiff_5,
    $risk_5 to $risk_5 + _riskDiff_5,
    $trust_5 to $trust_5 + _trustDiff_5
)

&lt;p&gt;돈: +_moneyDiff_5
체력: _staminaDiff_5
리스크: +_riskDiff_5
신뢰: +_trustDiff_5&lt;/p&gt;

[[다음 -&gt;2023년_1]]

&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="129" name="2020년_4_3" tags="" position="1325,3575" size="100,100">
&lt;h1&gt;2020년&lt;/h1&gt;

&lt;h2&gt;고립의 섬 . . .&lt;/h2&gt;

&lt;p&gt;
&lt;아파트 화단과 베란다를 엎어 &#39;채소와 약초&#39;를 직접 기른다.&gt;

* 국경 봉쇄로 중국산 채소와 의약품 수입이 끊기자, 파, 고추, 깻잎 같은 기초 식자재와 약초(도라지 등) 값이 폭등했다.
* 장사를 포기하고 집안의 모든 빈 공간과 아파트 뒤편 자투리땅을 개간해 농사를 짓는 &#39;자급자족&#39; 모드로 전환한다.
* 큰돈은 못 벌지만, 미친 물가 속에서 가족의 반찬을 해결하고 남는 것을 이웃에게 팔아 쌀값을 마련하는 가장 안전한 길이다.
* 하지만 비료가 없어 인분을 사용해야 하는 고역을 치러야 하고, 수확기에는 도둑이 들끓어 밤새 밭을 지켜야 한다.
&lt;/p&gt;

(set:
    _moneyDiff_5 to +5,
    _staminaDiff_5 to -12,
    _riskDiff_5 to +4,
    _trustDiff_5 to +1
)

(set:
    $money_5 to $money_5 + _moneyDiff_5,
    $stamina_5 to $stamina_5 + _staminaDiff_5,
    $risk_5 to $risk_5 + _riskDiff_5,
    $trust_5 to $trust_5 + _trustDiff_5
)

&lt;p&gt;돈: +_moneyDiff_5
체력: _staminaDiff_5
리스크: +_riskDiff_5
신뢰: +_trustDiff_5&lt;/p&gt;

[[다음 -&gt;2023년_1]]

&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="130" name="2023년_1" tags="" position="1500,3200" size="100,100">
&lt;h1&gt;2023년&lt;/h1&gt;

&lt;h2&gt;봉쇄의 끝. . .&lt;/h2&gt;

&lt;p&gt;압록강 너머에서 기차 화통 삶아 먹은 소리가 들려온다. 3년 4개월 만이다. 드디어 중국에서 화물 열차가 들어온다는 신호다.

&quot;이모! 저 소리 들려요? 이제 진짜 물건 들어오는 거죠? 나 진짜 &#39;오빠&#39;한테 부탁해서...&quot;

&quot;짝!&quot; (set: _jeoneh to 
    &#39;&lt;span class=&quot;char-link&quot; &#39; +
    &#39;data-name=&quot;정은혜&quot; &#39; +
    &#39;data-age=&quot;24&quot; &#39; +
    &#39;data-region=&quot;평안북도 신의주&quot; &#39; +
    &#39;data-trait=&quot;노련함&quot; &#39; +
    &#39;data-money=&quot;&#39; + (str: $money_5) + &#39;&quot; &#39; +
    &#39;data-stamina=&quot;&#39; + (str: $stamina_5) + &#39;&quot; &#39; +
    &#39;data-risk=&quot;&#39; + (str: $risk_5) + &#39;&quot; &#39; +
    &#39;data-trust=&quot;&#39; + (str: $trust_5) + &#39;&quot; &#39; +
    &#39;&gt;&#39; +
    &#39;정은혜&#39; +
    &#39;&lt;/span&gt;&#39;
)

(print: _jeoneh)가 조카 수련의 등짝을 매섭게 후려쳤다.

&quot;야! 너 입조심 안 하니? 그 &#39;오빠&#39; 소리 한 번만 더 했다간 우리 다 죽어! 평양문화어보호법 나온 거 몰라? 어제도 옆 동네 미용사가 &#39;님&#39;자 붙였다가 공개 비판 무대에 섰단다. 괴뢰 말투 쓰면 사형이라잖아, 사형!&quot;
&lt;/p&gt;

&lt;hr class=&quot;page-separator&quot;&gt;
&lt;ul class=&quot;custom-list&quot;&gt;
&lt;li&gt;70일 전투&lt;/li&gt;
&lt;li&gt;개성공단 폐쇄&lt;/li&gt;
&lt;li&gt;유엔 안보리 결의 2270호&lt;/li&gt;
&lt;li&gt;코로나 국경 봉쇄&lt;/li&gt;
&lt;/ul&gt;
&lt;div&gt;
[[다음-&gt;2023년_2]]
&lt;/div&gt;



&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;

&lt;!-- 캐릭터 팝업 박스 --&gt;
&lt;div id=&quot;char-popup&quot;&gt;
  &lt;div class=&quot;popup-inner&quot;&gt;
    &lt;button class=&quot;popup-close&quot;&gt;&amp;times;&lt;/button&gt;
    &lt;div class=&quot;popup-header&quot;&gt;
      &lt;div class=&quot;char-portrait-wrap&quot;&gt;&lt;img class=&quot;char-portrait&quot;&gt;&lt;/div&gt;
      &lt;div class=&quot;char-head-text&quot;&gt;
        &lt;h3 class=&quot;char-name&quot;&gt;&lt;/h3&gt;
        &lt;ul class=&quot;char-meta&quot;&gt;
          &lt;li&gt;&lt;span&gt;나이&lt;/span&gt; &lt;span class=&quot;char-age&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;지역&lt;/span&gt; &lt;span class=&quot;char-region&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;성향&lt;/span&gt; &lt;span class=&quot;char-trait&quot;&gt;&lt;/span&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;char-stats&quot;&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;돈&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-money&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;체력&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-stamina&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;리스크&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-risk&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;신뢰&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-trust&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
    &lt;p class=&quot;char-desc&quot;&gt;&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="131" name="2023년_2" tags="" position="1500,3325" size="100,100">
&lt;h1&gt;2023년&lt;/h1&gt;

&lt;h2&gt;봉쇄의 끝. . .&lt;/h2&gt;

&lt;p&gt;수련이 입을 삐죽이며 웅얼거린다. &quot;아니... 그럼 남편을 뭐라고 불러요. 촌스럽게 &#39;세대주 동지&#39;가 뭐예요.&quot;

&quot;잔말 말고, 분위기 파악이나 해. 기차 들어오면 뭐 하니? 다 국가 물건이야. 우리 같은 장사꾼한테 떨어지는 건 콩고물도 없다고.&quot;

(set: _jeoneh to 
    &#39;&lt;span class=&quot;char-link&quot; &#39; +
    &#39;data-name=&quot;정은혜&quot; &#39; +
    &#39;data-age=&quot;24&quot; &#39; +
    &#39;data-region=&quot;평안북도 신의주&quot; &#39; +
    &#39;data-trait=&quot;노련함&quot; &#39; +
    &#39;data-money=&quot;&#39; + (str: $money_5) + &#39;&quot; &#39; +
    &#39;data-stamina=&quot;&#39; + (str: $stamina_5) + &#39;&quot; &#39; +
    &#39;data-risk=&quot;&#39; + (str: $risk_5) + &#39;&quot; &#39; +
    &#39;data-trust=&quot;&#39; + (str: $trust_5) + &#39;&quot; &#39; +
    &#39;&gt;&#39; +
    &#39;정은혜&#39; +
    &#39;&lt;/span&gt;&#39;
)

(print: _jeoneh)의 말대로다. 국경은 열렸지만, 국가는 &#39;국가 무역&#39;만 허용했다. 
밀가루, 비료, 건설 자재... 전부 나라 창고로 직행한다. 
장마당 상인들은 &quot;물건이 없어서 못 파는 기근&quot;에 시달리고 있다. 사람들은 돈이 없고, 국가는 통제를 푼 척하며 감시 카메라만 늘렸다.
&lt;/p&gt;

&lt;hr class=&quot;page-separator&quot;&gt;
&lt;ul class=&quot;custom-list&quot;&gt;
&lt;li&gt;70일 전투&lt;/li&gt;
&lt;li&gt;개성공단 폐쇄&lt;/li&gt;
&lt;li&gt;유엔 안보리 결의 2270호&lt;/li&gt;
&lt;li&gt;코로나 국경 봉쇄&lt;/li&gt;
&lt;/ul&gt;
&lt;div&gt;
[[다음-&gt;2023년_3]]
&lt;/div&gt;



&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;

&lt;!-- 캐릭터 팝업 박스 --&gt;
&lt;div id=&quot;char-popup&quot;&gt;
  &lt;div class=&quot;popup-inner&quot;&gt;
    &lt;button class=&quot;popup-close&quot;&gt;&amp;times;&lt;/button&gt;
    &lt;div class=&quot;popup-header&quot;&gt;
      &lt;div class=&quot;char-portrait-wrap&quot;&gt;&lt;img class=&quot;char-portrait&quot;&gt;&lt;/div&gt;
      &lt;div class=&quot;char-head-text&quot;&gt;
        &lt;h3 class=&quot;char-name&quot;&gt;&lt;/h3&gt;
        &lt;ul class=&quot;char-meta&quot;&gt;
          &lt;li&gt;&lt;span&gt;나이&lt;/span&gt; &lt;span class=&quot;char-age&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;지역&lt;/span&gt; &lt;span class=&quot;char-region&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;성향&lt;/span&gt; &lt;span class=&quot;char-trait&quot;&gt;&lt;/span&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;char-stats&quot;&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;돈&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-money&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;체력&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-stamina&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;리스크&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-risk&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;신뢰&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-trust&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
    &lt;p class=&quot;char-desc&quot;&gt;&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="132" name="2023년_3" tags="" position="1500,3450" size="100,100">
&lt;h1&gt;2023년&lt;/h1&gt;

&lt;h2&gt;봉쇄의 끝. . .&lt;/h2&gt;

&lt;p&gt;하지만 (set: _jeoneh to 
    &#39;&lt;span class=&quot;char-link&quot; &#39; +
    &#39;data-name=&quot;정은혜&quot; &#39; +
    &#39;data-age=&quot;41&quot; &#39; +
    &#39;data-region=&quot;평안북도 신의주&quot; &#39; +
    &#39;data-trait=&quot;노련함&quot; &#39; +
    &#39;data-money=&quot;&#39; + (str: $money_5) + &#39;&quot; &#39; +
    &#39;data-stamina=&quot;&#39; + (str: $stamina_5) + &#39;&quot; &#39; +
    &#39;data-risk=&quot;&#39; + (str: $risk_5) + &#39;&quot; &#39; +
    &#39;data-trust=&quot;&#39; + (str: $trust_5) + &#39;&quot; &#39; +
    &#39;&gt;&#39; +
    &#39;정은혜&#39; +
    &#39;&lt;/span&gt;&#39;
)

(print: _jeoneh)의 눈이 번뜩인다. 공식적인 무역 트럭 바닥에, 혹은 기차 화물칸 구석에 &#39;알짜배기&#39;들이 숨어 들어온다는 정보를 입수했기 때문이다.

지금 사람들에게 가장 필요한 게 뭘까? 국가가 절대 채워줄 수 없는 그것. (set: _jeoneh to 
    &#39;&lt;span class=&quot;char-link&quot; &#39; +
    &#39;data-name=&quot;정은혜&quot; &#39; +
    &#39;data-age=&quot;41&quot; &#39; +
    &#39;data-region=&quot;평안북도 신의주&quot; &#39; +
    &#39;data-trait=&quot;노련함&quot; &#39; +
    &#39;data-money=&quot;&#39; + (str: $money_5) + &#39;&quot; &#39; +
    &#39;data-stamina=&quot;&#39; + (str: $stamina_5) + &#39;&quot; &#39; +
    &#39;data-risk=&quot;&#39; + (str: $risk_5) + &#39;&quot; &#39; +
    &#39;data-trust=&quot;&#39; + (str: $trust_5) + &#39;&quot; &#39; +
    &#39;&gt;&#39; +
    &#39;정은혜&#39; +
    &#39;&lt;/span&gt;&#39;
)

(print: _jeoneh)는 조카 수련의 손을 잡으며 낮게 속삭였다. &quot;수련아, 오늘 밤에 &#39;그 아저씨&#39; 오기로 했다. 준비해라.&quot;
&lt;/p&gt;

&lt;hr class=&quot;page-separator&quot;&gt;
&lt;ul class=&quot;custom-list&quot;&gt;
&lt;li&gt;70일 전투&lt;/li&gt;
&lt;li&gt;개성공단 폐쇄&lt;/li&gt;
&lt;li&gt;유엔 안보리 결의 2270호&lt;/li&gt;
&lt;li&gt;코로나 국경 봉쇄&lt;/li&gt;
&lt;/ul&gt;
&lt;div&gt;
[[병원에도 없는 &#39;중국산 항생제와 해열제&#39;를 밀매한다.-&gt;2023년_4_1]]
[[장마당 대신 물건을 배달해주는 &#39;달리기꾼(심부름 서비스)&#39;을 조직한다.-&gt;2023년_4_2]]
[[중국산 중고 옷(구지)을 들여와 북한식으로 고쳐 파는 &#39;리폼 장사&#39;를 한다.-&gt;2023년_4_3]]
&lt;/div&gt;


&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;

&lt;!-- 캐릭터 팝업 박스 --&gt;
&lt;div id=&quot;char-popup&quot;&gt;
  &lt;div class=&quot;popup-inner&quot;&gt;
    &lt;button class=&quot;popup-close&quot;&gt;&amp;times;&lt;/button&gt;
    &lt;div class=&quot;popup-header&quot;&gt;
      &lt;div class=&quot;char-portrait-wrap&quot;&gt;&lt;img class=&quot;char-portrait&quot;&gt;&lt;/div&gt;
      &lt;div class=&quot;char-head-text&quot;&gt;
        &lt;h3 class=&quot;char-name&quot;&gt;&lt;/h3&gt;
        &lt;ul class=&quot;char-meta&quot;&gt;
          &lt;li&gt;&lt;span&gt;나이&lt;/span&gt; &lt;span class=&quot;char-age&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;지역&lt;/span&gt; &lt;span class=&quot;char-region&quot;&gt;&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;span&gt;성향&lt;/span&gt; &lt;span class=&quot;char-trait&quot;&gt;&lt;/span&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;char-stats&quot;&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;돈&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-money&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;체력&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-stamina&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;리스크&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-risk&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
      &lt;div class=&quot;stat-row&quot;&gt;&lt;span class=&quot;stat-label&quot;&gt;신뢰&lt;/span&gt;&lt;div class=&quot;stat-bar&quot;&gt;&lt;div class=&quot;stat-fill stat-trust&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
    &lt;p class=&quot;char-desc&quot;&gt;&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="133" name="2023년_4_1" tags="" position="1500,3575" size="100,100">
&lt;h1&gt;2023년&lt;/h1&gt;

&lt;h2&gt;봉쇄의 끝. . .&lt;/h2&gt;

&lt;p&gt;
&lt;병원에도 없는 &#39;중국산 항생제와 해열제&#39;를 밀매한다.&gt;

* 3년간의 국경 봉쇄로 병원 소독솜조차 빨아 쓰는 참담한 의료 현실 속에서, 국경이 열리자마자 가장 시급한 &#39;중국산 항생제·해열제&#39;를 확보한다.
* &quot;사람 목숨이 왔다 갔다 하는데 법이 대수냐&quot;는 배짱으로, 부피는 작지만 마진율은 10배가 넘는 고수익 밀매 루트를 뚫는다.
* 아픈 사람들은 집을 팔아서라도 약을 사려 하기에 수요는 폭발적이지만, 국가의 &#39;비법 의료 행위&#39; 단속 대상 1순위가 된다.
* 만약 가짜 약이나 부작용 사고가 발생할 경우, 보안서의 처벌보다 눈이 뒤집힌 유족들의 보복이 더 두려운 위험한 도박이다.
&lt;/p&gt;

(set:
    _moneyDiff_5 to +15,
    _staminaDiff_5 to -5,
    _riskDiff_5 to +15,
    _trustDiff_5 to -12
)

(set:
    $money_5 to $money_5 + _moneyDiff_5,
    $stamina_5 to $stamina_5 + _staminaDiff_5,
    $risk_5 to $risk_5 + _riskDiff_5,
    $trust_5 to $trust_5 + _trustDiff_5
)

&lt;p&gt;돈: +_moneyDiff_5
체력: _staminaDiff_5
리스크: +_riskDiff_5
신뢰: +_trustDiff_5&lt;/p&gt;

[[결과-&gt;결과보기5]]

&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="134" name="2023년_4_2" tags="" position="1625,3575" size="100,100">
&lt;h1&gt;2023년&lt;/h1&gt;

&lt;h2&gt;봉쇄의 끝. . .&lt;/h2&gt;

&lt;p&gt;
&lt;장마당 대신 물건을 배달해주는 &#39;달리기꾼(심부름 서비스)&#39;을 조직한다.&gt;

* 시장 통제와 검열이 심해져 직접 나오길 꺼리는 돈주(부유층)를 겨냥해, 전화로 주문받고 물건을 집 앞까지 배달하는 서비스를 시작한다.
* &quot;폼이 밥 먹여주냐&quot;며 조카 수련을 설득해 조직하고, 오토바이나 튼튼한 다리만 있으면 되는 무자본·무점포 창업에 나선다.
* 점포 자리세를 낼 필요가 없고, 단속반이 들이닥치면 물건을 숨기고 골목으로 도망치기에 기동성이 가장 유리하다.
* 그러나 하루 종일 뛰어야 하는 육체적 고됨은 물론, 배달 사고(분실·강도)에 대한 배상 책임과 &#39;심부름꾼&#39;이라 천시하는 사회적 시선을 견뎌야 한다.
&lt;/p&gt;

(set:
    _moneyDiff_5 to +10,
    _staminaDiff_5 to -13,
    _riskDiff_5 to +8,
    _trustDiff_5 to -3
)

(set:
    $money_5 to $money_5 + _moneyDiff_5,
    $stamina_5 to $stamina_5 + _staminaDiff_5,
    $risk_5 to $risk_5 + _riskDiff_5,
    $trust_5 to $trust_5 + _trustDiff_5
)

&lt;p&gt;돈: +_moneyDiff_5
체력: _staminaDiff_5
리스크: +_riskDiff_5
신뢰: +_trustDiff_5&lt;/p&gt;

[[결과-&gt;결과보기5]]

&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="135" name="2023년_4_3" tags="" position="1750,3575" size="100,100">
&lt;h1&gt;2023년&lt;/h1&gt;

&lt;h2&gt;봉쇄의 끝. . .&lt;/h2&gt;

&lt;p&gt;
&lt;중국산 중고 옷(구지)을 들여와 북한식으로 고쳐 파는 &#39;리폼 장사&#39;를 한다.&gt;

* 새 옷을 살 여력이 없는 주민들을 위해, 중국에서는 쓰레기 취급받는 중고 의류(구지)를 헐값에 들여와 가성비 상품으로 재탄생시킨다.
* 밤새 미싱을 돌려 영어 상표를 꽃무늬로 덮고 꽉 끼는 바지통을 넓히며, 살벌한 &#39;반동사상문화배격법&#39;을 피할 현지화 작업을 거친다.
* 원가가 거의 들지 않아 리폼 기술만 좋으면 불티나게 팔리지만, 옷차림 단속은 검열단의 실적 채우기에 가장 좋은 먹잇감이다.
* 재수 없게 &quot;자본주의 날라리 풍&quot;으로 지목되면, 사람들 앞에서 가위로 옷이 찢기는 공개적인 수모를 당하고 노동단련대로 끌려갈 수 있다.
&lt;/p&gt;

(set:
    _moneyDiff_5 to +10,
    _staminaDiff_5 to -13,
    _riskDiff_5 to +8,
    _trustDiff_5 to -3
)

(set:
    $money_5 to $money_5 + _moneyDiff_5,
    $stamina_5 to $stamina_5 + _staminaDiff_5,
    $risk_5 to $risk_5 + _riskDiff_5,
    $trust_5 to $trust_5 + _trustDiff_5
)

&lt;p&gt;돈: +_moneyDiff_5
체력: _staminaDiff_5
리스크: +_riskDiff_5
신뢰: +_trustDiff_5&lt;/p&gt;

[[결과-&gt;결과보기5]]

&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="136" name="코로나 국경 봉쇄" tags="" position="1325,3200" size="100,100">&lt;h1&gt;북한 코로나19 국경 봉쇄&lt;/h1&gt;

&lt;p&gt;&lt;strong&gt;1. 배경&lt;/strong&gt;&lt;br&gt;
2020년 1월 중국 우한에서 시작된 코로나19가 전 세계로 확산됨. 열악한 보건 의료 인프라를 가진 북한은 바이러스 유입 시 체제 붕괴로 이어질 수 있다는 위기감 속에, &#39;국가 존망이 걸린 정치적 문제&#39;로 규정하고 즉각적인 초강경 대응에 나섬.&lt;br&gt;&lt;br&gt;

&lt;strong&gt;2. 전개 (2020. 1 ~ 2023. 8)&lt;/strong&gt;&lt;br&gt;
-&amp;nbsp; 2020년 1월 22일 국가비상방역체계를 선포하고 북중, 북러 국경을 전면 폐쇄함. 이는 전 세계에서 가장 먼저 국경을 닫은 조치였으며, 국경 지역에 무단 통행자 사살 명령을 내리는 등 전시 상황에 준하는 통제가 이루어짐.&lt;br&gt;
-&amp;nbsp; 북한 대외 무역의 90% 이상을 차지하던 대중 교역이 사실상 중단됨(2020년 교역액 전년 대비 80% 급감). 공식 무역뿐만 아니라 밀무역까지 원천 봉쇄되면서 장마당에 유입되던 식량과 생필품 공급망이 마비됨.&lt;br&gt;
-&amp;nbsp; 내부적으로는 지역 간 이동을 금지하고 물자 유통을 통제함. 2022년 5월 내부 확진자 발생을 인정했으나 3개월 만에 &#39;방역 승리&#39;를 선언하였고, 2023년 8월 해외 체류자 귀국 승인을 기점으로 3년 7개월 만에 빗장을 풀기 시작함.&lt;br&gt;&lt;br&gt;

&lt;strong&gt;3. 결과&lt;/strong&gt;&lt;br&gt;
- &lt;strong&gt;성과:&lt;/strong&gt; 물리적 봉쇄를 통해 초기 바이러스의 대규모 확산을 방지하고, 방역을 명분으로 사회 전체에 대한 중앙 통제력을 획기적으로 강화함.&lt;br&gt;
- &lt;strong&gt;한계:&lt;/strong&gt; 국경 봉쇄로 인해 원자재 수입이 끊기며 공장 가동이 멈추고 식량난이 가중됨. &#39;제2의 고난의 행군&#39;이라 불릴 만큼 경제가 위축되었으며, 시장(장마당) 경제가 크게 훼손되어 주민들의 생존권이 위협받음.&lt;br&gt;
- &lt;strong&gt;평가:&lt;/strong&gt; 전염병 방어라는 보건적 목적을 넘어, 외부 정보 차단과 내부 결속을 다지기 위한 정치적 수단으로 활용됨. 봉쇄 해제 이후에도 국경 지역의 물리적 장벽(철조망, 초소)은 더욱 강화되어 유지되고 있음.&lt;/p&gt;



&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2020년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="137" name="결과보기1" tags="" position="1800,850" size="100,100">(set: $result to &quot;&quot;)

(if: $risk &gt;= 55)[
	(set: $result to &quot;위험한 경계의 집안…
    
    전후의 혼란 속에 위험을 감수하며 빠른 성공을 노렸던 선택들이 역으로 집안을 흔들기 시작했다.
암시장 거래, 조직 비판 회피, 협동화 불만 표시—하나하나가 감시 대상이 되었다.
특히 1958년 전후 숙청 분위기 속에서 당신의 집안은 “사상 불순” 의혹을 받게 된다.
다행히 최악의 처분은 피했지만, 집안은 평양에서 밀려나 변두리 노동 단위로 재배치된다.
이후에도 감시 대상에서 벗어나지 못한 채, 위태로운 줄타기가 계속된다.&quot;)
]
(else-if: $stamina &lt;= 0)[
	(set: $result to &quot;침묵 속의 붕괴…
    
    전쟁 이후 끝없는 노동과 건설 동원 속에서 집안은 점점 체력을 소진해 갔다.
협동조합화 과정에서 토지와 재산도 국가로 넘어가며 심리적 지지대도 사라졌다.
1950년대 말부터 반복되는 속도전과 정치 학습은 가족을 더욱 지치게 했다.
결국 1960년대 초, 제1차 7개년 계획의 실패 조짐이 드러나던 시점에 집안은 더 이상 버티지 못했다.
이름 없는 주민으로 남아, 국가가 강요하는 침묵 속에 조용히 사라져간다.&quot;)
]
(else-if: $trust &gt;= 45)[
	(set: $result to &quot;국가의 기둥…
    
    전쟁 직후의 폐허 속에서도 당신의 집안은 가장 먼저 복구 공사와 정치 조직 사업에 뛰어들었다.
1958년 협동조합화가 진행될 때에도 누구보다 빠르게 조직을 뒷받침해 당의 신뢰를 얻었다.
당 간부들은 “이 집안은 국가 재건의 모범”이라며 주요 사업을 맡기기 시작했고,
집안은 평양·도청소재지의 정치 사업에 참여하며 안정된 지위를 얻게 된다.
그러나 강한 충성의 대가는 사적 여유의 상실—가족들은 국가의 어깨가 되어 살아간다.&quot;)
]
(else-if: $money &gt;= 50)[
	(set: $result to &quot;시장 감각으로 살아남는 집안…
    
    전후 복구 시기 물자가 부족해지자, 당신의 집안은 장마당 주변의 교환망을 누구보다 빨리 파악했다.
1954~56년 복구 계획 동안 폐철·목재·생필품을 모아 작은 네트워크를 만들며 생활 기반을 안정시켰다.
농촌 협동화가 진행되면서 국영상점의 공급이 줄어도, 집안은 비공식 교환망으로 꾸준히 수입을 유지했다.
1960년대 들어 국가 통제가 강화되자 잠시 흔들리지만, 남들보다 먼저 움직여 생계를 지켰다.
당 조직에선 경계하지만, 주민들 사이에서는 “살림을 아는 집안”으로 불렸다.&quot;)
]
(else:)[
	(set: $result to &quot;평범한 가정의 시대 통과…
    
    전후 복구에도, 협동화에도, 7개년 계획에도 깊이 관여하지 않은 집안.
특별한 혜택도 박탈도 없이, 주어진 생산 할당을 채우며 조용히 살아간다.
배급은 넉넉하지 않았지만, 굶어죽을 만큼 부족하지도 않았다.
정치적 과오 없이 1960년대 초반의 불안정한 시기를 무사히 넘긴다.
역사는 거대한 변화를 기록했지만, 이 집안의 이야기는 평범함 자체로 남는다.&quot;)
]

&#39;&#39;1세대 엔딩&#39;&#39;
(print: $result)

[[다음 세대로 이동 -&gt;1978년_1]]

&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="138" name="결과보기2" tags="" position="2300,1700" size="100,100">(set: $result_2 to &quot;&quot;)

(if: $risk_2 &gt;= 55)[
	(set: $result_2 to &quot;엔딩 4 — 위험한 경계의 집안…

제2차 7개년 계획의 성과를 무리하게 따라가려 하며 위험한 선택을 반복했다.
암시장 거래, 규정 위반, 배급 혼란기에 발생한 사적 축적까지 감시망에 포착되었다.
1980년대 중반 배급 불안정과 통제 강화 속에서 집안은 ‘비사회주의 행위’ 의혹을 받는다.
1989년 청년축전 대비 숙정 분위기 속에서 중앙에서 밀려나 지방 단위로 재배치된다.
1991년 소련 붕괴 이후 감시가 더 강화되며, 집안은 불안정한 처지에서 시대를 통과한다.&quot;)
]

(else-if: $stamina_2 &lt;= 0)[
	(set: $result_2 to &quot;엔딩 3 — 침묵 속의 붕괴…

1970년대 말부터 계속된 생산 증산·속도전 속에 집안은 점점 지쳐갔다.
설비 노후화와 전력난으로 노동 강도만 높아지며 생활은 갈수록 피폐해졌다.
1985년 배급이 불안정해지자 가족들은 생계를 유지하기조차 어려워진다.
1989년 과잉투자와 부채 위기 속에서 집안은 더 이상 변화의 파고를 견디지 못한다.
1994년 김일성 사망 때까지 조용히 쇠약해지며 역사의 뒤편으로 사라진다.&quot;)
]

(else-if: $trust_2 &gt;= 45)[
	(set: $result_2 to &quot;엔딩 1 — 국가의 기둥…

1978년 제2차 7개년 계획 수행 과정에서 집안은 꾸준히 충성적 노동자로 평가받는다.
전력난·식량난에도 불평 없이 과업을 완수해 간부층의 두터운 신뢰를 얻게 된다.
1980~85년 배급 혼란 시기에도 내부 조직 사업에 적극 참여하며 정치적 입지를 강화했다.
1989년 청년축전 준비에서도 모범 단위로 표창을 받고 지역 핵심 가구로 자리매김한다.
1994년 세대교체의 순간에도 집안은 ‘국가의 뼈대’라는 명성과 함께 안정적으로 다음 시기로 넘어간다.&quot;)
]

(else-if: $money_2 &gt;= 50)[
	(set: $result_2 to &quot;엔딩 2 — 시장 감각으로 살아남는 집안…

1970년대 후반 계획과 현실의 격차가 벌어질 때 집안은 생계형 시장 활동에 눈을 떴다.
1980년대 중반 배급 불안정이 심해지자 사적 네트워크로 식량과 생필품을 조달했다.
대외채무와 생산 둔화로 국영상점이 비어도, 집안은 물물교환과 장마당으로 버텼다.
1989년 청년축전 기간에도 외국 물자 수요를 기회 삼아 재산을 불렸다.
1991년 소련 붕괴 이후 국가경제는 무너졌지만, 집안은 특유의 생존 감각으로 다음 세대에 도달한다.&quot;)
]

(else:)[
	(set: $result_2 to &quot;엔딩 5 — 평범한 가정의 시대 통과…

집안은 제2차 7개년 계획에도 깊이 관여하지 않고, 맡은 일만 조용히 수행했다.
1980~85년 배급이 줄어들어도 큰 불만 없이 주어진 몫으로 살아갔다.
1989년 청년축전·투자 확대도 먼 이야기처럼 지나갔고, 변화는 체감되지 않았다.
1991년 소련 붕괴로 모든 것이 흔들려도 집안은 묵묵히 버티며 큰 위험을 피했다.
그렇게 집안은 어느 조직에도 두드러지지 않는, 조용한 평범함 속에서 시대를 넘겼다.&quot;)
]

&#39;&#39;2세대 엔딩&#39;&#39;
(print: $result_2)

[[다음 세대로 이동 -&gt;1995년_1]]

&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;
</tw-passagedata><tw-passagedata pid="139" name="결과보기3" tags="" position="1600,2275" size="100,100">(set: $result_3 to &quot;&quot;)

(if: $stamina_3 &lt;= 0 and $money_3 &lt;= 25)[
	(set: $result_3 to &quot;굶주림으로 무너지는 집안 — 굶주림에 쓰러진 집안\n\n\
1995년 대홍수 이후 배급이 끊기고 공장이 멈추면서 당신의 집안은 버틸 힘을 잃어 간다. \
1996년 식량 생산이 급감하자 국가 배급은 이름만 남고, 가족들은 산과 강을 뒤져 풀뿌리와 나무껍질을 먹으며 버틴다. \
1997년 장마당이 서기 시작하지만, 이 집안은 물건도 힘도 없어 시장에 제대로 들어가지 못한다. \
결국 이 집안의 이름은 통계 속 ‘아사자 수’에 섞여, 1990년대 굶주림 속으로 사라진다.&quot;)
]

(else-if: $risk_3 &gt;= 38)[
	(set: $result_3 to &quot;탈출·국경·단속의 경계 위 — 국경과 단속의 경계에 선 집안\n\n\
배급이 사라진 뒤, 당신의 후손은 더 이상 한 동네에만 머무르지 못한다. \
1996년 이후 식량이 떨어지자 국경 근처로 이동해 중국 쌀, 밀가루를 노리는 밀수꾼들과 섞여 산다. \
1997년 이후 장마당과 국경 밀무역이 엮이면서 이 집안도 비공식 교역과 탈북 알선 주변을 맴돈다. \
단속반의 발자국과 총성 소리에 잠에서 깨는 밤이 늘어나고, 이 집안의 운명은 언제 적발될지 모르는 위험 위에 놓인다.&quot;)
]

(else-if: $money_3 &gt;= 32 and $stamina_3 &gt;= 4)[
	(set: $result_3 to &quot;장마당을 붙잡고 살아남은 집안 — 장마당을 붙잡고 살아남은 집안\n\n\
1995년 이후 배급과 공장이 무너지자, 당신의 집안은 삶의 중심을 완전히 장마당으로 옮긴다. \
1997년 장마당이 본격적으로 확산되면서 작은 물건, 곡식 한 줌이라도 더 돌리며 하루치 식량을 마련한다. \
달러, 위안화, 쌀값이 오르내리는 가운데 이 집안은 가격과 수요를 읽는 눈을 키워 살아남는다. \
국가는 더 이상 이 집안을 책임지지 않지만, 대신 이 집안은 스스로 먹고 사는 법을 배운 세대로 남는다.&quot;)
]

(else-if: $stamina_3 &gt;= 6 and $money_3 &gt;= 26)[
	(set: $result_3 to &quot;어떻게든 버틴 생존자 — 끝까지 버틴 고난의 행군 세대\n\n\
당신의 후손은 배급이 끊긴 뒤에도 산채 채집, 자급농, 품팔이, 작은 장사를 동시에 붙잡고 버틴다. \
1996~97년 굶주림의 절정기에도, 하루에 한 끼라도 먹기 위해 일을 가리지 않고 나선다. \
1998년 이후 헌법 개정과 경제관리 조치 논의가 시작될 때까지, 이 집안은 기적처럼 가족 전원이 살아남는다. \
이들의 삶은 화려하지 않았지만, 다음 세대가 숨을 쉴 최소한의 토대를 남긴 생존자의 집안으로 기록된다.&quot;)
]

(else:)[
	(set: $result_3 to &quot;무기력과 체념 속에서 서서히 가라앉는 집안 — 서서히 가라앉는 무기력의 집안\n\n\
당신의 집안은 굶어 죽지도, 크게 성공하지도 않는다. \
1995년 이후 배급이 끊어져도 ‘언젠가 다시 나오겠지’ 하는 기대 속에 장마당으로 완전히 옮기지 못한다. \
도망칠 용기도, 적극적으로 장사에 뛰어들 힘도 없이, 그저 오늘을 넘기는 일에만 매달린다. \
1997년 시장이 커지고 1998~99년 새로운 조치가 논의되어도, 이 집안은 변화의 흐름에 올라타지 못한 채 평범한 가난 속으로 가라앉는다.&quot;)
]

&#39;&#39;3세대 엔딩&#39;&#39;
(print: $result_3)

[[다음 세대로 이동 -&gt;2002년_1]]

&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;
</tw-passagedata><tw-passagedata pid="140" name="결과보기4" tags="" position="1700,2975" size="100,100">(set: $result_4 to &quot;&quot;)

(if: $risk_4 &gt;= 28)[
	(set: $result_4 to &quot;밀수·국경 위험 가문 — 경계 위의 생존자\n\n\
2000년대 중반, UN 제재와 단속 강화로 합법 무역 창구가 막히자 당신의 집안은 국경 무역과 밀수에 발을 들인다. \
2005년 이후 외환·무역이 악화될수록, 중국산 식량·생활재를 들여와 장마당에 흘리는 일에 더 깊이 연루된다. \
2009년 통화개혁 이후에도 현금 대신 물자와 외화를 쥐고 있었기에 굶지는 않지만, 단속반과 보위부의 감시는 날로 거세진다. \
이 집안의 생존은 제재·국경·단속이라는 세 겹의 위험 위에 아슬아슬하게 서 있다.&quot;)
]

(else-if: $money_4 &gt;= 32)[
	(set: $result_4 to &quot;그림자 시장의 승자 — 시장의 그늘을 지배한 집안\n\n\
2002년 7·1 조치로 가격과 임금이 현실화되자, 당신의 집안은 누구보다 빨리 장마당과 개인 경제의 흐름을 읽어낸다. \
개성공단 인근 물류, 중국산 생활재 도매, 환전 장사 등을 잇달아 붙잡으며 자본을 불려 나간다. \
2005년 이후 제재와 통제가 강화되어도, 이 집안은 국가 공급망이 비는 틈을 정확히 노려 이윤을 쌓는다. \
국가의 통제는 그들을 완전히 막지 못했고, 이들은 2000년대 그림자 시장의 조용한 승자 중 하나가 된다.&quot;)
]

(else-if: $trust_4 &gt;= -13 and $money_4 &gt;= 28)[
	(set: $result_4 to &quot;라선특구형 희귀 성공자 — 라선의 기회를 붙잡은 개혁 세대\n\n\
2000년대 후반, 당신의 집안은 우연한 인맥과 기회를 통해 라선특구 사업에 참여할 수 있는 통로를 얻는다. \
특구 내 식당, 운수, 소규모 무역 등 ‘합법 시장’의 초기에 발을 들이며 안정적인 외화 수입원을 확보한다. \
2010년 라선특구 등 시장 기능이 부분적으로 인정될 때, 이 집안은 이미 자리를 잡은 극소수 내부 성공자로 남아 있다. \
제한적 개혁의 좁은 문을 통과한 이 가문은 북한식 제도권 시장층의 표본이 된다.&quot;)
]

(else-if: $money_4 &lt;= 26)[
	(set: $result_4 to &quot;통화개혁 생존 가정 — 2009년, 돈이 사라진 날을 버텨낸 집안\n\n\
2002년 이후 조금씩 모아 온 저축은 2009년 화폐개혁으로 하루아침에 종이조각이 된다. \
당신의 집안은 예금과 현금은 잃었지만, 친척·이웃 네트워크와 곡식·물자 같은 현물 덕분에 완전히 무너지지는 않는다. \
통화개혁 직후 쌀값과 물가가 폭등할 때에도, 이 집안은 소규모 자급과 물물교환으로 최소한의 생계를 이어 간다. \
돈은 사라졌지만, 사람과 물건의 연결망이 이 집안을 2000년대의 큰 파국에서 겨우 건져 올린다.&quot;)
]

(else:)[
	(set: $result_4 to &quot;조용한 생존자 — 잊힌 시대의 조용한 생존자\n\n\
당신의 집안은 2000년대 시장화에도, 통화개혁에도 깊게 휘말리지 않는다. \
크게 벌지도, 크게 잃지도 못한 채 배급·작은 장사·친척 도움을 이어붙여 그날그날을 버틴다. \
UN 제재와 시장 통제가 번갈아 이어지는 동안, 이 집안은 국경 무역도, 특구 사업도 잡지 못한 평범한 가정으로 남는다. \
역사는 시장화와 개혁, 통화개혁을 기록하지만, 이 집안의 이름은 어느 쪽에서도 크게 언급되지 않은 채 조용히 다음 세대로 넘어간다.&quot;)
]

&#39;&#39; 4세대 엔딩&#39;&#39;
(print: $result_4)

[[다음 세대로 이동 -&gt;2016년_1]]

&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;
</tw-passagedata><tw-passagedata pid="141" name="결과보기5" tags="" position="2050,3575" size="100,100">(set: $result_5 to &quot;&quot;)

(if: $money_5 &gt;= 75 and $risk_5 &gt;= 70 and $trust_5 &lt;= 35)[
	(set: $result_5 to &quot;;; 1. 제재 시대 밀수 자본가 — 국경 봉쇄를 뚫고 부를 축적한 집안\n\n\
2016년 UN 제재가 강화되며 합법 무역이 얼어붙었지만, 정온건의 후손은 오히려 그 빈틈을 파고들었다. \
석탄·해산물·생활재 등 금지 품목이 늘어날수록, 이 집안은 더 깊은 비밀 루트를 이용해 외화를 확보했다. \
2020년 코로나 국경봉쇄 이후에도 위험한 강을 건너며 거래를 이어갔고, 그 대가로 막대한 부를 손에 넣는다. \
그러나 언제 단속·처벌·숙청이 닥칠지 모른다는 공포를 안고 사는 ‘그늘의 자본가’가 된다.&quot;)
]

(else-if: $money_5 &gt;= 75 and $trust_5 &gt;= 50)[
	(set: $result_5 to &quot;;; 2. 붉은 자본가 — 국가와 시장을 동시에 활용한 신흥 권력층\n\n\
당신의 집안은 제재 국면에서도 국가 프로젝트·특구 사업·기관 공급망과 연결되며 체제의 신뢰를 얻는다. \
2018년 감시통제가 강화된 이후에도, 이들은 ‘국가가 허용한 시장’의 틀 속에서 안정적으로 자본을 축적했다. \
2020년 국경이 닫혀 민간 상인이 몰락할 때에도, 이 집안은 기관·기업소 배정 물자와 특수 유통망 덕분에 부를 지켜냈다. \
체제 충성 + 경제 능력이라는 조합으로, 이 집안은 북한식 ‘제도권 돈주’가 된다.&quot;)
]

(else-if: $money_5 &lt;= 40)[
	(set: $result_5 to &quot;;; 3. 봉쇄에 짓눌린 집안 — 고립의 시대를 견디지 못한 가문\n\n\
2016년 이후 제재로 장마당 물자 흐름이 약해지고, 2020년 국경까지 닫히자 이 집안은 생계 기반을 잃기 시작했다. \
중국산 식량·생필품이 끊기면서 장사는 붕괴되고, 원자재 부족으로 일자리도 사라져 갔다. \
정부의 배급은 돌아오지 않았고, 장마당도 예전만큼 움직이지 못하며 세대 전체가 서서히 가라앉는다. \
2023년 일부 봉쇄가 풀려도 회복할 자본이 남아 있지 않아, 이 집안은 다시 일어설 힘을 잃는다.&quot;)
]

(else:)[
	(set: $result_5 to &quot;;; 4. 감시 사회의 그림자 생존자 — 감시와 봉쇄 속에서 틈을 찾아 살아남은 집안\n\n\
이 집안은 큰 부를 이루지도 못했지만, 완전히 무너지지도 않았다. \
2018년 이후 감시·검열·이동 제한이 강화되자, 현금 대신 물자와 은밀한 거래로 생계를 이어갔다. \
2020년 국경 봉쇄로 시장이 흔들릴 때에도, 가족·지인 네트워크 덕분에 최소한의 생활을 유지한다. \
눈에 띄지 않는 것, 감시의 틈을 골라 움직이는 것—이것이 이 집안이 2010~2020년대를 버틴 방식이다.&quot;)
]

&#39;&#39;5세대 엔딩&#39;&#39;
(print: $result_5)

&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;
</tw-passagedata><tw-passagedata pid="142" name="UN 안보리" tags="" position="1025,2600" size="100,100">&lt;h1&gt;유엔 안보리 결의 1718호&lt;/h1&gt;

&lt;p&gt;&lt;strong&gt;1. 배경&lt;/strong&gt;&lt;br&gt;
2006년 7월 대포동 2호 미사일 발사에 이어 10월 9일 북한이 제1차 지하 핵실험을 전격 감행함. 이는 국제 핵 비확산 체제에 대한 정면 도전이자 동북아 안보 지형을 뒤흔드는 중대 도발로 간주됨. 유엔 헌장 제7장에 의거한 강력하고 실효적인 강제 조치의 필요성이 대두됨.&lt;br&gt;&lt;br&gt;

&lt;strong&gt;2. 전개 (2006. 10)&lt;/strong&gt;&lt;br&gt;
-&amp;nbsp; 2006년 10월 14일 유엔 안전보장이사회는 15개 이사국 만장일치로 대북 제재 결의 1718호를 공식 채택함. 북한의 핵실험을 강력히 규탄하고 즉각적인 핵 포기와 NPT 복귀를 요구함.&lt;br&gt;

-&amp;nbsp; 전차와 전투기 및 미사일 등 7대 재래식 무기와 대량살상무기 관련 물자의 대북 수출입을 전면 금지함. 특히 김정일 정권의 핵심 통치 자금줄을 겨냥하여 사치품 금수 조치를 처음으로 포함시킴.&lt;br&gt;
-&amp;nbsp; 핵과 미사일 개발에 연루된 개인의 자산을 동결하고 여행을 제한함. 회원국들에게 북한 입출항 화물에 대한 검색을 실시할 것을 촉구했으나 중국의 반대로 군사적 강제력을 동원하는 제재 조항은 제외됨.&lt;br&gt;&lt;br&gt;

&lt;strong&gt;3. 결과&lt;/strong&gt;&lt;br&gt;
- &lt;strong&gt;성과:&lt;/strong&gt; 북한에 대한 최초의 포괄적이고 강제적인 경제 제재 시스템을 구축함. 중국과 러시아를 포함한 국제 사회가 북한의 핵 보유를 용인하지 않겠다는 단일대오를 형성함.&lt;br&gt;
- &lt;strong&gt;한계:&lt;/strong&gt; 화물 검색이 의무가 아닌 권고 사항에 그치고 사치품의 구체적인 목록이 명시되지 않아 실효성에 허점이 발생함. 북한은 이를 선전포고로 간주한다며 강력 반발하고 핵 능력을 지속적으로 고도화함.&lt;br&gt;
- &lt;strong&gt;평가:&lt;/strong&gt; 북핵 문제가 대화와 협상의 단계에서 제재와 압박의 국면으로 전환되는 역사적 분기점임. 이후 북한의 도발과 유엔의 추가 제재가 반복되는 악순환의 고리가 시작됨.&lt;/p&gt;

&lt;p style=&quot;font-size: 1.0em; border-top: 1px solid #ccc; padding-top: 10px; color: #666;&quot;&gt;
&lt;strong&gt;출처 및 참고자료&lt;/strong&gt;
* 외교부, &quot;북한 제1차 핵실험 관련 유엔 안보리 결의 1718호 (2006.10.14)&quot;, &lt;a href=&quot;https://www.mofa.go.kr/www/brd/m_3976/view.do?seq=346082&quot; target=&quot;_blank&quot;&gt;MOFA&lt;/a&gt;
* United Nations, &quot;UN Security Council Resolution 1718 (2006)&quot;, &lt;a href=&quot;https://undocs.org/S/RES/1718(2006)&quot; target=&quot;_blank&quot;&gt;un.org&lt;/a&gt;
* 통일연구원, &quot;UN의 대북한 경제제재의 한계&quot;, &lt;a href=&quot;https://repo.kinu.or.kr/retrieve/11464&quot; target=&quot;_blank&quot;&gt;KINU repo&lt;/a&gt;
&lt;/p&gt;


&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="143" name="MAIN" tags="" position="600,200" size="100,100">&lt;h1&gt;북한 경제 타임라인&lt;/h1&gt;

&lt;h2&gt;소개 페이지&lt;/h2&gt;
&lt;p&gt;
안녕하세요, 교수님!
인공지능 학과 김솔빈입니다.

&lt;img src=&quot;https://i.imgur.com/Aa7zfFH.png&quot; style=&quot;width: 70%; height: auto;&quot;&gt;
여러 페이지에 정보를 나누어 작성해놓다보니 확인하실 때 어려움이 있으실 수 있을 것 같아
아래 간단한 설명을 적어놓았습니다.
시간 내어 확인해주셔서 감사합니다!


* 사이드바에 표시된 연도를 누르면 시기별 스토리로 이동할 수 있습니다,

* 각 시기별로 3-5번의 선택이 이루어집니다.

* 선택지별 요소 점수에 따라 각 시기가 끝난 후 해당 등장인물의 결말을 확인할 수 있습니다.

* 주황색으로 표시된 등장인물 이름을 누르면 현재까지의 점수를 확인할 수 있습니다.

* 인물이 바뀌면 점수는 초기화 됩니다.

* 파란색으로 표시된 사건명을 누르면 구체적인 설명 페이지로 넘어갑니다.

* 생성형 AI의 도움을 받아 내용을 재구성 하였습니다.
&lt;/p&gt;
&lt;hr class=&quot;page-separator&quot;&gt;

&lt;div&gt;
[[시작-&gt;1953년_1]]
&lt;/div&gt;



&lt;div id=&quot;sidebar&quot;&gt;
&lt;h2&gt;TimeLine&lt;/h2&gt;
&lt;p&gt;[[1950-60s-&gt;1953년_1]]&lt;/p&gt;
&lt;p&gt;[[1970-80s-&gt;1978년_1]]&lt;/p&gt;
&lt;p&gt;[[1990s-&gt;1995년_1]]&lt;/p&gt;
&lt;p&gt;[[2000s-&gt;2002년_1]]&lt;/p&gt;
&lt;p&gt;[[2010-20s-&gt;2016년_1]]&lt;/p&gt;
&lt;/div&gt;

&lt;div id=&quot;sidebar-toggle&quot;
onclick=&quot;document.body.classList.toggle(&#39;sidebar-collapsed&#39;)&quot;&gt;
&lt;/div&gt;


</tw-passagedata></tw-storydata>
<script title="Twine engine code" data-main="harlowe">(function(){"use strict";
var require,define;!function(){var e={},r={};require=function(i){var n=e[i];return n&&(r[i]=n[1].apply(void 0,n[0].map(require)),e[i]=void 0),r[i]},(define=function(r,i,n){if("function"==typeof r)return r();e[r]=[i,n]}).amd=!0}();/*!
 * https://github.com/paulmillr/es6-shim
 * @license es6-shim Copyright 2013-2016 by Paul Miller (http://paulmillr.com)
 *   and contributors,  MIT License
 * es6-shim: v0.35.4
 * see https://github.com/paulmillr/es6-shim/blob/0.35.3/LICENSE
 * Details and documentation:
 * https://github.com/paulmillr/es6-shim/
 */
(function(e,t){if(typeof define==="function"&&define.amd){define(t)}else if(typeof exports==="object"){module.exports=t()}else{e.returnExports=t()}})(this,function(){"use strict";var e=Function.call.bind(Function.apply);var t=Function.call.bind(Function.call);var r=Array.isArray;var n=Object.keys;var o=function notThunker(t){return function notThunk(){return!e(t,this,arguments)}};var i=function(e){try{e();return false}catch(t){return true}};var a=function valueOrFalseIfThrows(e){try{return e()}catch(t){return false}};var u=o(i);var f=function(){return!i(function(){return Object.defineProperty({},"x",{get:function(){}})})};var s=!!Object.defineProperty&&f();var c=function foo(){}.name==="foo";var l=Function.call.bind(Array.prototype.forEach);var p=Function.call.bind(Array.prototype.reduce);var v=Function.call.bind(Array.prototype.filter);var y=Function.call.bind(Array.prototype.some);var h=function(e,t,r,n){if(!n&&t in e){return}if(s){Object.defineProperty(e,t,{configurable:true,enumerable:false,writable:true,value:r})}else{e[t]=r}};var b=function(e,t,r){l(n(t),function(n){var o=t[n];h(e,n,o,!!r)})};var g=Function.call.bind(Object.prototype.toString);var d=typeof/abc/==="function"?function IsCallableSlow(e){return typeof e==="function"&&g(e)==="[object Function]"}:function IsCallableFast(e){return typeof e==="function"};var m={getter:function(e,t,r){if(!s){throw new TypeError("getters require true ES5 support")}Object.defineProperty(e,t,{configurable:true,enumerable:false,get:r})},proxy:function(e,t,r){if(!s){throw new TypeError("getters require true ES5 support")}var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,{configurable:n.configurable,enumerable:n.enumerable,get:function getKey(){return e[t]},set:function setKey(r){e[t]=r}})},redefine:function(e,t,r){if(s){var n=Object.getOwnPropertyDescriptor(e,t);n.value=r;Object.defineProperty(e,t,n)}else{e[t]=r}},defineByDescriptor:function(e,t,r){if(s){Object.defineProperty(e,t,r)}else if("value"in r){e[t]=r.value}},preserveToString:function(e,t){if(t&&d(t.toString)){h(e,"toString",t.toString.bind(t),true)}}};var O=Object.create||function(e,t){var r=function Prototype(){};r.prototype=e;var o=new r;if(typeof t!=="undefined"){n(t).forEach(function(e){m.defineByDescriptor(o,e,t[e])})}return o};var w=function(e,t){if(!Object.setPrototypeOf){return false}return a(function(){var r=function Subclass(t){var r=new e(t);Object.setPrototypeOf(r,Subclass.prototype);return r};Object.setPrototypeOf(r,e);r.prototype=O(e.prototype,{constructor:{value:r}});return t(r)})};var j=function(){if(typeof self!=="undefined"){return self}if(typeof window!=="undefined"){return window}if(typeof global!=="undefined"){return global}throw new Error("unable to locate global object")};var S=j();var T=S.isFinite;var I=Function.call.bind(String.prototype.indexOf);var E=Function.apply.bind(Array.prototype.indexOf);var P=Function.call.bind(Array.prototype.concat);var C=Function.call.bind(String.prototype.slice);var M=Function.call.bind(Array.prototype.push);var x=Function.apply.bind(Array.prototype.push);var N=Function.call.bind(Array.prototype.join);var A=Function.call.bind(Array.prototype.shift);var _=Math.max;var R=Math.min;var k=Math.floor;var L=Math.abs;var F=Math.exp;var D=Math.log;var z=Math.sqrt;var q=Function.call.bind(Object.prototype.hasOwnProperty);var W;var G=function(){};var H=S.Map;var V=H&&H.prototype["delete"];var B=H&&H.prototype.get;var U=H&&H.prototype.has;var $=H&&H.prototype.set;var J=S.Symbol||{};var X=J.species||"@@species";var K=Number.isNaN||function isNaN(e){return e!==e};var Z=Number.isFinite||function isFinite(e){return typeof e==="number"&&T(e)};var Y=d(Math.sign)?Math.sign:function sign(e){var t=Number(e);if(t===0){return t}if(K(t)){return t}return t<0?-1:1};var Q=function log1p(e){var t=Number(e);if(t<-1||K(t)){return NaN}if(t===0||t===Infinity){return t}if(t===-1){return-Infinity}return 1+t-1===0?t:t*(D(1+t)/(1+t-1))};var ee=function isArguments(e){return g(e)==="[object Arguments]"};var te=function isArguments(e){return e!==null&&typeof e==="object"&&typeof e.length==="number"&&e.length>=0&&g(e)!=="[object Array]"&&g(e.callee)==="[object Function]"};var re=ee(arguments)?ee:te;var ne={primitive:function(e){return e===null||typeof e!=="function"&&typeof e!=="object"},string:function(e){return g(e)==="[object String]"},regex:function(e){return g(e)==="[object RegExp]"},symbol:function(e){return typeof S.Symbol==="function"&&typeof e==="symbol"}};var oe=function overrideNative(e,t,r){var n=e[t];h(e,t,r,true);m.preserveToString(e[t],n)};var ie=typeof J==="function"&&typeof J["for"]==="function"&&ne.symbol(J());var ae=ne.symbol(J.iterator)?J.iterator:"_es6-shim iterator_";if(S.Set&&typeof(new S.Set)["@@iterator"]==="function"){ae="@@iterator"}if(!S.Reflect){h(S,"Reflect",{},true)}var ue=S.Reflect;var fe=String;var se=typeof document==="undefined"||!document?null:document.all;var ce=se==null?function isNullOrUndefined(e){return e==null}:function isNullOrUndefinedAndNotDocumentAll(e){return e==null&&e!==se};var le={Call:function Call(t,r){var n=arguments.length>2?arguments[2]:[];if(!le.IsCallable(t)){throw new TypeError(t+" is not a function")}return e(t,r,n)},RequireObjectCoercible:function(e,t){if(ce(e)){throw new TypeError(t||"Cannot call method on "+e)}return e},TypeIsObject:function(e){if(e===void 0||e===null||e===true||e===false){return false}return typeof e==="function"||typeof e==="object"||e===se},ToObject:function(e,t){return Object(le.RequireObjectCoercible(e,t))},IsCallable:d,IsConstructor:function(e){return le.IsCallable(e)},ToInt32:function(e){return le.ToNumber(e)>>0},ToUint32:function(e){return le.ToNumber(e)>>>0},ToNumber:function(e){if(ie&&g(e)==="[object Symbol]"){throw new TypeError("Cannot convert a Symbol value to a number")}return+e},ToInteger:function(e){var t=le.ToNumber(e);if(K(t)){return 0}if(t===0||!Z(t)){return t}return(t>0?1:-1)*k(L(t))},ToLength:function(e){var t=le.ToInteger(e);if(t<=0){return 0}if(t>Number.MAX_SAFE_INTEGER){return Number.MAX_SAFE_INTEGER}return t},SameValue:function(e,t){if(e===t){if(e===0){return 1/e===1/t}return true}return K(e)&&K(t)},SameValueZero:function(e,t){return e===t||K(e)&&K(t)},GetIterator:function(e){if(re(e)){return new W(e,"value")}var t=le.GetMethod(e,ae);if(!le.IsCallable(t)){throw new TypeError("value is not an iterable")}var r=le.Call(t,e);if(!le.TypeIsObject(r)){throw new TypeError("bad iterator")}return r},GetMethod:function(e,t){var r=le.ToObject(e)[t];if(ce(r)){return void 0}if(!le.IsCallable(r)){throw new TypeError("Method not callable: "+t)}return r},IteratorComplete:function(e){return!!e.done},IteratorClose:function(e,t){var r=le.GetMethod(e,"return");if(r===void 0){return}var n,o;try{n=le.Call(r,e)}catch(i){o=i}if(t){return}if(o){throw o}if(!le.TypeIsObject(n)){throw new TypeError("Iterator's return method returned a non-object.")}},IteratorNext:function(e){var t=arguments.length>1?e.next(arguments[1]):e.next();if(!le.TypeIsObject(t)){throw new TypeError("bad iterator")}return t},IteratorStep:function(e){var t=le.IteratorNext(e);var r=le.IteratorComplete(t);return r?false:t},Construct:function(e,t,r,n){var o=typeof r==="undefined"?e:r;if(!n&&ue.construct){return ue.construct(e,t,o)}var i=o.prototype;if(!le.TypeIsObject(i)){i=Object.prototype}var a=O(i);var u=le.Call(e,a,t);return le.TypeIsObject(u)?u:a},SpeciesConstructor:function(e,t){var r=e.constructor;if(r===void 0){return t}if(!le.TypeIsObject(r)){throw new TypeError("Bad constructor")}var n=r[X];if(ce(n)){return t}if(!le.IsConstructor(n)){throw new TypeError("Bad @@species")}return n},CreateHTML:function(e,t,r,n){var o=le.ToString(e);var i="<"+t;if(r!==""){var a=le.ToString(n);var u=a.replace(/"/g,"&quot;");i+=" "+r+'="'+u+'"'}var f=i+">";var s=f+o;return s+"</"+t+">"},IsRegExp:function IsRegExp(e){if(!le.TypeIsObject(e)){return false}var t=e[J.match];if(typeof t!=="undefined"){return!!t}return ne.regex(e)},ToString:function ToString(e){if(ie&&g(e)==="[object Symbol]"){throw new TypeError("Cannot convert a Symbol value to a number")}return fe(e)}};if(s&&ie){var pe=function defineWellKnownSymbol(e){if(ne.symbol(J[e])){return J[e]}var t=J["for"]("Symbol."+e);Object.defineProperty(J,e,{configurable:false,enumerable:false,writable:false,value:t});return t};if(!ne.symbol(J.search)){var ve=pe("search");var ye=String.prototype.search;h(RegExp.prototype,ve,function search(e){return le.Call(ye,e,[this])});var he=function search(e){var t=le.RequireObjectCoercible(this);if(!ce(e)){var r=le.GetMethod(e,ve);if(typeof r!=="undefined"){return le.Call(r,e,[t])}}return le.Call(ye,t,[le.ToString(e)])};oe(String.prototype,"search",he)}if(!ne.symbol(J.replace)){var be=pe("replace");var ge=String.prototype.replace;h(RegExp.prototype,be,function replace(e,t){return le.Call(ge,e,[this,t])});var de=function replace(e,t){var r=le.RequireObjectCoercible(this);if(!ce(e)){var n=le.GetMethod(e,be);if(typeof n!=="undefined"){return le.Call(n,e,[r,t])}}return le.Call(ge,r,[le.ToString(e),t])};oe(String.prototype,"replace",de)}if(!ne.symbol(J.split)){var me=pe("split");var Oe=String.prototype.split;h(RegExp.prototype,me,function split(e,t){return le.Call(Oe,e,[this,t])});var we=function split(e,t){var r=le.RequireObjectCoercible(this);if(!ce(e)){var n=le.GetMethod(e,me);if(typeof n!=="undefined"){return le.Call(n,e,[r,t])}}return le.Call(Oe,r,[le.ToString(e),t])};oe(String.prototype,"split",we)}var je=ne.symbol(J.match);var Se=je&&function(){var e={};e[J.match]=function(){return 42};return"a".match(e)!==42}();if(!je||Se){var Te=pe("match");var Ie=String.prototype.match;h(RegExp.prototype,Te,function match(e){return le.Call(Ie,e,[this])});var Ee=function match(e){var t=le.RequireObjectCoercible(this);if(!ce(e)){var r=le.GetMethod(e,Te);if(typeof r!=="undefined"){return le.Call(r,e,[t])}}return le.Call(Ie,t,[le.ToString(e)])};oe(String.prototype,"match",Ee)}}var Pe=function wrapConstructor(e,t,r){m.preserveToString(t,e);if(Object.setPrototypeOf){Object.setPrototypeOf(e,t)}if(s){l(Object.getOwnPropertyNames(e),function(n){if(n in G||r[n]){return}m.proxy(e,n,t)})}else{l(Object.keys(e),function(n){if(n in G||r[n]){return}t[n]=e[n]})}t.prototype=e.prototype;m.redefine(e.prototype,"constructor",t)};var Ce=function(){return this};var Me=function(e){if(s&&!q(e,X)){m.getter(e,X,Ce)}};var xe=function(e,t){var r=t||function iterator(){return this};h(e,ae,r);if(!e[ae]&&ne.symbol(ae)){e[ae]=r}};var Ne=function createDataProperty(e,t,r){if(s){Object.defineProperty(e,t,{configurable:true,enumerable:true,writable:true,value:r})}else{e[t]=r}};var Ae=function createDataPropertyOrThrow(e,t,r){Ne(e,t,r);if(!le.SameValue(e[t],r)){throw new TypeError("property is nonconfigurable")}};var _e=function(e,t,r,n){if(!le.TypeIsObject(e)){throw new TypeError("Constructor requires `new`: "+t.name)}var o=t.prototype;if(!le.TypeIsObject(o)){o=r}var i=O(o);for(var a in n){if(q(n,a)){var u=n[a];h(i,a,u,true)}}return i};if(String.fromCodePoint&&String.fromCodePoint.length!==1){var Re=String.fromCodePoint;oe(String,"fromCodePoint",function fromCodePoint(e){return le.Call(Re,this,arguments)})}var ke={fromCodePoint:function fromCodePoint(e){var t=[];var r;for(var n=0,o=arguments.length;n<o;n++){r=Number(arguments[n]);if(!le.SameValue(r,le.ToInteger(r))||r<0||r>1114111){throw new RangeError("Invalid code point "+r)}if(r<65536){M(t,String.fromCharCode(r))}else{r-=65536;M(t,String.fromCharCode((r>>10)+55296));M(t,String.fromCharCode(r%1024+56320))}}return N(t,"")},raw:function raw(e){var t=arguments.length-1;var r=le.ToObject(e,"bad template");var raw=le.ToObject(r.raw,"bad raw value");var n=raw.length;var o=le.ToLength(n);if(o<=0){return""}var i=[];var a=0;var u,f,s,c;while(a<o){u=le.ToString(a);s=le.ToString(raw[u]);M(i,s);if(a+1>=o){break}f=a+1<arguments.length?arguments[a+1]:"";c=le.ToString(f);M(i,c);a+=1}return N(i,"")}};if(String.raw&&String.raw({raw:{0:"x",1:"y",length:2}})!=="xy"){oe(String,"raw",ke.raw)}b(String,ke);var Le=function repeat(e,t){if(t<1){return""}if(t%2){return repeat(e,t-1)+e}var r=repeat(e,t/2);return r+r};var Fe=Infinity;var De={repeat:function repeat(e){var t=le.ToString(le.RequireObjectCoercible(this));var r=le.ToInteger(e);if(r<0||r>=Fe){throw new RangeError("repeat count must be less than infinity and not overflow maximum string size")}return Le(t,r)},startsWith:function startsWith(e){var t=le.ToString(le.RequireObjectCoercible(this));if(le.IsRegExp(e)){throw new TypeError('Cannot call method "startsWith" with a regex')}var r=le.ToString(e);var n;if(arguments.length>1){n=arguments[1]}var o=_(le.ToInteger(n),0);return C(t,o,o+r.length)===r},endsWith:function endsWith(e){var t=le.ToString(le.RequireObjectCoercible(this));if(le.IsRegExp(e)){throw new TypeError('Cannot call method "endsWith" with a regex')}var r=le.ToString(e);var n=t.length;var o;if(arguments.length>1){o=arguments[1]}var i=typeof o==="undefined"?n:le.ToInteger(o);var a=R(_(i,0),n);return C(t,a-r.length,a)===r},includes:function includes(e){if(le.IsRegExp(e)){throw new TypeError('"includes" does not accept a RegExp')}var t=le.ToString(e);var r;if(arguments.length>1){r=arguments[1]}return I(this,t,r)!==-1},codePointAt:function codePointAt(e){var t=le.ToString(le.RequireObjectCoercible(this));var r=le.ToInteger(e);var n=t.length;if(r>=0&&r<n){var o=t.charCodeAt(r);var i=r+1===n;if(o<55296||o>56319||i){return o}var a=t.charCodeAt(r+1);if(a<56320||a>57343){return o}return(o-55296)*1024+(a-56320)+65536}}};if(String.prototype.includes&&"a".includes("a",Infinity)!==false){oe(String.prototype,"includes",De.includes)}if(String.prototype.startsWith&&String.prototype.endsWith){var ze=i(function(){return"/a/".startsWith(/a/)});var qe=a(function(){return"abc".startsWith("a",Infinity)===false});if(!ze||!qe){oe(String.prototype,"startsWith",De.startsWith);oe(String.prototype,"endsWith",De.endsWith)}}if(ie){var We=a(function(){var e=/a/;e[J.match]=false;return"/a/".startsWith(e)});if(!We){oe(String.prototype,"startsWith",De.startsWith)}var Ge=a(function(){var e=/a/;e[J.match]=false;return"/a/".endsWith(e)});if(!Ge){oe(String.prototype,"endsWith",De.endsWith)}var He=a(function(){var e=/a/;e[J.match]=false;return"/a/".includes(e)});if(!He){oe(String.prototype,"includes",De.includes)}}b(String.prototype,De);var Ve=["\t\n\x0B\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003","\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028","\u2029\ufeff"].join("");var Be=new RegExp("(^["+Ve+"]+)|(["+Ve+"]+$)","g");var Ue=function trim(){return le.ToString(le.RequireObjectCoercible(this)).replace(Be,"")};var $e=["\x85","\u200b","\ufffe"].join("");var Je=new RegExp("["+$e+"]","g");var Xe=/^[-+]0x[0-9a-f]+$/i;var Ke=$e.trim().length!==$e.length;h(String.prototype,"trim",Ue,Ke);var Ze=function(e){return{value:e,done:arguments.length===0}};var Ye=function(e){le.RequireObjectCoercible(e);h(this,"_s",le.ToString(e));h(this,"_i",0)};Ye.prototype.next=function(){var e=this._s;var t=this._i;if(typeof e==="undefined"||t>=e.length){this._s=void 0;return Ze()}var r=e.charCodeAt(t);var n,o;if(r<55296||r>56319||t+1===e.length){o=1}else{n=e.charCodeAt(t+1);o=n<56320||n>57343?1:2}this._i=t+o;return Ze(e.substr(t,o))};xe(Ye.prototype);xe(String.prototype,function(){return new Ye(this)});var Qe={from:function from(e){var r=this;var n;if(arguments.length>1){n=arguments[1]}var o,i;if(typeof n==="undefined"){o=false}else{if(!le.IsCallable(n)){throw new TypeError("Array.from: when provided, the second argument must be a function")}if(arguments.length>2){i=arguments[2]}o=true}var a=typeof(re(e)||le.GetMethod(e,ae))!=="undefined";var u,f,s;if(a){f=le.IsConstructor(r)?Object(new r):[];var c=le.GetIterator(e);var l,p;s=0;while(true){l=le.IteratorStep(c);if(l===false){break}p=l.value;try{if(o){p=typeof i==="undefined"?n(p,s):t(n,i,p,s)}f[s]=p}catch(v){le.IteratorClose(c,true);throw v}s+=1}u=s}else{var y=le.ToObject(e);u=le.ToLength(y.length);f=le.IsConstructor(r)?Object(new r(u)):new Array(u);var h;for(s=0;s<u;++s){h=y[s];if(o){h=typeof i==="undefined"?n(h,s):t(n,i,h,s)}Ae(f,s,h)}}f.length=u;return f},of:function of(){var e=arguments.length;var t=this;var n=r(t)||!le.IsCallable(t)?new Array(e):le.Construct(t,[e]);for(var o=0;o<e;++o){Ae(n,o,arguments[o])}n.length=e;return n}};b(Array,Qe);Me(Array);W=function(e,t){h(this,"i",0);h(this,"array",e);h(this,"kind",t)};b(W.prototype,{next:function(){var e=this.i;var t=this.array;if(!(this instanceof W)){throw new TypeError("Not an ArrayIterator")}if(typeof t!=="undefined"){var r=le.ToLength(t.length);if(e<r){var n=this.kind;var o;if(n==="key"){o=e}else if(n==="value"){o=t[e]}else if(n==="entry"){o=[e,t[e]]}this.i=e+1;return Ze(o)}}this.array=void 0;return Ze()}});xe(W.prototype);var et=Array.of===Qe.of||function(){var e=function Foo(e){this.length=e};e.prototype=[];var t=Array.of.apply(e,[1,2]);return t instanceof e&&t.length===2}();if(!et){oe(Array,"of",Qe.of)}var tt={copyWithin:function copyWithin(e,t){var r=le.ToObject(this);var n=le.ToLength(r.length);var o=le.ToInteger(e);var i=le.ToInteger(t);var a=o<0?_(n+o,0):R(o,n);var u=i<0?_(n+i,0):R(i,n);var f;if(arguments.length>2){f=arguments[2]}var s=typeof f==="undefined"?n:le.ToInteger(f);var c=s<0?_(n+s,0):R(s,n);var l=R(c-u,n-a);var p=1;if(u<a&&a<u+l){p=-1;u+=l-1;a+=l-1}while(l>0){if(u in r){r[a]=r[u]}else{delete r[a]}u+=p;a+=p;l-=1}return r},fill:function fill(e){var t;if(arguments.length>1){t=arguments[1]}var r;if(arguments.length>2){r=arguments[2]}var n=le.ToObject(this);var o=le.ToLength(n.length);t=le.ToInteger(typeof t==="undefined"?0:t);r=le.ToInteger(typeof r==="undefined"?o:r);var i=t<0?_(o+t,0):R(t,o);var a=r<0?o+r:r;for(var u=i;u<o&&u<a;++u){n[u]=e}return n},find:function find(e){var r=le.ToObject(this);var n=le.ToLength(r.length);if(!le.IsCallable(e)){throw new TypeError("Array#find: predicate must be a function")}var o=arguments.length>1?arguments[1]:null;for(var i=0,a;i<n;i++){a=r[i];if(o){if(t(e,o,a,i,r)){return a}}else if(e(a,i,r)){return a}}},findIndex:function findIndex(e){var r=le.ToObject(this);var n=le.ToLength(r.length);if(!le.IsCallable(e)){throw new TypeError("Array#findIndex: predicate must be a function")}var o=arguments.length>1?arguments[1]:null;for(var i=0;i<n;i++){if(o){if(t(e,o,r[i],i,r)){return i}}else if(e(r[i],i,r)){return i}}return-1},keys:function keys(){return new W(this,"key")},values:function values(){return new W(this,"value")},entries:function entries(){return new W(this,"entry")}};if(Array.prototype.keys&&!le.IsCallable([1].keys().next)){delete Array.prototype.keys}if(Array.prototype.entries&&!le.IsCallable([1].entries().next)){delete Array.prototype.entries}if(Array.prototype.keys&&Array.prototype.entries&&!Array.prototype.values&&Array.prototype[ae]){b(Array.prototype,{values:Array.prototype[ae]});if(ne.symbol(J.unscopables)){Array.prototype[J.unscopables].values=true}}if(c&&Array.prototype.values&&Array.prototype.values.name!=="values"){var rt=Array.prototype.values;oe(Array.prototype,"values",function values(){return le.Call(rt,this,arguments)});h(Array.prototype,ae,Array.prototype.values,true)}b(Array.prototype,tt);if(1/[true].indexOf(true,-0)<0){h(Array.prototype,"indexOf",function indexOf(e){var t=E(this,arguments);if(t===0&&1/t<0){return 0}return t},true)}xe(Array.prototype,function(){return this.values()});if(Object.getPrototypeOf){var nt=Object.getPrototypeOf([].values());if(nt){xe(nt)}}var ot=function(){return a(function(){return Array.from({length:-1}).length===0})}();var it=function(){var e=Array.from([0].entries());return e.length===1&&r(e[0])&&e[0][0]===0&&e[0][1]===0}();if(!ot||!it){oe(Array,"from",Qe.from)}var at=function(){return a(function(){return Array.from([0],void 0)})}();if(!at){var ut=Array.from;oe(Array,"from",function from(e){if(arguments.length>1&&typeof arguments[1]!=="undefined"){return le.Call(ut,this,arguments)}return t(ut,this,e)})}var ft=-(Math.pow(2,32)-1);var st=function(e,r){var n={length:ft};n[r?(n.length>>>0)-1:0]=true;return a(function(){t(e,n,function(){throw new RangeError("should not reach here")},[]);return true})};if(!st(Array.prototype.forEach)){var ct=Array.prototype.forEach;oe(Array.prototype,"forEach",function forEach(e){return le.Call(ct,this.length>=0?this:[],arguments)})}if(!st(Array.prototype.map)){var lt=Array.prototype.map;oe(Array.prototype,"map",function map(e){return le.Call(lt,this.length>=0?this:[],arguments)})}if(!st(Array.prototype.filter)){var pt=Array.prototype.filter;oe(Array.prototype,"filter",function filter(e){return le.Call(pt,this.length>=0?this:[],arguments)})}if(!st(Array.prototype.some)){var vt=Array.prototype.some;oe(Array.prototype,"some",function some(e){return le.Call(vt,this.length>=0?this:[],arguments)})}if(!st(Array.prototype.every)){var yt=Array.prototype.every;oe(Array.prototype,"every",function every(e){return le.Call(yt,this.length>=0?this:[],arguments)})}if(!st(Array.prototype.reduce)){var ht=Array.prototype.reduce;oe(Array.prototype,"reduce",function reduce(e){return le.Call(ht,this.length>=0?this:[],arguments)})}if(!st(Array.prototype.reduceRight,true)){var bt=Array.prototype.reduceRight;oe(Array.prototype,"reduceRight",function reduceRight(e){return le.Call(bt,this.length>=0?this:[],arguments)})}var gt=Number("0o10")!==8;var dt=Number("0b10")!==2;var mt=y($e,function(e){return Number(e+0+e)===0});if(gt||dt||mt){var Ot=Number;var wt=/^0b[01]+$/i;var jt=/^0o[0-7]+$/i;var St=wt.test.bind(wt);var Tt=jt.test.bind(jt);var It=function(e,t){var r;if(typeof e.valueOf==="function"){r=e.valueOf();if(ne.primitive(r)){return r}}if(typeof e.toString==="function"){r=e.toString();if(ne.primitive(r)){return r}}throw new TypeError("No default value")};var Et=Je.test.bind(Je);var Pt=Xe.test.bind(Xe);var Ct=function(){var e=function Number(t){var r;if(arguments.length>0){r=ne.primitive(t)?t:It(t,"number")}else{r=0}if(typeof r==="string"){r=le.Call(Ue,r);if(St(r)){r=parseInt(C(r,2),2)}else if(Tt(r)){r=parseInt(C(r,2),8)}else if(Et(r)||Pt(r)){r=NaN}}var n=this;var o=a(function(){Ot.prototype.valueOf.call(n);return true});if(n instanceof e&&!o){return new Ot(r)}return Ot(r)};return e}();Pe(Ot,Ct,{});b(Ct,{NaN:Ot.NaN,MAX_VALUE:Ot.MAX_VALUE,MIN_VALUE:Ot.MIN_VALUE,NEGATIVE_INFINITY:Ot.NEGATIVE_INFINITY,POSITIVE_INFINITY:Ot.POSITIVE_INFINITY});Number=Ct;m.redefine(S,"Number",Ct)}var Mt=Math.pow(2,53)-1;b(Number,{MAX_SAFE_INTEGER:Mt,MIN_SAFE_INTEGER:-Mt,EPSILON:2.220446049250313e-16,parseInt:S.parseInt,parseFloat:S.parseFloat,isFinite:Z,isInteger:function isInteger(e){return Z(e)&&le.ToInteger(e)===e},isSafeInteger:function isSafeInteger(e){return Number.isInteger(e)&&L(e)<=Number.MAX_SAFE_INTEGER},isNaN:K});h(Number,"parseInt",S.parseInt,Number.parseInt!==S.parseInt);if([,1].find(function(){return true})===1){oe(Array.prototype,"find",tt.find)}if([,1].findIndex(function(){return true})!==0){oe(Array.prototype,"findIndex",tt.findIndex)}var xt=Function.bind.call(Function.bind,Object.prototype.propertyIsEnumerable);var Nt=function ensureEnumerable(e,t){if(s&&xt(e,t)){Object.defineProperty(e,t,{enumerable:false})}};var At=function sliceArgs(){var e=Number(this);var t=arguments.length;var r=t-e;var n=new Array(r<0?0:r);for(var o=e;o<t;++o){n[o-e]=arguments[o]}return n};var _t=function assignTo(e){return function assignToSource(t,r){t[r]=e[r];return t}};var Rt=function(e,t){var r=n(Object(t));var o;if(le.IsCallable(Object.getOwnPropertySymbols)){o=v(Object.getOwnPropertySymbols(Object(t)),xt(t))}return p(P(r,o||[]),_t(t),e)};var kt={assign:function(e,t){var r=le.ToObject(e,"Cannot convert undefined or null to object");return p(le.Call(At,1,arguments),Rt,r)},is:function is(e,t){return le.SameValue(e,t)}};var Lt=Object.assign&&Object.preventExtensions&&function(){var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch(t){return e[1]==="y"}}();if(Lt){oe(Object,"assign",kt.assign)}b(Object,kt);if(s){var Ft={setPrototypeOf:function(e){var r;var n=function(e,t){if(!le.TypeIsObject(e)){throw new TypeError("cannot set prototype on a non-object")}if(!(t===null||le.TypeIsObject(t))){throw new TypeError("can only set prototype to an object or null"+t)}};var o=function(e,o){n(e,o);t(r,e,o);return e};try{r=e.getOwnPropertyDescriptor(e.prototype,"__proto__").set;t(r,{},null)}catch(i){if(e.prototype!=={}.__proto__){return}r=function(e){this.__proto__=e};o.polyfill=o(o({},null),e.prototype)instanceof e}return o}(Object)};b(Object,Ft)}if(Object.setPrototypeOf&&Object.getPrototypeOf&&Object.getPrototypeOf(Object.setPrototypeOf({},null))!==null&&Object.getPrototypeOf(Object.create(null))===null){(function(){var e=Object.create(null);var t=Object.getPrototypeOf;var r=Object.setPrototypeOf;Object.getPrototypeOf=function(r){var n=t(r);return n===e?null:n};Object.setPrototypeOf=function(t,n){var o=n===null?e:n;return r(t,o)};Object.setPrototypeOf.polyfill=false})()}var Dt=!i(function(){return Object.keys("foo")});if(!Dt){var zt=Object.keys;oe(Object,"keys",function keys(e){return zt(le.ToObject(e))});n=Object.keys}var qt=i(function(){return Object.keys(/a/g)});if(qt){var Wt=Object.keys;oe(Object,"keys",function keys(e){if(ne.regex(e)){var t=[];for(var r in e){if(q(e,r)){M(t,r)}}return t}return Wt(e)});n=Object.keys}if(Object.getOwnPropertyNames){var Gt=!i(function(){return Object.getOwnPropertyNames("foo")});if(!Gt){var Ht=typeof window==="object"?Object.getOwnPropertyNames(window):[];var Vt=Object.getOwnPropertyNames;oe(Object,"getOwnPropertyNames",function getOwnPropertyNames(e){var t=le.ToObject(e);if(g(t)==="[object Window]"){try{return Vt(t)}catch(r){return P([],Ht)}}return Vt(t)})}}if(Object.getOwnPropertyDescriptor){var Bt=!i(function(){return Object.getOwnPropertyDescriptor("foo","bar")});if(!Bt){var Ut=Object.getOwnPropertyDescriptor;oe(Object,"getOwnPropertyDescriptor",function getOwnPropertyDescriptor(e,t){return Ut(le.ToObject(e),t)})}}if(Object.seal){var $t=!i(function(){return Object.seal("foo")});if(!$t){var Jt=Object.seal;oe(Object,"seal",function seal(e){if(!le.TypeIsObject(e)){return e}return Jt(e)})}}if(Object.isSealed){var Xt=!i(function(){return Object.isSealed("foo")});if(!Xt){var Kt=Object.isSealed;oe(Object,"isSealed",function isSealed(e){if(!le.TypeIsObject(e)){return true}return Kt(e)})}}if(Object.freeze){var Zt=!i(function(){return Object.freeze("foo")});if(!Zt){var Yt=Object.freeze;oe(Object,"freeze",function freeze(e){if(!le.TypeIsObject(e)){return e}return Yt(e)})}}if(Object.isFrozen){var Qt=!i(function(){return Object.isFrozen("foo")});if(!Qt){var er=Object.isFrozen;oe(Object,"isFrozen",function isFrozen(e){if(!le.TypeIsObject(e)){return true}return er(e)})}}if(Object.preventExtensions){var tr=!i(function(){return Object.preventExtensions("foo")});if(!tr){var rr=Object.preventExtensions;oe(Object,"preventExtensions",function preventExtensions(e){if(!le.TypeIsObject(e)){return e}return rr(e)})}}if(Object.isExtensible){var nr=!i(function(){return Object.isExtensible("foo")});if(!nr){var or=Object.isExtensible;oe(Object,"isExtensible",function isExtensible(e){if(!le.TypeIsObject(e)){return false}return or(e)})}}if(Object.getPrototypeOf){var ir=!i(function(){return Object.getPrototypeOf("foo")});if(!ir){var ar=Object.getPrototypeOf;oe(Object,"getPrototypeOf",function getPrototypeOf(e){return ar(le.ToObject(e))})}}var ur=s&&function(){var e=Object.getOwnPropertyDescriptor(RegExp.prototype,"flags");return e&&le.IsCallable(e.get)}();if(s&&!ur){var fr=function flags(){if(!le.TypeIsObject(this)){throw new TypeError("Method called on incompatible type: must be an object.")}var e="";if(this.global){e+="g"}if(this.ignoreCase){e+="i"}if(this.multiline){e+="m"}if(this.unicode){e+="u"}if(this.sticky){e+="y"}return e};m.getter(RegExp.prototype,"flags",fr)}var sr=s&&a(function(){return String(new RegExp(/a/g,"i"))==="/a/i"});var cr=ie&&s&&function(){var e=/./;e[J.match]=false;return RegExp(e)===e}();var lr=a(function(){return RegExp.prototype.toString.call({source:"abc"})==="/abc/"});var pr=lr&&a(function(){return RegExp.prototype.toString.call({source:"a",flags:"b"})==="/a/b"});if(!lr||!pr){var vr=RegExp.prototype.toString;h(RegExp.prototype,"toString",function toString(){var e=le.RequireObjectCoercible(this);if(ne.regex(e)){return t(vr,e)}var r=fe(e.source);var n=fe(e.flags);return"/"+r+"/"+n},true);m.preserveToString(RegExp.prototype.toString,vr);RegExp.prototype.toString.prototype=void 0}if(s&&(!sr||cr)){var yr=Object.getOwnPropertyDescriptor(RegExp.prototype,"flags").get;var hr=Object.getOwnPropertyDescriptor(RegExp.prototype,"source")||{};var br=function(){return this.source};var gr=le.IsCallable(hr.get)?hr.get:br;var dr=RegExp;var mr=function(){return function RegExp(e,t){var r=le.IsRegExp(e);var n=this instanceof RegExp;if(!n&&r&&typeof t==="undefined"&&e.constructor===RegExp){return e}var o=e;var i=t;if(ne.regex(e)){o=le.Call(gr,e);i=typeof t==="undefined"?le.Call(yr,e):t;return new RegExp(o,i)}else if(r){o=e.source;i=typeof t==="undefined"?e.flags:t}return new dr(e,t)}}();Pe(dr,mr,{$input:true});RegExp=mr;m.redefine(S,"RegExp",mr)}if(s){var Or={input:"$_",lastMatch:"$&",lastParen:"$+",leftContext:"$`",rightContext:"$'"};l(n(Or),function(e){if(e in RegExp&&!(Or[e]in RegExp)){m.getter(RegExp,Or[e],function get(){return RegExp[e]})}})}Me(RegExp);var wr=1/Number.EPSILON;var jr=function roundTiesToEven(e){return e+wr-wr};var Sr=Math.pow(2,-23);var Tr=Math.pow(2,127)*(2-Sr);var Ir=Math.pow(2,-126);var Er=Math.E;var Pr=Math.LOG2E;var Cr=Math.LOG10E;var Mr=Number.prototype.clz;delete Number.prototype.clz;var xr={acosh:function acosh(e){var t=Number(e);if(K(t)||e<1){return NaN}if(t===1){return 0}if(t===Infinity){return t}var r=1/(t*t);if(t<2){return Q(t-1+z(1-r)*t)}var n=t/2;return Q(n+z(1-r)*n-1)+1/Pr},asinh:function asinh(e){var t=Number(e);if(t===0||!T(t)){return t}var r=L(t);var n=r*r;var o=Y(t);if(r<1){return o*Q(r+n/(z(n+1)+1))}return o*(Q(r/2+z(1+1/n)*r/2-1)+1/Pr)},atanh:function atanh(e){var t=Number(e);if(t===0){return t}if(t===-1){return-Infinity}if(t===1){return Infinity}if(K(t)||t<-1||t>1){return NaN}var r=L(t);return Y(t)*Q(2*r/(1-r))/2},cbrt:function cbrt(e){var t=Number(e);if(t===0){return t}var r=t<0;var n;if(r){t=-t}if(t===Infinity){n=Infinity}else{n=F(D(t)/3);n=(t/(n*n)+2*n)/3}return r?-n:n},clz32:function clz32(e){var t=Number(e);var r=le.ToUint32(t);if(r===0){return 32}return Mr?le.Call(Mr,r):31-k(D(r+.5)*Pr)},cosh:function cosh(e){var t=Number(e);if(t===0){return 1}if(K(t)){return NaN}if(!T(t)){return Infinity}var r=F(L(t)-1);return(r+1/(r*Er*Er))*(Er/2)},expm1:function expm1(e){var t=Number(e);if(t===-Infinity){return-1}if(!T(t)||t===0){return t}if(L(t)>.5){return F(t)-1}var r=t;var n=0;var o=1;while(n+r!==n){n+=r;o+=1;r*=t/o}return n},hypot:function hypot(e,t){var r=0;var n=0;for(var o=0;o<arguments.length;++o){var i=L(Number(arguments[o]));if(n<i){r*=n/i*(n/i);r+=1;n=i}else{r+=i>0?i/n*(i/n):i}}return n===Infinity?Infinity:n*z(r)},log2:function log2(e){return D(e)*Pr},log10:function log10(e){return D(e)*Cr},log1p:Q,sign:Y,sinh:function sinh(e){var t=Number(e);if(!T(t)||t===0){return t}var r=L(t);if(r<1){var n=Math.expm1(r);return Y(t)*n*(1+1/(n+1))/2}var o=F(r-1);return Y(t)*(o-1/(o*Er*Er))*(Er/2)},tanh:function tanh(e){var t=Number(e);if(K(t)||t===0){return t}if(t>=20){return 1}if(t<=-20){return-1}return(Math.expm1(t)-Math.expm1(-t))/(F(t)+F(-t))},trunc:function trunc(e){var t=Number(e);return t<0?-k(-t):k(t)},imul:function imul(e,t){var r=le.ToUint32(e);var n=le.ToUint32(t);var o=r>>>16&65535;var i=r&65535;var a=n>>>16&65535;var u=n&65535;return i*u+(o*u+i*a<<16>>>0)|0},fround:function fround(e){var t=Number(e);if(t===0||t===Infinity||t===-Infinity||K(t)){return t}var r=Y(t);var n=L(t);if(n<Ir){return r*jr(n/Ir/Sr)*Ir*Sr}var o=(1+Sr/Number.EPSILON)*n;var i=o-(o-n);if(i>Tr||K(i)){return r*Infinity}return r*i}};var Nr=function withinULPDistance(e,t,r){return L(1-e/t)/Number.EPSILON<(r||8)};b(Math,xr);h(Math,"sinh",xr.sinh,Math.sinh(710)===Infinity);h(Math,"cosh",xr.cosh,Math.cosh(710)===Infinity);h(Math,"log1p",xr.log1p,Math.log1p(-1e-17)!==-1e-17);h(Math,"asinh",xr.asinh,Math.asinh(-1e7)!==-Math.asinh(1e7));
h(Math,"asinh",xr.asinh,Math.asinh(1e300)===Infinity);h(Math,"atanh",xr.atanh,Math.atanh(1e-300)===0);h(Math,"tanh",xr.tanh,Math.tanh(-2e-17)!==-2e-17);h(Math,"acosh",xr.acosh,Math.acosh(Number.MAX_VALUE)===Infinity);h(Math,"acosh",xr.acosh,!Nr(Math.acosh(1+Number.EPSILON),Math.sqrt(2*Number.EPSILON)));h(Math,"cbrt",xr.cbrt,!Nr(Math.cbrt(1e-300),1e-100));h(Math,"sinh",xr.sinh,Math.sinh(-2e-17)!==-2e-17);var Ar=Math.expm1(10);h(Math,"expm1",xr.expm1,Ar>22025.465794806718||Ar<22025.465794806718);h(Math,"hypot",xr.hypot,Math.hypot(Infinity,NaN)!==Infinity);var _r=Math.round;var Rr=Math.round(.5-Number.EPSILON/4)===0&&Math.round(-.5+Number.EPSILON/3.99)===1;var kr=wr+1;var Lr=2*wr-1;var Fr=[kr,Lr].every(function(e){return Math.round(e)===e});h(Math,"round",function round(e){var t=k(e);var r=t===-1?-0:t+1;return e-t<.5?t:r},!Rr||!Fr);m.preserveToString(Math.round,_r);var Dr=Math.imul;if(Math.imul(4294967295,5)!==-5){Math.imul=xr.imul;m.preserveToString(Math.imul,Dr)}if(Math.imul.length!==2){oe(Math,"imul",function imul(e,t){return le.Call(Dr,Math,arguments)})}var zr=function(){var e=S.setTimeout;if(typeof e!=="function"&&typeof e!=="object"){return}le.IsPromise=function(e){if(!le.TypeIsObject(e)){return false}if(typeof e._promise==="undefined"){return false}return true};var r=function(e){if(!le.IsConstructor(e)){throw new TypeError("Bad promise constructor")}var t=this;var r=function(e,r){if(t.resolve!==void 0||t.reject!==void 0){throw new TypeError("Bad Promise implementation!")}t.resolve=e;t.reject=r};t.resolve=void 0;t.reject=void 0;t.promise=new e(r);if(!(le.IsCallable(t.resolve)&&le.IsCallable(t.reject))){throw new TypeError("Bad promise constructor")}};var n;if(typeof window!=="undefined"&&le.IsCallable(window.postMessage)){n=function(){var e=[];var t="zero-timeout-message";var r=function(r){M(e,r);window.postMessage(t,"*")};var n=function(r){if(r.source===window&&r.data===t){r.stopPropagation();if(e.length===0){return}var n=A(e);n()}};window.addEventListener("message",n,true);return r}}var o=function(){var e=S.Promise;var t=e&&e.resolve&&e.resolve();return t&&function(e){return t.then(e)}};var i=le.IsCallable(S.setImmediate)?S.setImmediate:typeof process==="object"&&process.nextTick?process.nextTick:o()||(le.IsCallable(n)?n():function(t){e(t,0)});var a=function(e){return e};var u=function(e){throw e};var f=0;var s=1;var c=2;var l=0;var p=1;var v=2;var y={};var h=function(e,t,r){i(function(){g(e,t,r)})};var g=function(e,t,r){var n,o;if(t===y){return e(r)}try{n=e(r);o=t.resolve}catch(i){n=i;o=t.reject}o(n)};var d=function(e,t){var r=e._promise;var n=r.reactionLength;if(n>0){h(r.fulfillReactionHandler0,r.reactionCapability0,t);r.fulfillReactionHandler0=void 0;r.rejectReactions0=void 0;r.reactionCapability0=void 0;if(n>1){for(var o=1,i=0;o<n;o++,i+=3){h(r[i+l],r[i+v],t);e[i+l]=void 0;e[i+p]=void 0;e[i+v]=void 0}}}r.result=t;r.state=s;r.reactionLength=0};var m=function(e,t){var r=e._promise;var n=r.reactionLength;if(n>0){h(r.rejectReactionHandler0,r.reactionCapability0,t);r.fulfillReactionHandler0=void 0;r.rejectReactions0=void 0;r.reactionCapability0=void 0;if(n>1){for(var o=1,i=0;o<n;o++,i+=3){h(r[i+p],r[i+v],t);e[i+l]=void 0;e[i+p]=void 0;e[i+v]=void 0}}}r.result=t;r.state=c;r.reactionLength=0};var O=function(e){var t=false;var r=function(r){var n;if(t){return}t=true;if(r===e){return m(e,new TypeError("Self resolution"))}if(!le.TypeIsObject(r)){return d(e,r)}try{n=r.then}catch(o){return m(e,o)}if(!le.IsCallable(n)){return d(e,r)}i(function(){j(e,r,n)})};var n=function(r){if(t){return}t=true;return m(e,r)};return{resolve:r,reject:n}};var w=function(e,r,n,o){if(e===I){t(e,r,n,o,y)}else{t(e,r,n,o)}};var j=function(e,t,r){var n=O(e);var o=n.resolve;var i=n.reject;try{w(r,t,o,i)}catch(a){i(a)}};var T,I;var E=function(){var e=function Promise(t){if(!(this instanceof e)){throw new TypeError('Constructor Promise requires "new"')}if(this&&this._promise){throw new TypeError("Bad construction")}if(!le.IsCallable(t)){throw new TypeError("not a valid resolver")}var r=_e(this,e,T,{_promise:{result:void 0,state:f,reactionLength:0,fulfillReactionHandler0:void 0,rejectReactionHandler0:void 0,reactionCapability0:void 0}});var n=O(r);var o=n.reject;try{t(n.resolve,o)}catch(i){o(i)}return r};return e}();T=E.prototype;var P=function(e,t,r,n){var o=false;return function(i){if(o){return}o=true;t[e]=i;if(--n.count===0){var a=r.resolve;a(t)}}};var C=function(e,t,r){var n=e.iterator;var o=[];var i={count:1};var a,u;var f=0;while(true){try{a=le.IteratorStep(n);if(a===false){e.done=true;break}u=a.value}catch(s){e.done=true;throw s}o[f]=void 0;var c=t.resolve(u);var l=P(f,o,r,i);i.count+=1;w(c.then,c,l,r.reject);f+=1}if(--i.count===0){var p=r.resolve;p(o)}return r.promise};var x=function(e,t,r){var n=e.iterator;var o,i,a;while(true){try{o=le.IteratorStep(n);if(o===false){e.done=true;break}i=o.value}catch(u){e.done=true;throw u}a=t.resolve(i);w(a.then,a,r.resolve,r.reject)}return r.promise};b(E,{all:function all(e){var t=this;if(!le.TypeIsObject(t)){throw new TypeError("Promise is not object")}var n=new r(t);var o,i;try{o=le.GetIterator(e);i={iterator:o,done:false};return C(i,t,n)}catch(a){var u=a;if(i&&!i.done){try{le.IteratorClose(o,true)}catch(f){u=f}}var s=n.reject;s(u);return n.promise}},race:function race(e){var t=this;if(!le.TypeIsObject(t)){throw new TypeError("Promise is not object")}var n=new r(t);var o,i;try{o=le.GetIterator(e);i={iterator:o,done:false};return x(i,t,n)}catch(a){var u=a;if(i&&!i.done){try{le.IteratorClose(o,true)}catch(f){u=f}}var s=n.reject;s(u);return n.promise}},reject:function reject(e){var t=this;if(!le.TypeIsObject(t)){throw new TypeError("Bad promise constructor")}var n=new r(t);var o=n.reject;o(e);return n.promise},resolve:function resolve(e){var t=this;if(!le.TypeIsObject(t)){throw new TypeError("Bad promise constructor")}if(le.IsPromise(e)){var n=e.constructor;if(n===t){return e}}var o=new r(t);var i=o.resolve;i(e);return o.promise}});b(T,{"catch":function(e){return this.then(null,e)},then:function then(e,t){var n=this;if(!le.IsPromise(n)){throw new TypeError("not a promise")}var o=le.SpeciesConstructor(n,E);var i;var b=arguments.length>2&&arguments[2]===y;if(b&&o===E){i=y}else{i=new r(o)}var g=le.IsCallable(e)?e:a;var d=le.IsCallable(t)?t:u;var m=n._promise;var O;if(m.state===f){if(m.reactionLength===0){m.fulfillReactionHandler0=g;m.rejectReactionHandler0=d;m.reactionCapability0=i}else{var w=3*(m.reactionLength-1);m[w+l]=g;m[w+p]=d;m[w+v]=i}m.reactionLength+=1}else if(m.state===s){O=m.result;h(g,i,O)}else if(m.state===c){O=m.result;h(d,i,O)}else{throw new TypeError("unexpected Promise state")}return i.promise}});y=new r(E);I=T.then;return E}();if(S.Promise){delete S.Promise.accept;delete S.Promise.defer;delete S.Promise.prototype.chain}if(typeof zr==="function"){b(S,{Promise:zr});var qr=w(S.Promise,function(e){return e.resolve(42).then(function(){})instanceof e});var Wr=!i(function(){return S.Promise.reject(42).then(null,5).then(null,G)});var Gr=i(function(){return S.Promise.call(3,G)});var Hr=function(e){var t=e.resolve(5);t.constructor={};var r=e.resolve(t);try{r.then(null,G).then(null,G)}catch(n){return true}return t===r}(S.Promise);var Vr=s&&function(){var e=0;var t=Object.defineProperty({},"then",{get:function(){e+=1}});Promise.resolve(t);return e===1}();var Br=function BadResolverPromise(e){var t=new Promise(e);e(3,function(){});this.then=t.then;this.constructor=BadResolverPromise};Br.prototype=Promise.prototype;Br.all=Promise.all;var Ur=a(function(){return!!Br.all([1,2])});if(!qr||!Wr||!Gr||Hr||!Vr||Ur){Promise=zr;oe(S,"Promise",zr)}if(Promise.all.length!==1){var $r=Promise.all;oe(Promise,"all",function all(e){return le.Call($r,this,arguments)})}if(Promise.race.length!==1){var Jr=Promise.race;oe(Promise,"race",function race(e){return le.Call(Jr,this,arguments)})}if(Promise.resolve.length!==1){var Xr=Promise.resolve;oe(Promise,"resolve",function resolve(e){return le.Call(Xr,this,arguments)})}if(Promise.reject.length!==1){var Kr=Promise.reject;oe(Promise,"reject",function reject(e){return le.Call(Kr,this,arguments)})}Nt(Promise,"all");Nt(Promise,"race");Nt(Promise,"resolve");Nt(Promise,"reject");Me(Promise)}var Zr=function(e){var t=n(p(e,function(e,t){e[t]=true;return e},{}));return e.join(":")===t.join(":")};var Yr=Zr(["z","a","bb"]);var Qr=Zr(["z",1,"a","3",2]);if(s){var en=function fastkey(e,t){if(!t&&!Yr){return null}if(ce(e)){return"^"+le.ToString(e)}else if(typeof e==="string"){return"$"+e}else if(typeof e==="number"){if(!Qr){return"n"+e}return e}else if(typeof e==="boolean"){return"b"+e}return null};var tn=function emptyObject(){return Object.create?Object.create(null):{}};var rn=function addIterableToMap(e,n,o){if(r(o)||ne.string(o)){l(o,function(e){if(!le.TypeIsObject(e)){throw new TypeError("Iterator value "+e+" is not an entry object")}n.set(e[0],e[1])})}else if(o instanceof e){t(e.prototype.forEach,o,function(e,t){n.set(t,e)})}else{var i,a;if(!ce(o)){a=n.set;if(!le.IsCallable(a)){throw new TypeError("bad map")}i=le.GetIterator(o)}if(typeof i!=="undefined"){while(true){var u=le.IteratorStep(i);if(u===false){break}var f=u.value;try{if(!le.TypeIsObject(f)){throw new TypeError("Iterator value "+f+" is not an entry object")}t(a,n,f[0],f[1])}catch(s){le.IteratorClose(i,true);throw s}}}}};var nn=function addIterableToSet(e,n,o){if(r(o)||ne.string(o)){l(o,function(e){n.add(e)})}else if(o instanceof e){t(e.prototype.forEach,o,function(e){n.add(e)})}else{var i,a;if(!ce(o)){a=n.add;if(!le.IsCallable(a)){throw new TypeError("bad set")}i=le.GetIterator(o)}if(typeof i!=="undefined"){while(true){var u=le.IteratorStep(i);if(u===false){break}var f=u.value;try{t(a,n,f)}catch(s){le.IteratorClose(i,true);throw s}}}}};var on={Map:function(){var e={};var r=function MapEntry(e,t){this.key=e;this.value=t;this.next=null;this.prev=null};r.prototype.isRemoved=function isRemoved(){return this.key===e};var n=function isMap(e){return!!e._es6map};var o=function requireMapSlot(e,t){if(!le.TypeIsObject(e)||!n(e)){throw new TypeError("Method Map.prototype."+t+" called on incompatible receiver "+le.ToString(e))}};var i=function MapIterator(e,t){o(e,"[[MapIterator]]");h(this,"head",e._head);h(this,"i",this.head);h(this,"kind",t)};i.prototype={isMapIterator:true,next:function next(){if(!this.isMapIterator){throw new TypeError("Not a MapIterator")}var e=this.i;var t=this.kind;var r=this.head;if(typeof this.i==="undefined"){return Ze()}while(e.isRemoved()&&e!==r){e=e.prev}var n;while(e.next!==r){e=e.next;if(!e.isRemoved()){if(t==="key"){n=e.key}else if(t==="value"){n=e.value}else{n=[e.key,e.value]}this.i=e;return Ze(n)}}this.i=void 0;return Ze()}};xe(i.prototype);var a;var u=function Map(){if(!(this instanceof Map)){throw new TypeError('Constructor Map requires "new"')}if(this&&this._es6map){throw new TypeError("Bad construction")}var e=_e(this,Map,a,{_es6map:true,_head:null,_map:H?new H:null,_size:0,_storage:tn()});var t=new r(null,null);t.next=t.prev=t;e._head=t;if(arguments.length>0){rn(Map,e,arguments[0])}return e};a=u.prototype;m.getter(a,"size",function(){if(typeof this._size==="undefined"){throw new TypeError("size method called on incompatible Map")}return this._size});b(a,{get:function get(e){o(this,"get");var t;var r=en(e,true);if(r!==null){t=this._storage[r];if(t){return t.value}return}if(this._map){t=B.call(this._map,e);if(t){return t.value}return}var n=this._head;var i=n;while((i=i.next)!==n){if(le.SameValueZero(i.key,e)){return i.value}}},has:function has(e){o(this,"has");var t=en(e,true);if(t!==null){return typeof this._storage[t]!=="undefined"}if(this._map){return U.call(this._map,e)}var r=this._head;var n=r;while((n=n.next)!==r){if(le.SameValueZero(n.key,e)){return true}}return false},set:function set(e,t){o(this,"set");var n=this._head;var i=n;var a;var u=en(e,true);if(u!==null){if(typeof this._storage[u]!=="undefined"){this._storage[u].value=t;return this}a=this._storage[u]=new r(e,t);i=n.prev}else if(this._map){if(U.call(this._map,e)){B.call(this._map,e).value=t}else{a=new r(e,t);$.call(this._map,e,a);i=n.prev}}while((i=i.next)!==n){if(le.SameValueZero(i.key,e)){i.value=t;return this}}a=a||new r(e,t);if(le.SameValue(-0,e)){a.key=+0}a.next=this._head;a.prev=this._head.prev;a.prev.next=a;a.next.prev=a;this._size+=1;return this},"delete":function(t){o(this,"delete");var r=this._head;var n=r;var i=en(t,true);if(i!==null){if(typeof this._storage[i]==="undefined"){return false}n=this._storage[i].prev;delete this._storage[i]}else if(this._map){if(!U.call(this._map,t)){return false}n=B.call(this._map,t).prev;V.call(this._map,t)}while((n=n.next)!==r){if(le.SameValueZero(n.key,t)){n.key=e;n.value=e;n.prev.next=n.next;n.next.prev=n.prev;this._size-=1;return true}}return false},clear:function clear(){o(this,"clear");this._map=H?new H:null;this._size=0;this._storage=tn();var t=this._head;var r=t;var n=r.next;while((r=n)!==t){r.key=e;r.value=e;n=r.next;r.next=r.prev=t}t.next=t.prev=t},keys:function keys(){o(this,"keys");return new i(this,"key")},values:function values(){o(this,"values");return new i(this,"value")},entries:function entries(){o(this,"entries");return new i(this,"key+value")},forEach:function forEach(e){o(this,"forEach");var r=arguments.length>1?arguments[1]:null;var n=this.entries();for(var i=n.next();!i.done;i=n.next()){if(r){t(e,r,i.value[1],i.value[0],this)}else{e(i.value[1],i.value[0],this)}}}});xe(a,a.entries);return u}(),Set:function(){var e=function isSet(e){return e._es6set&&typeof e._storage!=="undefined"};var r=function requireSetSlot(t,r){if(!le.TypeIsObject(t)||!e(t)){throw new TypeError("Set.prototype."+r+" called on incompatible receiver "+le.ToString(t))}};var o;var i=function Set(){if(!(this instanceof Set)){throw new TypeError('Constructor Set requires "new"')}if(this&&this._es6set){throw new TypeError("Bad construction")}var e=_e(this,Set,o,{_es6set:true,"[[SetData]]":null,_storage:tn()});if(!e._es6set){throw new TypeError("bad set")}if(arguments.length>0){nn(Set,e,arguments[0])}return e};o=i.prototype;var a=function(e){var t=e;if(t==="^null"){return null}else if(t==="^undefined"){return void 0}var r=t.charAt(0);if(r==="$"){return C(t,1)}else if(r==="n"){return+C(t,1)}else if(r==="b"){return t==="btrue"}return+t};var u=function ensureMap(e){if(!e["[[SetData]]"]){var t=new on.Map;e["[[SetData]]"]=t;l(n(e._storage),function(e){var r=a(e);t.set(r,r)});e["[[SetData]]"]=t}e._storage=null};m.getter(i.prototype,"size",function(){r(this,"size");if(this._storage){return n(this._storage).length}u(this);return this["[[SetData]]"].size});b(i.prototype,{has:function has(e){r(this,"has");var t;if(this._storage&&(t=en(e))!==null){return!!this._storage[t]}u(this);return this["[[SetData]]"].has(e)},add:function add(e){r(this,"add");var t;if(this._storage&&(t=en(e))!==null){this._storage[t]=true;return this}u(this);this["[[SetData]]"].set(e,e);return this},"delete":function(e){r(this,"delete");var t;if(this._storage&&(t=en(e))!==null){var n=q(this._storage,t);return delete this._storage[t]&&n}u(this);return this["[[SetData]]"]["delete"](e)},clear:function clear(){r(this,"clear");if(this._storage){this._storage=tn()}if(this["[[SetData]]"]){this["[[SetData]]"].clear()}},values:function values(){r(this,"values");u(this);return new f(this["[[SetData]]"].values())},entries:function entries(){r(this,"entries");u(this);return new f(this["[[SetData]]"].entries())},forEach:function forEach(e){r(this,"forEach");var n=arguments.length>1?arguments[1]:null;var o=this;u(o);this["[[SetData]]"].forEach(function(r,i){if(n){t(e,n,i,i,o)}else{e(i,i,o)}})}});h(i.prototype,"keys",i.prototype.values,true);xe(i.prototype,i.prototype.values);var f=function SetIterator(e){h(this,"it",e)};f.prototype={isSetIterator:true,next:function next(){if(!this.isSetIterator){throw new TypeError("Not a SetIterator")}return this.it.next()}};xe(f.prototype);return i}()};var an=S.Set&&!Set.prototype["delete"]&&Set.prototype.remove&&Set.prototype.items&&Set.prototype.map&&Array.isArray((new Set).keys);if(an){S.Set=on.Set}if(S.Map||S.Set){var un=a(function(){return new Map([[1,2]]).get(1)===2});if(!un){S.Map=function Map(){if(!(this instanceof Map)){throw new TypeError('Constructor Map requires "new"')}var e=new H;if(arguments.length>0){rn(Map,e,arguments[0])}delete e.constructor;Object.setPrototypeOf(e,S.Map.prototype);return e};S.Map.prototype=O(H.prototype);h(S.Map.prototype,"constructor",S.Map,true);m.preserveToString(S.Map,H)}var fn=new Map;var sn=function(){var e=new Map([[1,0],[2,0],[3,0],[4,0]]);e.set(-0,e);return e.get(0)===e&&e.get(-0)===e&&e.has(0)&&e.has(-0)}();var cn=fn.set(1,2)===fn;if(!sn||!cn){oe(Map.prototype,"set",function set(e,r){t($,this,e===0?0:e,r);return this})}if(!sn){b(Map.prototype,{get:function get(e){return t(B,this,e===0?0:e)},has:function has(e){return t(U,this,e===0?0:e)}},true);m.preserveToString(Map.prototype.get,B);m.preserveToString(Map.prototype.has,U)}var ln=new Set;var pn=Set.prototype["delete"]&&Set.prototype.add&&Set.prototype.has&&function(e){e["delete"](0);e.add(-0);return!e.has(0)}(ln);var vn=ln.add(1)===ln;if(!pn||!vn){var yn=Set.prototype.add;Set.prototype.add=function add(e){t(yn,this,e===0?0:e);return this};m.preserveToString(Set.prototype.add,yn)}if(!pn){var hn=Set.prototype.has;Set.prototype.has=function has(e){return t(hn,this,e===0?0:e)};m.preserveToString(Set.prototype.has,hn);var bn=Set.prototype["delete"];Set.prototype["delete"]=function SetDelete(e){return t(bn,this,e===0?0:e)};m.preserveToString(Set.prototype["delete"],bn)}var gn=w(S.Map,function(e){var t=new e([]);t.set(42,42);return t instanceof e});var dn=Object.setPrototypeOf&&!gn;var mn=function(){try{return!(S.Map()instanceof S.Map)}catch(e){return e instanceof TypeError}}();if(S.Map.length!==0||dn||!mn){S.Map=function Map(){if(!(this instanceof Map)){throw new TypeError('Constructor Map requires "new"')}var e=new H;if(arguments.length>0){rn(Map,e,arguments[0])}delete e.constructor;Object.setPrototypeOf(e,Map.prototype);return e};S.Map.prototype=H.prototype;h(S.Map.prototype,"constructor",S.Map,true);m.preserveToString(S.Map,H)}var On=w(S.Set,function(e){var t=new e([]);t.add(42,42);return t instanceof e});var wn=Object.setPrototypeOf&&!On;var jn=function(){try{return!(S.Set()instanceof S.Set)}catch(e){return e instanceof TypeError}}();if(S.Set.length!==0||wn||!jn){var Sn=S.Set;S.Set=function Set(){if(!(this instanceof Set)){throw new TypeError('Constructor Set requires "new"')}var e=new Sn;if(arguments.length>0){nn(Set,e,arguments[0])}delete e.constructor;Object.setPrototypeOf(e,Set.prototype);return e};S.Set.prototype=Sn.prototype;h(S.Set.prototype,"constructor",S.Set,true);m.preserveToString(S.Set,Sn)}var Tn=new S.Map;var In=!a(function(){return Tn.keys().next().done});if(typeof S.Map.prototype.clear!=="function"||(new S.Set).size!==0||Tn.size!==0||typeof S.Map.prototype.keys!=="function"||typeof S.Set.prototype.keys!=="function"||typeof S.Map.prototype.forEach!=="function"||typeof S.Set.prototype.forEach!=="function"||u(S.Map)||u(S.Set)||typeof Tn.keys().next!=="function"||In||!gn){b(S,{Map:on.Map,Set:on.Set},true)}if(S.Set.prototype.keys!==S.Set.prototype.values){h(S.Set.prototype,"keys",S.Set.prototype.values,true)}xe(Object.getPrototypeOf((new S.Map).keys()));xe(Object.getPrototypeOf((new S.Set).keys()));if(c&&S.Set.prototype.has.name!=="has"){var En=S.Set.prototype.has;oe(S.Set.prototype,"has",function has(e){return t(En,this,e)})}}b(S,on);Me(S.Map);Me(S.Set)}var Pn=function throwUnlessTargetIsObject(e){if(!le.TypeIsObject(e)){throw new TypeError("target must be an object")}};var Cn={apply:function apply(){return le.Call(le.Call,null,arguments)},construct:function construct(e,t){if(!le.IsConstructor(e)){throw new TypeError("First argument must be a constructor.")}var r=arguments.length>2?arguments[2]:e;if(!le.IsConstructor(r)){throw new TypeError("new.target must be a constructor.")}return le.Construct(e,t,r,"internal")},deleteProperty:function deleteProperty(e,t){Pn(e);if(s){var r=Object.getOwnPropertyDescriptor(e,t);if(r&&!r.configurable){return false}}return delete e[t]},has:function has(e,t){Pn(e);return t in e}};if(Object.getOwnPropertyNames){Object.assign(Cn,{ownKeys:function ownKeys(e){Pn(e);var t=Object.getOwnPropertyNames(e);if(le.IsCallable(Object.getOwnPropertySymbols)){x(t,Object.getOwnPropertySymbols(e))}return t}})}var Mn=function ConvertExceptionToBoolean(e){return!i(e)};if(Object.preventExtensions){Object.assign(Cn,{isExtensible:function isExtensible(e){Pn(e);return Object.isExtensible(e)},preventExtensions:function preventExtensions(e){Pn(e);return Mn(function(){return Object.preventExtensions(e)})}})}if(s){var xn=function get(e,t,r){var n=Object.getOwnPropertyDescriptor(e,t);if(!n){var o=Object.getPrototypeOf(e);if(o===null){return void 0}return xn(o,t,r)}if("value"in n){return n.value}if(n.get){return le.Call(n.get,r)}return void 0};var Nn=function set(e,r,n,o){var i=Object.getOwnPropertyDescriptor(e,r);if(!i){var a=Object.getPrototypeOf(e);if(a!==null){return Nn(a,r,n,o)}i={value:void 0,writable:true,enumerable:true,configurable:true}}if("value"in i){if(!i.writable){return false}if(!le.TypeIsObject(o)){return false}var u=Object.getOwnPropertyDescriptor(o,r);if(u){return ue.defineProperty(o,r,{value:n})}return ue.defineProperty(o,r,{value:n,writable:true,enumerable:true,configurable:true})}if(i.set){t(i.set,o,n);return true}return false};Object.assign(Cn,{defineProperty:function defineProperty(e,t,r){Pn(e);return Mn(function(){return Object.defineProperty(e,t,r)})},getOwnPropertyDescriptor:function getOwnPropertyDescriptor(e,t){Pn(e);return Object.getOwnPropertyDescriptor(e,t)},get:function get(e,t){Pn(e);var r=arguments.length>2?arguments[2]:e;return xn(e,t,r)},set:function set(e,t,r){Pn(e);var n=arguments.length>3?arguments[3]:e;return Nn(e,t,r,n)}})}if(Object.getPrototypeOf){var An=Object.getPrototypeOf;Cn.getPrototypeOf=function getPrototypeOf(e){Pn(e);return An(e)}}if(Object.setPrototypeOf&&Cn.getPrototypeOf){var _n=function(e,t){var r=t;while(r){if(e===r){return true}r=Cn.getPrototypeOf(r)}return false};Object.assign(Cn,{setPrototypeOf:function setPrototypeOf(e,t){Pn(e);if(t!==null&&!le.TypeIsObject(t)){throw new TypeError("proto must be an object or null")}if(t===ue.getPrototypeOf(e)){return true}if(ue.isExtensible&&!ue.isExtensible(e)){return false}if(_n(e,t)){return false}Object.setPrototypeOf(e,t);return true}})}var Rn=function(e,t){if(!le.IsCallable(S.Reflect[e])){h(S.Reflect,e,t)}else{var r=a(function(){S.Reflect[e](1);S.Reflect[e](NaN);S.Reflect[e](true);return true});if(r){oe(S.Reflect,e,t)}}};Object.keys(Cn).forEach(function(e){Rn(e,Cn[e])});var kn=S.Reflect.getPrototypeOf;if(c&&kn&&kn.name!=="getPrototypeOf"){oe(S.Reflect,"getPrototypeOf",function getPrototypeOf(e){return t(kn,S.Reflect,e)})}if(S.Reflect.setPrototypeOf){if(a(function(){S.Reflect.setPrototypeOf(1,{});return true})){oe(S.Reflect,"setPrototypeOf",Cn.setPrototypeOf)}}if(S.Reflect.defineProperty){if(!a(function(){var e=!S.Reflect.defineProperty(1,"test",{value:1});var t=typeof Object.preventExtensions!=="function"||!S.Reflect.defineProperty(Object.preventExtensions({}),"test",{});return e&&t})){oe(S.Reflect,"defineProperty",Cn.defineProperty)}}if(S.Reflect.construct){if(!a(function(){var e=function F(){};return S.Reflect.construct(function(){},[],e)instanceof e})){oe(S.Reflect,"construct",Cn.construct)}}if(String(new Date(NaN))!=="Invalid Date"){var Ln=Date.prototype.toString;var Fn=function toString(){var e=+this;if(e!==e){return"Invalid Date"}return le.Call(Ln,this)};oe(Date.prototype,"toString",Fn)}var Dn={anchor:function anchor(e){return le.CreateHTML(this,"a","name",e)},big:function big(){return le.CreateHTML(this,"big","","")},blink:function blink(){return le.CreateHTML(this,"blink","","")},bold:function bold(){return le.CreateHTML(this,"b","","")},fixed:function fixed(){return le.CreateHTML(this,"tt","","")},fontcolor:function fontcolor(e){return le.CreateHTML(this,"font","color",e)},fontsize:function fontsize(e){return le.CreateHTML(this,"font","size",e)},italics:function italics(){return le.CreateHTML(this,"i","","")},link:function link(e){return le.CreateHTML(this,"a","href",e)},small:function small(){return le.CreateHTML(this,"small","","")},strike:function strike(){return le.CreateHTML(this,"strike","","")},sub:function sub(){return le.CreateHTML(this,"sub","","")},sup:function sub(){return le.CreateHTML(this,"sup","","")}};l(Object.keys(Dn),function(e){var r=String.prototype[e];var n=false;if(le.IsCallable(r)){var o=t(r,"",' " ');var i=P([],o.match(/"/g)).length;n=o!==o.toLowerCase()||i>2}else{n=true}if(n){oe(String.prototype,e,Dn[e])}});var zn=function(){if(!ie){return false}var e=typeof JSON==="object"&&typeof JSON.stringify==="function"?JSON.stringify:null;if(!e){return false}if(typeof e(J())!=="undefined"){return true}if(e([J()])!=="[null]"){return true}var t={a:J()};t[J()]=true;if(e(t)!=="{}"){return true}return false}();var qn=a(function(){if(!ie){return true}return JSON.stringify(Object(J()))==="{}"&&JSON.stringify([Object(J())])==="[{}]"});if(zn||!qn){var Wn=JSON.stringify;oe(JSON,"stringify",function stringify(e){if(typeof e==="symbol"){return}var n;if(arguments.length>1){n=arguments[1]}var o=[e];if(!r(n)){var i=le.IsCallable(n)?n:null;var a=function(e,r){var n=i?t(i,this,e,r):r;if(typeof n!=="symbol"){if(ne.symbol(n)){return _t({})(n)}return n}};o.push(a)}else{o.push(n)}if(arguments.length>2){o.push(arguments[2])}return Wn.apply(this,o)})}return S});
//# sourceMappingURL=es6-shim.map
/*! jQuery v3.7.1 | (c) OpenJS Foundation and other contributors | jquery.org/license */
!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(ie,e){"use strict";var oe=[],r=Object.getPrototypeOf,ae=oe.slice,g=oe.flat?function(e){return oe.flat.call(e)}:function(e){return oe.concat.apply([],e)},s=oe.push,se=oe.indexOf,n={},i=n.toString,ue=n.hasOwnProperty,o=ue.toString,a=o.call(Object),le={},v=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},y=function(e){return null!=e&&e===e.window},C=ie.document,u={type:!0,src:!0,nonce:!0,noModule:!0};function m(e,t,n){var r,i,o=(n=n||C).createElement("script");if(o.text=e,t)for(r in u)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function x(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?n[i.call(e)]||"object":typeof e}var t="3.7.1",l=/HTML$/i,ce=function(e,t){return new ce.fn.init(e,t)};function c(e){var t=!!e&&"length"in e&&e.length,n=x(e);return!v(e)&&!y(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}function fe(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}ce.fn=ce.prototype={jquery:t,constructor:ce,length:0,toArray:function(){return ae.call(this)},get:function(e){return null==e?ae.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=ce.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return ce.each(this,e)},map:function(n){return this.pushStack(ce.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(ae.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(ce.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(ce.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:oe.sort,splice:oe.splice},ce.extend=ce.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||v(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(l&&r&&(ce.isPlainObject(r)||(i=Array.isArray(r)))?(n=a[t],o=i&&!Array.isArray(n)?[]:i||ce.isPlainObject(n)?n:{},i=!1,a[t]=ce.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},ce.extend({expando:"jQuery"+(t+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==i.call(e))&&(!(t=r(e))||"function"==typeof(n=ue.call(t,"constructor")&&t.constructor)&&o.call(n)===a)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){m(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(c(e)){for(n=e.length;r<n;r++)if(!1===t.call(e[r],r,e[r]))break}else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},text:function(e){var t,n="",r=0,i=e.nodeType;if(!i)while(t=e[r++])n+=ce.text(t);return 1===i||11===i?e.textContent:9===i?e.documentElement.textContent:3===i||4===i?e.nodeValue:n},makeArray:function(e,t){var n=t||[];return null!=e&&(c(Object(e))?ce.merge(n,"string"==typeof e?[e]:e):s.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:se.call(t,e,n)},isXMLDoc:function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!l.test(t||n&&n.nodeName||"HTML")},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,a=[];if(c(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&a.push(i);return g(a)},guid:1,support:le}),"function"==typeof Symbol&&(ce.fn[Symbol.iterator]=oe[Symbol.iterator]),ce.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()});var pe=oe.pop,de=oe.sort,he=oe.splice,ge="[\\x20\\t\\r\\n\\f]",ve=new RegExp("^"+ge+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ge+"+$","g");ce.contains=function(e,t){var n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(e.contains?e.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))};var f=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function p(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}ce.escapeSelector=function(e){return(e+"").replace(f,p)};var ye=C,me=s;!function(){var e,b,w,o,a,T,r,C,d,i,k=me,S=ce.expando,E=0,n=0,s=W(),c=W(),u=W(),h=W(),l=function(e,t){return e===t&&(a=!0),0},f="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",t="(?:\\\\[\\da-fA-F]{1,6}"+ge+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",p="\\["+ge+"*("+t+")(?:"+ge+"*([*^$|!~]?=)"+ge+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+t+"))|)"+ge+"*\\]",g=":("+t+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+p+")*)|.*)\\)|)",v=new RegExp(ge+"+","g"),y=new RegExp("^"+ge+"*,"+ge+"*"),m=new RegExp("^"+ge+"*([>+~]|"+ge+")"+ge+"*"),x=new RegExp(ge+"|>"),j=new RegExp(g),A=new RegExp("^"+t+"$"),D={ID:new RegExp("^#("+t+")"),CLASS:new RegExp("^\\.("+t+")"),TAG:new RegExp("^("+t+"|[*])"),ATTR:new RegExp("^"+p),PSEUDO:new RegExp("^"+g),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ge+"*(even|odd|(([+-]|)(\\d*)n|)"+ge+"*(?:([+-]|)"+ge+"*(\\d+)|))"+ge+"*\\)|)","i"),bool:new RegExp("^(?:"+f+")$","i"),needsContext:new RegExp("^"+ge+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ge+"*((?:-\\d)?\\d*)"+ge+"*\\)|)(?=[^-]|$)","i")},N=/^(?:input|select|textarea|button)$/i,q=/^h\d$/i,L=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,H=/[+~]/,O=new RegExp("\\\\[\\da-fA-F]{1,6}"+ge+"?|\\\\([^\\r\\n\\f])","g"),P=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},M=function(){V()},R=J(function(e){return!0===e.disabled&&fe(e,"fieldset")},{dir:"parentNode",next:"legend"});try{k.apply(oe=ae.call(ye.childNodes),ye.childNodes),oe[ye.childNodes.length].nodeType}catch(e){k={apply:function(e,t){me.apply(e,ae.call(t))},call:function(e){me.apply(e,ae.call(arguments,1))}}}function I(t,e,n,r){var i,o,a,s,u,l,c,f=e&&e.ownerDocument,p=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return n;if(!r&&(V(e),e=e||T,C)){if(11!==p&&(u=L.exec(t)))if(i=u[1]){if(9===p){if(!(a=e.getElementById(i)))return n;if(a.id===i)return k.call(n,a),n}else if(f&&(a=f.getElementById(i))&&I.contains(e,a)&&a.id===i)return k.call(n,a),n}else{if(u[2])return k.apply(n,e.getElementsByTagName(t)),n;if((i=u[3])&&e.getElementsByClassName)return k.apply(n,e.getElementsByClassName(i)),n}if(!(h[t+" "]||d&&d.test(t))){if(c=t,f=e,1===p&&(x.test(t)||m.test(t))){(f=H.test(t)&&U(e.parentNode)||e)==e&&le.scope||((s=e.getAttribute("id"))?s=ce.escapeSelector(s):e.setAttribute("id",s=S)),o=(l=Y(t)).length;while(o--)l[o]=(s?"#"+s:":scope")+" "+Q(l[o]);c=l.join(",")}try{return k.apply(n,f.querySelectorAll(c)),n}catch(e){h(t,!0)}finally{s===S&&e.removeAttribute("id")}}}return re(t.replace(ve,"$1"),e,n,r)}function W(){var r=[];return function e(t,n){return r.push(t+" ")>b.cacheLength&&delete e[r.shift()],e[t+" "]=n}}function F(e){return e[S]=!0,e}function $(e){var t=T.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function B(t){return function(e){return fe(e,"input")&&e.type===t}}function _(t){return function(e){return(fe(e,"input")||fe(e,"button"))&&e.type===t}}function z(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&R(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function X(a){return F(function(o){return o=+o,F(function(e,t){var n,r=a([],e.length,o),i=r.length;while(i--)e[n=r[i]]&&(e[n]=!(t[n]=e[n]))})})}function U(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function V(e){var t,n=e?e.ownerDocument||e:ye;return n!=T&&9===n.nodeType&&n.documentElement&&(r=(T=n).documentElement,C=!ce.isXMLDoc(T),i=r.matches||r.webkitMatchesSelector||r.msMatchesSelector,r.msMatchesSelector&&ye!=T&&(t=T.defaultView)&&t.top!==t&&t.addEventListener("unload",M),le.getById=$(function(e){return r.appendChild(e).id=ce.expando,!T.getElementsByName||!T.getElementsByName(ce.expando).length}),le.disconnectedMatch=$(function(e){return i.call(e,"*")}),le.scope=$(function(){return T.querySelectorAll(":scope")}),le.cssHas=$(function(){try{return T.querySelector(":has(*,:jqfake)"),!1}catch(e){return!0}}),le.getById?(b.filter.ID=function(e){var t=e.replace(O,P);return function(e){return e.getAttribute("id")===t}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&C){var n=t.getElementById(e);return n?[n]:[]}}):(b.filter.ID=function(e){var n=e.replace(O,P);return function(e){var t="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===n}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&C){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];i=t.getElementsByName(e),r=0;while(o=i[r++])if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),b.find.TAG=function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):t.querySelectorAll(e)},b.find.CLASS=function(e,t){if("undefined"!=typeof t.getElementsByClassName&&C)return t.getElementsByClassName(e)},d=[],$(function(e){var t;r.appendChild(e).innerHTML="<a id='"+S+"' href='' disabled='disabled'></a><select id='"+S+"-\r\\' disabled='disabled'><option selected=''></option></select>",e.querySelectorAll("[selected]").length||d.push("\\["+ge+"*(?:value|"+f+")"),e.querySelectorAll("[id~="+S+"-]").length||d.push("~="),e.querySelectorAll("a#"+S+"+*").length||d.push(".#.+[+~]"),e.querySelectorAll(":checked").length||d.push(":checked"),(t=T.createElement("input")).setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),r.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&d.push(":enabled",":disabled"),(t=T.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||d.push("\\["+ge+"*name"+ge+"*="+ge+"*(?:''|\"\")")}),le.cssHas||d.push(":has"),d=d.length&&new RegExp(d.join("|")),l=function(e,t){if(e===t)return a=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!le.sortDetached&&t.compareDocumentPosition(e)===n?e===T||e.ownerDocument==ye&&I.contains(ye,e)?-1:t===T||t.ownerDocument==ye&&I.contains(ye,t)?1:o?se.call(o,e)-se.call(o,t):0:4&n?-1:1)}),T}for(e in I.matches=function(e,t){return I(e,null,null,t)},I.matchesSelector=function(e,t){if(V(e),C&&!h[t+" "]&&(!d||!d.test(t)))try{var n=i.call(e,t);if(n||le.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){h(t,!0)}return 0<I(t,T,null,[e]).length},I.contains=function(e,t){return(e.ownerDocument||e)!=T&&V(e),ce.contains(e,t)},I.attr=function(e,t){(e.ownerDocument||e)!=T&&V(e);var n=b.attrHandle[t.toLowerCase()],r=n&&ue.call(b.attrHandle,t.toLowerCase())?n(e,t,!C):void 0;return void 0!==r?r:e.getAttribute(t)},I.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ce.uniqueSort=function(e){var t,n=[],r=0,i=0;if(a=!le.sortStable,o=!le.sortStable&&ae.call(e,0),de.call(e,l),a){while(t=e[i++])t===e[i]&&(r=n.push(i));while(r--)he.call(e,n[r],1)}return o=null,e},ce.fn.uniqueSort=function(){return this.pushStack(ce.uniqueSort(ae.apply(this)))},(b=ce.expr={cacheLength:50,createPseudo:F,match:D,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(O,P),e[3]=(e[3]||e[4]||e[5]||"").replace(O,P),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||I.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&I.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return D.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&j.test(n)&&(t=Y(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(O,P).toLowerCase();return"*"===e?function(){return!0}:function(e){return fe(e,t)}},CLASS:function(e){var t=s[e+" "];return t||(t=new RegExp("(^|"+ge+")"+e+"("+ge+"|$)"))&&s(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(n,r,i){return function(e){var t=I.attr(e,n);return null==t?"!="===r:!r||(t+="","="===r?t===i:"!="===r?t!==i:"^="===r?i&&0===t.indexOf(i):"*="===r?i&&-1<t.indexOf(i):"$="===r?i&&t.slice(-i.length)===i:"~="===r?-1<(" "+t.replace(v," ")+" ").indexOf(i):"|="===r&&(t===i||t.slice(0,i.length+1)===i+"-"))}},CHILD:function(d,e,t,h,g){var v="nth"!==d.slice(0,3),y="last"!==d.slice(-4),m="of-type"===e;return 1===h&&0===g?function(e){return!!e.parentNode}:function(e,t,n){var r,i,o,a,s,u=v!==y?"nextSibling":"previousSibling",l=e.parentNode,c=m&&e.nodeName.toLowerCase(),f=!n&&!m,p=!1;if(l){if(v){while(u){o=e;while(o=o[u])if(m?fe(o,c):1===o.nodeType)return!1;s=u="only"===d&&!s&&"nextSibling"}return!0}if(s=[y?l.firstChild:l.lastChild],y&&f){p=(a=(r=(i=l[S]||(l[S]={}))[d]||[])[0]===E&&r[1])&&r[2],o=a&&l.childNodes[a];while(o=++a&&o&&o[u]||(p=a=0)||s.pop())if(1===o.nodeType&&++p&&o===e){i[d]=[E,a,p];break}}else if(f&&(p=a=(r=(i=e[S]||(e[S]={}))[d]||[])[0]===E&&r[1]),!1===p)while(o=++a&&o&&o[u]||(p=a=0)||s.pop())if((m?fe(o,c):1===o.nodeType)&&++p&&(f&&((i=o[S]||(o[S]={}))[d]=[E,p]),o===e))break;return(p-=g)===h||p%h==0&&0<=p/h}}},PSEUDO:function(e,o){var t,a=b.pseudos[e]||b.setFilters[e.toLowerCase()]||I.error("unsupported pseudo: "+e);return a[S]?a(o):1<a.length?(t=[e,e,"",o],b.setFilters.hasOwnProperty(e.toLowerCase())?F(function(e,t){var n,r=a(e,o),i=r.length;while(i--)e[n=se.call(e,r[i])]=!(t[n]=r[i])}):function(e){return a(e,0,t)}):a}},pseudos:{not:F(function(e){var r=[],i=[],s=ne(e.replace(ve,"$1"));return s[S]?F(function(e,t,n,r){var i,o=s(e,null,r,[]),a=e.length;while(a--)(i=o[a])&&(e[a]=!(t[a]=i))}):function(e,t,n){return r[0]=e,s(r,null,n,i),r[0]=null,!i.pop()}}),has:F(function(t){return function(e){return 0<I(t,e).length}}),contains:F(function(t){return t=t.replace(O,P),function(e){return-1<(e.textContent||ce.text(e)).indexOf(t)}}),lang:F(function(n){return A.test(n||"")||I.error("unsupported lang: "+n),n=n.replace(O,P).toLowerCase(),function(e){var t;do{if(t=C?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=ie.location&&ie.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===r},focus:function(e){return e===function(){try{return T.activeElement}catch(e){}}()&&T.hasFocus()&&!!(e.type||e.href||~e.tabIndex)},enabled:z(!1),disabled:z(!0),checked:function(e){return fe(e,"input")&&!!e.checked||fe(e,"option")&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!b.pseudos.empty(e)},header:function(e){return q.test(e.nodeName)},input:function(e){return N.test(e.nodeName)},button:function(e){return fe(e,"input")&&"button"===e.type||fe(e,"button")},text:function(e){var t;return fe(e,"input")&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:X(function(){return[0]}),last:X(function(e,t){return[t-1]}),eq:X(function(e,t,n){return[n<0?n+t:n]}),even:X(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:X(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:X(function(e,t,n){var r;for(r=n<0?n+t:t<n?t:n;0<=--r;)e.push(r);return e}),gt:X(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=b.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[e]=B(e);for(e in{submit:!0,reset:!0})b.pseudos[e]=_(e);function G(){}function Y(e,t){var n,r,i,o,a,s,u,l=c[e+" "];if(l)return t?0:l.slice(0);a=e,s=[],u=b.preFilter;while(a){for(o in n&&!(r=y.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(i=[])),n=!1,(r=m.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace(ve," ")}),a=a.slice(n.length)),b.filter)!(r=D[o].exec(a))||u[o]&&!(r=u[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?I.error(e):c(e,s).slice(0)}function Q(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function J(a,e,t){var s=e.dir,u=e.next,l=u||s,c=t&&"parentNode"===l,f=n++;return e.first?function(e,t,n){while(e=e[s])if(1===e.nodeType||c)return a(e,t,n);return!1}:function(e,t,n){var r,i,o=[E,f];if(n){while(e=e[s])if((1===e.nodeType||c)&&a(e,t,n))return!0}else while(e=e[s])if(1===e.nodeType||c)if(i=e[S]||(e[S]={}),u&&fe(e,u))e=e[s]||e;else{if((r=i[l])&&r[0]===E&&r[1]===f)return o[2]=r[2];if((i[l]=o)[2]=a(e,t,n))return!0}return!1}}function K(i){return 1<i.length?function(e,t,n){var r=i.length;while(r--)if(!i[r](e,t,n))return!1;return!0}:i[0]}function Z(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function ee(d,h,g,v,y,e){return v&&!v[S]&&(v=ee(v)),y&&!y[S]&&(y=ee(y,e)),F(function(e,t,n,r){var i,o,a,s,u=[],l=[],c=t.length,f=e||function(e,t,n){for(var r=0,i=t.length;r<i;r++)I(e,t[r],n);return n}(h||"*",n.nodeType?[n]:n,[]),p=!d||!e&&h?f:Z(f,u,d,n,r);if(g?g(p,s=y||(e?d:c||v)?[]:t,n,r):s=p,v){i=Z(s,l),v(i,[],n,r),o=i.length;while(o--)(a=i[o])&&(s[l[o]]=!(p[l[o]]=a))}if(e){if(y||d){if(y){i=[],o=s.length;while(o--)(a=s[o])&&i.push(p[o]=a);y(null,s=[],i,r)}o=s.length;while(o--)(a=s[o])&&-1<(i=y?se.call(e,a):u[o])&&(e[i]=!(t[i]=a))}}else s=Z(s===t?s.splice(c,s.length):s),y?y(null,t,s,r):k.apply(t,s)})}function te(e){for(var i,t,n,r=e.length,o=b.relative[e[0].type],a=o||b.relative[" "],s=o?1:0,u=J(function(e){return e===i},a,!0),l=J(function(e){return-1<se.call(i,e)},a,!0),c=[function(e,t,n){var r=!o&&(n||t!=w)||((i=t).nodeType?u(e,t,n):l(e,t,n));return i=null,r}];s<r;s++)if(t=b.relative[e[s].type])c=[J(K(c),t)];else{if((t=b.filter[e[s].type].apply(null,e[s].matches))[S]){for(n=++s;n<r;n++)if(b.relative[e[n].type])break;return ee(1<s&&K(c),1<s&&Q(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(ve,"$1"),t,s<n&&te(e.slice(s,n)),n<r&&te(e=e.slice(n)),n<r&&Q(e))}c.push(t)}return K(c)}function ne(e,t){var n,v,y,m,x,r,i=[],o=[],a=u[e+" "];if(!a){t||(t=Y(e)),n=t.length;while(n--)(a=te(t[n]))[S]?i.push(a):o.push(a);(a=u(e,(v=o,m=0<(y=i).length,x=0<v.length,r=function(e,t,n,r,i){var o,a,s,u=0,l="0",c=e&&[],f=[],p=w,d=e||x&&b.find.TAG("*",i),h=E+=null==p?1:Math.random()||.1,g=d.length;for(i&&(w=t==T||t||i);l!==g&&null!=(o=d[l]);l++){if(x&&o){a=0,t||o.ownerDocument==T||(V(o),n=!C);while(s=v[a++])if(s(o,t||T,n)){k.call(r,o);break}i&&(E=h)}m&&((o=!s&&o)&&u--,e&&c.push(o))}if(u+=l,m&&l!==u){a=0;while(s=y[a++])s(c,f,t,n);if(e){if(0<u)while(l--)c[l]||f[l]||(f[l]=pe.call(r));f=Z(f)}k.apply(r,f),i&&!e&&0<f.length&&1<u+y.length&&ce.uniqueSort(r)}return i&&(E=h,w=p),c},m?F(r):r))).selector=e}return a}function re(e,t,n,r){var i,o,a,s,u,l="function"==typeof e&&e,c=!r&&Y(e=l.selector||e);if(n=n||[],1===c.length){if(2<(o=c[0]=c[0].slice(0)).length&&"ID"===(a=o[0]).type&&9===t.nodeType&&C&&b.relative[o[1].type]){if(!(t=(b.find.ID(a.matches[0].replace(O,P),t)||[])[0]))return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}i=D.needsContext.test(e)?0:o.length;while(i--){if(a=o[i],b.relative[s=a.type])break;if((u=b.find[s])&&(r=u(a.matches[0].replace(O,P),H.test(o[0].type)&&U(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&Q(o)))return k.apply(n,r),n;break}}}return(l||ne(e,c))(r,t,!C,n,!t||H.test(e)&&U(t.parentNode)||t),n}G.prototype=b.filters=b.pseudos,b.setFilters=new G,le.sortStable=S.split("").sort(l).join("")===S,V(),le.sortDetached=$(function(e){return 1&e.compareDocumentPosition(T.createElement("fieldset"))}),ce.find=I,ce.expr[":"]=ce.expr.pseudos,ce.unique=ce.uniqueSort,I.compile=ne,I.select=re,I.setDocument=V,I.tokenize=Y,I.escape=ce.escapeSelector,I.getText=ce.text,I.isXML=ce.isXMLDoc,I.selectors=ce.expr,I.support=ce.support,I.uniqueSort=ce.uniqueSort}();var d=function(e,t,n){var r=[],i=void 0!==n;while((e=e[t])&&9!==e.nodeType)if(1===e.nodeType){if(i&&ce(e).is(n))break;r.push(e)}return r},h=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},b=ce.expr.match.needsContext,w=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function T(e,n,r){return v(n)?ce.grep(e,function(e,t){return!!n.call(e,t,e)!==r}):n.nodeType?ce.grep(e,function(e){return e===n!==r}):"string"!=typeof n?ce.grep(e,function(e){return-1<se.call(n,e)!==r}):ce.filter(n,e,r)}ce.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?ce.find.matchesSelector(r,e)?[r]:[]:ce.find.matches(e,ce.grep(t,function(e){return 1===e.nodeType}))},ce.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(ce(e).filter(function(){for(t=0;t<r;t++)if(ce.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)ce.find(e,i[t],n);return 1<r?ce.uniqueSort(n):n},filter:function(e){return this.pushStack(T(this,e||[],!1))},not:function(e){return this.pushStack(T(this,e||[],!0))},is:function(e){return!!T(this,"string"==typeof e&&b.test(e)?ce(e):e||[],!1).length}});var k,S=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(ce.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||k,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:S.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof ce?t[0]:t,ce.merge(this,ce.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:C,!0)),w.test(r[1])&&ce.isPlainObject(t))for(r in t)v(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=C.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):v(e)?void 0!==n.ready?n.ready(e):e(ce):ce.makeArray(e,this)}).prototype=ce.fn,k=ce(C);var E=/^(?:parents|prev(?:Until|All))/,j={children:!0,contents:!0,next:!0,prev:!0};function A(e,t){while((e=e[t])&&1!==e.nodeType);return e}ce.fn.extend({has:function(e){var t=ce(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(ce.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&ce(e);if(!b.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&ce.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?ce.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?se.call(ce(e),this[0]):se.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ce.uniqueSort(ce.merge(this.get(),ce(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ce.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return d(e,"parentNode")},parentsUntil:function(e,t,n){return d(e,"parentNode",n)},next:function(e){return A(e,"nextSibling")},prev:function(e){return A(e,"previousSibling")},nextAll:function(e){return d(e,"nextSibling")},prevAll:function(e){return d(e,"previousSibling")},nextUntil:function(e,t,n){return d(e,"nextSibling",n)},prevUntil:function(e,t,n){return d(e,"previousSibling",n)},siblings:function(e){return h((e.parentNode||{}).firstChild,e)},children:function(e){return h(e.firstChild)},contents:function(e){return null!=e.contentDocument&&r(e.contentDocument)?e.contentDocument:(fe(e,"template")&&(e=e.content||e),ce.merge([],e.childNodes))}},function(r,i){ce.fn[r]=function(e,t){var n=ce.map(this,i,e);return"Until"!==r.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=ce.filter(t,n)),1<this.length&&(j[r]||ce.uniqueSort(n),E.test(r)&&n.reverse()),this.pushStack(n)}});var D=/[^\x20\t\r\n\f]+/g;function N(e){return e}function q(e){throw e}function L(e,t,n,r){var i;try{e&&v(i=e.promise)?i.call(e).done(t).fail(n):e&&v(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}ce.Callbacks=function(r){var e,n;r="string"==typeof r?(e=r,n={},ce.each(e.match(D)||[],function(e,t){n[t]=!0}),n):ce.extend({},r);var i,t,o,a,s=[],u=[],l=-1,c=function(){for(a=a||r.once,o=i=!0;u.length;l=-1){t=u.shift();while(++l<s.length)!1===s[l].apply(t[0],t[1])&&r.stopOnFalse&&(l=s.length,t=!1)}r.memory||(t=!1),i=!1,a&&(s=t?[]:"")},f={add:function(){return s&&(t&&!i&&(l=s.length-1,u.push(t)),function n(e){ce.each(e,function(e,t){v(t)?r.unique&&f.has(t)||s.push(t):t&&t.length&&"string"!==x(t)&&n(t)})}(arguments),t&&!i&&c()),this},remove:function(){return ce.each(arguments,function(e,t){var n;while(-1<(n=ce.inArray(t,s,n)))s.splice(n,1),n<=l&&l--}),this},has:function(e){return e?-1<ce.inArray(e,s):0<s.length},empty:function(){return s&&(s=[]),this},disable:function(){return a=u=[],s=t="",this},disabled:function(){return!s},lock:function(){return a=u=[],t||i||(s=t=""),this},locked:function(){return!!a},fireWith:function(e,t){return a||(t=[e,(t=t||[]).slice?t.slice():t],u.push(t),i||c()),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!o}};return f},ce.extend({Deferred:function(e){var o=[["notify","progress",ce.Callbacks("memory"),ce.Callbacks("memory"),2],["resolve","done",ce.Callbacks("once memory"),ce.Callbacks("once memory"),0,"resolved"],["reject","fail",ce.Callbacks("once memory"),ce.Callbacks("once memory"),1,"rejected"]],i="pending",a={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},"catch":function(e){return a.then(null,e)},pipe:function(){var i=arguments;return ce.Deferred(function(r){ce.each(o,function(e,t){var n=v(i[t[4]])&&i[t[4]];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&v(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[t[0]+"With"](this,n?[e]:arguments)})}),i=null}).promise()},then:function(t,n,r){var u=0;function l(i,o,a,s){return function(){var n=this,r=arguments,e=function(){var e,t;if(!(i<u)){if((e=a.apply(n,r))===o.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,v(t)?s?t.call(e,l(u,o,N,s),l(u,o,q,s)):(u++,t.call(e,l(u,o,N,s),l(u,o,q,s),l(u,o,N,o.notifyWith))):(a!==N&&(n=void 0,r=[e]),(s||o.resolveWith)(n,r))}},t=s?e:function(){try{e()}catch(e){ce.Deferred.exceptionHook&&ce.Deferred.exceptionHook(e,t.error),u<=i+1&&(a!==q&&(n=void 0,r=[e]),o.rejectWith(n,r))}};i?t():(ce.Deferred.getErrorHook?t.error=ce.Deferred.getErrorHook():ce.Deferred.getStackHook&&(t.error=ce.Deferred.getStackHook()),ie.setTimeout(t))}}return ce.Deferred(function(e){o[0][3].add(l(0,e,v(r)?r:N,e.notifyWith)),o[1][3].add(l(0,e,v(t)?t:N)),o[2][3].add(l(0,e,v(n)?n:q))}).promise()},promise:function(e){return null!=e?ce.extend(e,a):a}},s={};return ce.each(o,function(e,t){var n=t[2],r=t[5];a[t[1]]=n.add,r&&n.add(function(){i=r},o[3-e][2].disable,o[3-e][3].disable,o[0][2].lock,o[0][3].lock),n.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){var n=arguments.length,t=n,r=Array(t),i=ae.call(arguments),o=ce.Deferred(),a=function(t){return function(e){r[t]=this,i[t]=1<arguments.length?ae.call(arguments):e,--n||o.resolveWith(r,i)}};if(n<=1&&(L(e,o.done(a(t)).resolve,o.reject,!n),"pending"===o.state()||v(i[t]&&i[t].then)))return o.then();while(t--)L(i[t],a(t),o.reject);return o.promise()}});var H=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;ce.Deferred.exceptionHook=function(e,t){ie.console&&ie.console.warn&&e&&H.test(e.name)&&ie.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},ce.readyException=function(e){ie.setTimeout(function(){throw e})};var O=ce.Deferred();function P(){C.removeEventListener("DOMContentLoaded",P),ie.removeEventListener("load",P),ce.ready()}ce.fn.ready=function(e){return O.then(e)["catch"](function(e){ce.readyException(e)}),this},ce.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--ce.readyWait:ce.isReady)||(ce.isReady=!0)!==e&&0<--ce.readyWait||O.resolveWith(C,[ce])}}),ce.ready.then=O.then,"complete"===C.readyState||"loading"!==C.readyState&&!C.documentElement.doScroll?ie.setTimeout(ce.ready):(C.addEventListener("DOMContentLoaded",P),ie.addEventListener("load",P));var M=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===x(n))for(s in i=!0,n)M(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,v(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(ce(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},R=/^-ms-/,I=/-([a-z])/g;function W(e,t){return t.toUpperCase()}function F(e){return e.replace(R,"ms-").replace(I,W)}var $=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function B(){this.expando=ce.expando+B.uid++}B.uid=1,B.prototype={cache:function(e){var t=e[this.expando];return t||(t={},$(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[F(t)]=n;else for(r in t)i[F(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][F(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(F):(t=F(t))in r?[t]:t.match(D)||[]).length;while(n--)delete r[t[n]]}(void 0===t||ce.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!ce.isEmptyObject(t)}};var _=new B,z=new B,X=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,U=/[A-Z]/g;function V(e,t,n){var r,i;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(U,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===(i=n)||"false"!==i&&("null"===i?null:i===+i+""?+i:X.test(i)?JSON.parse(i):i)}catch(e){}z.set(e,t,n)}else n=void 0;return n}ce.extend({hasData:function(e){return z.hasData(e)||_.hasData(e)},data:function(e,t,n){return z.access(e,t,n)},removeData:function(e,t){z.remove(e,t)},_data:function(e,t,n){return _.access(e,t,n)},_removeData:function(e,t){_.remove(e,t)}}),ce.fn.extend({data:function(n,e){var t,r,i,o=this[0],a=o&&o.attributes;if(void 0===n){if(this.length&&(i=z.get(o),1===o.nodeType&&!_.get(o,"hasDataAttrs"))){t=a.length;while(t--)a[t]&&0===(r=a[t].name).indexOf("data-")&&(r=F(r.slice(5)),V(o,r,i[r]));_.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof n?this.each(function(){z.set(this,n)}):M(this,function(e){var t;if(o&&void 0===e)return void 0!==(t=z.get(o,n))?t:void 0!==(t=V(o,n))?t:void 0;this.each(function(){z.set(this,n,e)})},null,e,1<arguments.length,null,!0)},removeData:function(e){return this.each(function(){z.remove(this,e)})}}),ce.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=_.get(e,t),n&&(!r||Array.isArray(n)?r=_.access(e,t,ce.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=ce.queue(e,t),r=n.length,i=n.shift(),o=ce._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){ce.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return _.get(e,n)||_.access(e,n,{empty:ce.Callbacks("once memory").add(function(){_.remove(e,[t+"queue",n])})})}}),ce.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?ce.queue(this[0],t):void 0===n?this:this.each(function(){var e=ce.queue(this,t,n);ce._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&ce.dequeue(this,t)})},dequeue:function(e){return this.each(function(){ce.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=ce.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};"string"!=typeof e&&(t=e,e=void 0),e=e||"fx";while(a--)(n=_.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var G=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Y=new RegExp("^(?:([+-])=|)("+G+")([a-z%]*)$","i"),Q=["Top","Right","Bottom","Left"],J=C.documentElement,K=function(e){return ce.contains(e.ownerDocument,e)},Z={composed:!0};J.getRootNode&&(K=function(e){return ce.contains(e.ownerDocument,e)||e.getRootNode(Z)===e.ownerDocument});var ee=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&K(e)&&"none"===ce.css(e,"display")};function te(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return ce.css(e,t,"")},u=s(),l=n&&n[3]||(ce.cssNumber[t]?"":"px"),c=e.nodeType&&(ce.cssNumber[t]||"px"!==l&&+u)&&Y.exec(ce.css(e,t));if(c&&c[3]!==l){u/=2,l=l||c[3],c=+u||1;while(a--)ce.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c*=2,ce.style(e,t,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var ne={};function re(e,t){for(var n,r,i,o,a,s,u,l=[],c=0,f=e.length;c<f;c++)(r=e[c]).style&&(n=r.style.display,t?("none"===n&&(l[c]=_.get(r,"display")||null,l[c]||(r.style.display="")),""===r.style.display&&ee(r)&&(l[c]=(u=a=o=void 0,a=(i=r).ownerDocument,s=i.nodeName,(u=ne[s])||(o=a.body.appendChild(a.createElement(s)),u=ce.css(o,"display"),o.parentNode.removeChild(o),"none"===u&&(u="block"),ne[s]=u)))):"none"!==n&&(l[c]="none",_.set(r,"display",n)));for(c=0;c<f;c++)null!=l[c]&&(e[c].style.display=l[c]);return e}ce.fn.extend({show:function(){return re(this,!0)},hide:function(){return re(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ee(this)?ce(this).show():ce(this).hide()})}});var xe,be,we=/^(?:checkbox|radio)$/i,Te=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Ce=/^$|^module$|\/(?:java|ecma)script/i;xe=C.createDocumentFragment().appendChild(C.createElement("div")),(be=C.createElement("input")).setAttribute("type","radio"),be.setAttribute("checked","checked"),be.setAttribute("name","t"),xe.appendChild(be),le.checkClone=xe.cloneNode(!0).cloneNode(!0).lastChild.checked,xe.innerHTML="<textarea>x</textarea>",le.noCloneChecked=!!xe.cloneNode(!0).lastChild.defaultValue,xe.innerHTML="<option></option>",le.option=!!xe.lastChild;var ke={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Se(e,t){var n;return n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&fe(e,t)?ce.merge([e],n):n}function Ee(e,t){for(var n=0,r=e.length;n<r;n++)_.set(e[n],"globalEval",!t||_.get(t[n],"globalEval"))}ke.tbody=ke.tfoot=ke.colgroup=ke.caption=ke.thead,ke.th=ke.td,le.option||(ke.optgroup=ke.option=[1,"<select multiple='multiple'>","</select>"]);var je=/<|&#?\w+;/;function Ae(e,t,n,r,i){for(var o,a,s,u,l,c,f=t.createDocumentFragment(),p=[],d=0,h=e.length;d<h;d++)if((o=e[d])||0===o)if("object"===x(o))ce.merge(p,o.nodeType?[o]:o);else if(je.test(o)){a=a||f.appendChild(t.createElement("div")),s=(Te.exec(o)||["",""])[1].toLowerCase(),u=ke[s]||ke._default,a.innerHTML=u[1]+ce.htmlPrefilter(o)+u[2],c=u[0];while(c--)a=a.lastChild;ce.merge(p,a.childNodes),(a=f.firstChild).textContent=""}else p.push(t.createTextNode(o));f.textContent="",d=0;while(o=p[d++])if(r&&-1<ce.inArray(o,r))i&&i.push(o);else if(l=K(o),a=Se(f.appendChild(o),"script"),l&&Ee(a),n){c=0;while(o=a[c++])Ce.test(o.type||"")&&n.push(o)}return f}var De=/^([^.]*)(?:\.(.+)|)/;function Ne(){return!0}function qe(){return!1}function Le(e,t,n,r,i,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)Le(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=qe;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return ce().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=ce.guid++)),e.each(function(){ce.event.add(this,t,i,r,n)})}function He(e,r,t){t?(_.set(e,r,!1),ce.event.add(e,r,{namespace:!1,handler:function(e){var t,n=_.get(this,r);if(1&e.isTrigger&&this[r]){if(n)(ce.event.special[r]||{}).delegateType&&e.stopPropagation();else if(n=ae.call(arguments),_.set(this,r,n),this[r](),t=_.get(this,r),_.set(this,r,!1),n!==t)return e.stopImmediatePropagation(),e.preventDefault(),t}else n&&(_.set(this,r,ce.event.trigger(n[0],n.slice(1),this)),e.stopPropagation(),e.isImmediatePropagationStopped=Ne)}})):void 0===_.get(e,r)&&ce.event.add(e,r,Ne)}ce.event={global:{},add:function(t,e,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=_.get(t);if($(t)){n.handler&&(n=(o=n).handler,i=o.selector),i&&ce.find.matchesSelector(J,i),n.guid||(n.guid=ce.guid++),(u=v.events)||(u=v.events=Object.create(null)),(a=v.handle)||(a=v.handle=function(e){return"undefined"!=typeof ce&&ce.event.triggered!==e.type?ce.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(D)||[""]).length;while(l--)d=g=(s=De.exec(e[l])||[])[1],h=(s[2]||"").split(".").sort(),d&&(f=ce.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=ce.event.special[d]||{},c=ce.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&ce.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||((p=u[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(t,r,h,a)||t.addEventListener&&t.addEventListener(d,a)),f.add&&(f.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),ce.event.global[d]=!0)}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=_.hasData(e)&&_.get(e);if(v&&(u=v.events)){l=(t=(t||"").match(D)||[""]).length;while(l--)if(d=g=(s=De.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),d){f=ce.event.special[d]||{},p=u[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;while(o--)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,v.handle)||ce.removeEvent(e,d,v.handle),delete u[d])}else for(d in u)ce.event.remove(e,d+t[l],n,r,!0);ce.isEmptyObject(u)&&_.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=new Array(arguments.length),u=ce.event.fix(e),l=(_.get(this,"events")||Object.create(null))[u.type]||[],c=ce.event.special[u.type]||{};for(s[0]=u,t=1;t<arguments.length;t++)s[t]=arguments[t];if(u.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,u)){a=ce.event.handlers.call(this,u,l),t=0;while((i=a[t++])&&!u.isPropagationStopped()){u.currentTarget=i.elem,n=0;while((o=i.handlers[n++])&&!u.isImmediatePropagationStopped())u.rnamespace&&!1!==o.namespace&&!u.rnamespace.test(o.namespace)||(u.handleObj=o,u.data=o.data,void 0!==(r=((ce.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))&&!1===(u.result=r)&&(u.preventDefault(),u.stopPropagation()))}return c.postDispatch&&c.postDispatch.call(this,u),u.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&1<=e.button))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?-1<ce(i,this).index(l):ce.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(t,e){Object.defineProperty(ce.Event.prototype,t,{enumerable:!0,configurable:!0,get:v(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[ce.expando]?e:new ce.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return we.test(t.type)&&t.click&&fe(t,"input")&&He(t,"click",!0),!1},trigger:function(e){var t=this||e;return we.test(t.type)&&t.click&&fe(t,"input")&&He(t,"click"),!0},_default:function(e){var t=e.target;return we.test(t.type)&&t.click&&fe(t,"input")&&_.get(t,"click")||fe(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},ce.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},ce.Event=function(e,t){if(!(this instanceof ce.Event))return new ce.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Ne:qe,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&ce.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[ce.expando]=!0},ce.Event.prototype={constructor:ce.Event,isDefaultPrevented:qe,isPropagationStopped:qe,isImmediatePropagationStopped:qe,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Ne,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Ne,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Ne,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},ce.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},ce.event.addProp),ce.each({focus:"focusin",blur:"focusout"},function(r,i){function o(e){if(C.documentMode){var t=_.get(this,"handle"),n=ce.event.fix(e);n.type="focusin"===e.type?"focus":"blur",n.isSimulated=!0,t(e),n.target===n.currentTarget&&t(n)}else ce.event.simulate(i,e.target,ce.event.fix(e))}ce.event.special[r]={setup:function(){var e;if(He(this,r,!0),!C.documentMode)return!1;(e=_.get(this,i))||this.addEventListener(i,o),_.set(this,i,(e||0)+1)},trigger:function(){return He(this,r),!0},teardown:function(){var e;if(!C.documentMode)return!1;(e=_.get(this,i)-1)?_.set(this,i,e):(this.removeEventListener(i,o),_.remove(this,i))},_default:function(e){return _.get(e.target,r)},delegateType:i},ce.event.special[i]={setup:function(){var e=this.ownerDocument||this.document||this,t=C.documentMode?this:e,n=_.get(t,i);n||(C.documentMode?this.addEventListener(i,o):e.addEventListener(r,o,!0)),_.set(t,i,(n||0)+1)},teardown:function(){var e=this.ownerDocument||this.document||this,t=C.documentMode?this:e,n=_.get(t,i)-1;n?_.set(t,i,n):(C.documentMode?this.removeEventListener(i,o):e.removeEventListener(r,o,!0),_.remove(t,i))}}}),ce.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,i){ce.event.special[e]={delegateType:i,bindType:i,handle:function(e){var t,n=e.relatedTarget,r=e.handleObj;return n&&(n===this||ce.contains(this,n))||(e.type=r.origType,t=r.handler.apply(this,arguments),e.type=i),t}}}),ce.fn.extend({on:function(e,t,n,r){return Le(this,e,t,n,r)},one:function(e,t,n,r){return Le(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,ce(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=qe),this.each(function(){ce.event.remove(this,e,n,t)})}});var Oe=/<script|<style|<link/i,Pe=/checked\s*(?:[^=]|=\s*.checked.)/i,Me=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Re(e,t){return fe(e,"table")&&fe(11!==t.nodeType?t:t.firstChild,"tr")&&ce(e).children("tbody")[0]||e}function Ie(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function We(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Fe(e,t){var n,r,i,o,a,s;if(1===t.nodeType){if(_.hasData(e)&&(s=_.get(e).events))for(i in _.remove(t,"handle events"),s)for(n=0,r=s[i].length;n<r;n++)ce.event.add(t,i,s[i][n]);z.hasData(e)&&(o=z.access(e),a=ce.extend({},o),z.set(t,a))}}function $e(n,r,i,o){r=g(r);var e,t,a,s,u,l,c=0,f=n.length,p=f-1,d=r[0],h=v(d);if(h||1<f&&"string"==typeof d&&!le.checkClone&&Pe.test(d))return n.each(function(e){var t=n.eq(e);h&&(r[0]=d.call(this,e,t.html())),$e(t,r,i,o)});if(f&&(t=(e=Ae(r,n[0].ownerDocument,!1,n,o)).firstChild,1===e.childNodes.length&&(e=t),t||o)){for(s=(a=ce.map(Se(e,"script"),Ie)).length;c<f;c++)u=e,c!==p&&(u=ce.clone(u,!0,!0),s&&ce.merge(a,Se(u,"script"))),i.call(n[c],u,c);if(s)for(l=a[a.length-1].ownerDocument,ce.map(a,We),c=0;c<s;c++)u=a[c],Ce.test(u.type||"")&&!_.access(u,"globalEval")&&ce.contains(l,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?ce._evalUrl&&!u.noModule&&ce._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},l):m(u.textContent.replace(Me,""),u,l))}return n}function Be(e,t,n){for(var r,i=t?ce.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||ce.cleanData(Se(r)),r.parentNode&&(n&&K(r)&&Ee(Se(r,"script")),r.parentNode.removeChild(r));return e}ce.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,i,o,a,s,u,l,c=e.cloneNode(!0),f=K(e);if(!(le.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ce.isXMLDoc(e)))for(a=Se(c),r=0,i=(o=Se(e)).length;r<i;r++)s=o[r],u=a[r],void 0,"input"===(l=u.nodeName.toLowerCase())&&we.test(s.type)?u.checked=s.checked:"input"!==l&&"textarea"!==l||(u.defaultValue=s.defaultValue);if(t)if(n)for(o=o||Se(e),a=a||Se(c),r=0,i=o.length;r<i;r++)Fe(o[r],a[r]);else Fe(e,c);return 0<(a=Se(c,"script")).length&&Ee(a,!f&&Se(e,"script")),c},cleanData:function(e){for(var t,n,r,i=ce.event.special,o=0;void 0!==(n=e[o]);o++)if($(n)){if(t=n[_.expando]){if(t.events)for(r in t.events)i[r]?ce.event.remove(n,r):ce.removeEvent(n,r,t.handle);n[_.expando]=void 0}n[z.expando]&&(n[z.expando]=void 0)}}}),ce.fn.extend({detach:function(e){return Be(this,e,!0)},remove:function(e){return Be(this,e)},text:function(e){return M(this,function(e){return void 0===e?ce.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return $e(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Re(this,e).appendChild(e)})},prepend:function(){return $e(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Re(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return $e(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return $e(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(ce.cleanData(Se(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return ce.clone(this,e,t)})},html:function(e){return M(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Oe.test(e)&&!ke[(Te.exec(e)||["",""])[1].toLowerCase()]){e=ce.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(ce.cleanData(Se(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return $e(this,arguments,function(e){var t=this.parentNode;ce.inArray(this,n)<0&&(ce.cleanData(Se(this)),t&&t.replaceChild(e,this))},n)}}),ce.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){ce.fn[e]=function(e){for(var t,n=[],r=ce(e),i=r.length-1,o=0;o<=i;o++)t=o===i?this:this.clone(!0),ce(r[o])[a](t),s.apply(n,t.get());return this.pushStack(n)}});var _e=new RegExp("^("+G+")(?!px)[a-z%]+$","i"),ze=/^--/,Xe=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=ie),t.getComputedStyle(e)},Ue=function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];for(i in r=n.call(e),t)e.style[i]=o[i];return r},Ve=new RegExp(Q.join("|"),"i");function Ge(e,t,n){var r,i,o,a,s=ze.test(t),u=e.style;return(n=n||Xe(e))&&(a=n.getPropertyValue(t)||n[t],s&&a&&(a=a.replace(ve,"$1")||void 0),""!==a||K(e)||(a=ce.style(e,t)),!le.pixelBoxStyles()&&_e.test(a)&&Ve.test(t)&&(r=u.width,i=u.minWidth,o=u.maxWidth,u.minWidth=u.maxWidth=u.width=a,a=n.width,u.width=r,u.minWidth=i,u.maxWidth=o)),void 0!==a?a+"":a}function Ye(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(l){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",J.appendChild(u).appendChild(l);var e=ie.getComputedStyle(l);n="1%"!==e.top,s=12===t(e.marginLeft),l.style.right="60%",o=36===t(e.right),r=36===t(e.width),l.style.position="absolute",i=12===t(l.offsetWidth/3),J.removeChild(u),l=null}}function t(e){return Math.round(parseFloat(e))}var n,r,i,o,a,s,u=C.createElement("div"),l=C.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",le.clearCloneStyle="content-box"===l.style.backgroundClip,ce.extend(le,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),o},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),s},scrollboxSize:function(){return e(),i},reliableTrDimensions:function(){var e,t,n,r;return null==a&&(e=C.createElement("table"),t=C.createElement("tr"),n=C.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="box-sizing:content-box;border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",J.appendChild(e).appendChild(t).appendChild(n),r=ie.getComputedStyle(t),a=parseInt(r.height,10)+parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10)===t.offsetHeight,J.removeChild(e)),a}}))}();var Qe=["Webkit","Moz","ms"],Je=C.createElement("div").style,Ke={};function Ze(e){var t=ce.cssProps[e]||Ke[e];return t||(e in Je?e:Ke[e]=function(e){var t=e[0].toUpperCase()+e.slice(1),n=Qe.length;while(n--)if((e=Qe[n]+t)in Je)return e}(e)||e)}var et=/^(none|table(?!-c[ea]).+)/,tt={position:"absolute",visibility:"hidden",display:"block"},nt={letterSpacing:"0",fontWeight:"400"};function rt(e,t,n){var r=Y.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function it(e,t,n,r,i,o){var a="width"===t?1:0,s=0,u=0,l=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(l+=ce.css(e,n+Q[a],!0,i)),r?("content"===n&&(u-=ce.css(e,"padding"+Q[a],!0,i)),"margin"!==n&&(u-=ce.css(e,"border"+Q[a]+"Width",!0,i))):(u+=ce.css(e,"padding"+Q[a],!0,i),"padding"!==n?u+=ce.css(e,"border"+Q[a]+"Width",!0,i):s+=ce.css(e,"border"+Q[a]+"Width",!0,i));return!r&&0<=o&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))||0),u+l}function ot(e,t,n){var r=Xe(e),i=(!le.boxSizingReliable()||n)&&"border-box"===ce.css(e,"boxSizing",!1,r),o=i,a=Ge(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if(_e.test(a)){if(!n)return a;a="auto"}return(!le.boxSizingReliable()&&i||!le.reliableTrDimensions()&&fe(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===ce.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===ce.css(e,"boxSizing",!1,r),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+it(e,t,n||(i?"border":"content"),o,r,a)+"px"}function at(e,t,n,r,i){return new at.prototype.init(e,t,n,r,i)}ce.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ge(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=F(t),u=ze.test(t),l=e.style;if(u||(t=Ze(s)),a=ce.cssHooks[t]||ce.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];"string"===(o=typeof n)&&(i=Y.exec(n))&&i[1]&&(n=te(e,t,i),o="number"),null!=n&&n==n&&("number"!==o||u||(n+=i&&i[3]||(ce.cssNumber[s]?"":"px")),le.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,o,a,s=F(t);return ze.test(t)||(t=Ze(s)),(a=ce.cssHooks[t]||ce.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=Ge(e,t,r)),"normal"===i&&t in nt&&(i=nt[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),ce.each(["height","width"],function(e,u){ce.cssHooks[u]={get:function(e,t,n){if(t)return!et.test(ce.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?ot(e,u,n):Ue(e,tt,function(){return ot(e,u,n)})},set:function(e,t,n){var r,i=Xe(e),o=!le.scrollboxSize()&&"absolute"===i.position,a=(o||n)&&"border-box"===ce.css(e,"boxSizing",!1,i),s=n?it(e,u,n,a,i):0;return a&&o&&(s-=Math.ceil(e["offset"+u[0].toUpperCase()+u.slice(1)]-parseFloat(i[u])-it(e,u,"border",!1,i)-.5)),s&&(r=Y.exec(t))&&"px"!==(r[3]||"px")&&(e.style[u]=t,t=ce.css(e,u)),rt(0,t,s)}}}),ce.cssHooks.marginLeft=Ye(le.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Ge(e,"marginLeft"))||e.getBoundingClientRect().left-Ue(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),ce.each({margin:"",padding:"",border:"Width"},function(i,o){ce.cssHooks[i+o]={expand:function(e){for(var t=0,n={},r="string"==typeof e?e.split(" "):[e];t<4;t++)n[i+Q[t]+o]=r[t]||r[t-2]||r[0];return n}},"margin"!==i&&(ce.cssHooks[i+o].set=rt)}),ce.fn.extend({css:function(e,t){return M(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=Xe(e),i=t.length;a<i;a++)o[t[a]]=ce.css(e,t[a],!1,r);return o}return void 0!==n?ce.style(e,t,n):ce.css(e,t)},e,t,1<arguments.length)}}),((ce.Tween=at).prototype={constructor:at,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||ce.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(ce.cssNumber[n]?"":"px")},cur:function(){var e=at.propHooks[this.prop];return e&&e.get?e.get(this):at.propHooks._default.get(this)},run:function(e){var t,n=at.propHooks[this.prop];return this.options.duration?this.pos=t=ce.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):at.propHooks._default.set(this),this}}).init.prototype=at.prototype,(at.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=ce.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){ce.fx.step[e.prop]?ce.fx.step[e.prop](e):1!==e.elem.nodeType||!ce.cssHooks[e.prop]&&null==e.elem.style[Ze(e.prop)]?e.elem[e.prop]=e.now:ce.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=at.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ce.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},ce.fx=at.prototype.init,ce.fx.step={};var st,ut,lt,ct,ft=/^(?:toggle|show|hide)$/,pt=/queueHooks$/;function dt(){ut&&(!1===C.hidden&&ie.requestAnimationFrame?ie.requestAnimationFrame(dt):ie.setTimeout(dt,ce.fx.interval),ce.fx.tick())}function ht(){return ie.setTimeout(function(){st=void 0}),st=Date.now()}function gt(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=Q[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function vt(e,t,n){for(var r,i=(yt.tweeners[t]||[]).concat(yt.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function yt(o,e,t){var n,a,r=0,i=yt.prefilters.length,s=ce.Deferred().always(function(){delete u.elem}),u=function(){if(a)return!1;for(var e=st||ht(),t=Math.max(0,l.startTime+l.duration-e),n=1-(t/l.duration||0),r=0,i=l.tweens.length;r<i;r++)l.tweens[r].run(n);return s.notifyWith(o,[l,n,t]),n<1&&i?t:(i||s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l]),!1)},l=s.promise({elem:o,props:ce.extend({},e),opts:ce.extend(!0,{specialEasing:{},easing:ce.easing._default},t),originalProperties:e,originalOptions:t,startTime:st||ht(),duration:t.duration,tweens:[],createTween:function(e,t){var n=ce.Tween(o,l.opts,e,t,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(n),n},stop:function(e){var t=0,n=e?l.tweens.length:0;if(a)return this;for(a=!0;t<n;t++)l.tweens[t].run(1);return e?(s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l,e])):s.rejectWith(o,[l,e]),this}}),c=l.props;for(!function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=F(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=ce.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(c,l.opts.specialEasing);r<i;r++)if(n=yt.prefilters[r].call(l,o,c,l.opts))return v(n.stop)&&(ce._queueHooks(l.elem,l.opts.queue).stop=n.stop.bind(n)),n;return ce.map(c,vt,l),v(l.opts.start)&&l.opts.start.call(o,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),ce.fx.timer(ce.extend(u,{elem:o,anim:l,queue:l.opts.queue})),l}ce.Animation=ce.extend(yt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return te(n.elem,e,Y.exec(t),n),n}]},tweener:function(e,t){v(e)?(t=e,e=["*"]):e=e.match(D);for(var n,r=0,i=e.length;r<i;r++)n=e[r],yt.tweeners[n]=yt.tweeners[n]||[],yt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,a,s,u,l,c,f="width"in t||"height"in t,p=this,d={},h=e.style,g=e.nodeType&&ee(e),v=_.get(e,"fxshow");for(r in n.queue||(null==(a=ce._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,ce.queue(e,"fx").length||a.empty.fire()})})),t)if(i=t[r],ft.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!v||void 0===v[r])continue;g=!0}d[r]=v&&v[r]||ce.style(e,r)}if((u=!ce.isEmptyObject(t))||!ce.isEmptyObject(d))for(r in f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=v&&v.display)&&(l=_.get(e,"display")),"none"===(c=ce.css(e,"display"))&&(l?c=l:(re([e],!0),l=e.style.display||l,c=ce.css(e,"display"),re([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===ce.css(e,"float")&&(u||(p.done(function(){h.display=l}),null==l&&(c=h.display,l="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1,d)u||(v?"hidden"in v&&(g=v.hidden):v=_.access(e,"fxshow",{display:l}),o&&(v.hidden=!g),g&&re([e],!0),p.done(function(){for(r in g||re([e]),_.remove(e,"fxshow"),d)ce.style(e,r,d[r])})),u=vt(g?v[r]:0,r,p),r in v||(v[r]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?yt.prefilters.unshift(e):yt.prefilters.push(e)}}),ce.speed=function(e,t,n){var r=e&&"object"==typeof e?ce.extend({},e):{complete:n||!n&&t||v(e)&&e,duration:e,easing:n&&t||t&&!v(t)&&t};return ce.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in ce.fx.speeds?r.duration=ce.fx.speeds[r.duration]:r.duration=ce.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){v(r.old)&&r.old.call(this),r.queue&&ce.dequeue(this,r.queue)},r},ce.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ee).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(t,e,n,r){var i=ce.isEmptyObject(t),o=ce.speed(e,n,r),a=function(){var e=yt(this,ce.extend({},t),o);(i||_.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(i,e,o){var a=function(e){var t=e.stop;delete e.stop,t(o)};return"string"!=typeof i&&(o=e,e=i,i=void 0),e&&this.queue(i||"fx",[]),this.each(function(){var e=!0,t=null!=i&&i+"queueHooks",n=ce.timers,r=_.get(this);if(t)r[t]&&r[t].stop&&a(r[t]);else for(t in r)r[t]&&r[t].stop&&pt.test(t)&&a(r[t]);for(t=n.length;t--;)n[t].elem!==this||null!=i&&n[t].queue!==i||(n[t].anim.stop(o),e=!1,n.splice(t,1));!e&&o||ce.dequeue(this,i)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=_.get(this),n=t[a+"queue"],r=t[a+"queueHooks"],i=ce.timers,o=n?n.length:0;for(t.finish=!0,ce.queue(this,a,[]),r&&r.stop&&r.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&&i[e].queue===a&&(i[e].anim.stop(!0),i.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),ce.each(["toggle","show","hide"],function(e,r){var i=ce.fn[r];ce.fn[r]=function(e,t,n){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(gt(r,!0),e,t,n)}}),ce.each({slideDown:gt("show"),slideUp:gt("hide"),slideToggle:gt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,r){ce.fn[e]=function(e,t,n){return this.animate(r,e,t,n)}}),ce.timers=[],ce.fx.tick=function(){var e,t=0,n=ce.timers;for(st=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||ce.fx.stop(),st=void 0},ce.fx.timer=function(e){ce.timers.push(e),ce.fx.start()},ce.fx.interval=13,ce.fx.start=function(){ut||(ut=!0,dt())},ce.fx.stop=function(){ut=null},ce.fx.speeds={slow:600,fast:200,_default:400},ce.fn.delay=function(r,e){return r=ce.fx&&ce.fx.speeds[r]||r,e=e||"fx",this.queue(e,function(e,t){var n=ie.setTimeout(e,r);t.stop=function(){ie.clearTimeout(n)}})},lt=C.createElement("input"),ct=C.createElement("select").appendChild(C.createElement("option")),lt.type="checkbox",le.checkOn=""!==lt.value,le.optSelected=ct.selected,(lt=C.createElement("input")).value="t",lt.type="radio",le.radioValue="t"===lt.value;var mt,xt=ce.expr.attrHandle;ce.fn.extend({attr:function(e,t){return M(this,ce.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){ce.removeAttr(this,e)})}}),ce.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?ce.prop(e,t,n):(1===o&&ce.isXMLDoc(e)||(i=ce.attrHooks[t.toLowerCase()]||(ce.expr.match.bool.test(t)?mt:void 0)),void 0!==n?null===n?void ce.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=ce.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!le.radioValue&&"radio"===t&&fe(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(D);if(i&&1===e.nodeType)while(n=i[r++])e.removeAttribute(n)}}),mt={set:function(e,t,n){return!1===t?ce.removeAttr(e,n):e.setAttribute(n,n),n}},ce.each(ce.expr.match.bool.source.match(/\w+/g),function(e,t){var a=xt[t]||ce.find.attr;xt[t]=function(e,t,n){var r,i,o=t.toLowerCase();return n||(i=xt[o],xt[o]=r,r=null!=a(e,t,n)?o:null,xt[o]=i),r}});var bt=/^(?:input|select|textarea|button)$/i,wt=/^(?:a|area)$/i;function Tt(e){return(e.match(D)||[]).join(" ")}function Ct(e){return e.getAttribute&&e.getAttribute("class")||""}function kt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(D)||[]}ce.fn.extend({prop:function(e,t){return M(this,ce.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[ce.propFix[e]||e]})}}),ce.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&ce.isXMLDoc(e)||(t=ce.propFix[t]||t,i=ce.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=ce.find.attr(e,"tabindex");return t?parseInt(t,10):bt.test(e.nodeName)||wt.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),le.optSelected||(ce.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),ce.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ce.propFix[this.toLowerCase()]=this}),ce.fn.extend({addClass:function(t){var e,n,r,i,o,a;return v(t)?this.each(function(e){ce(this).addClass(t.call(this,e,Ct(this)))}):(e=kt(t)).length?this.each(function(){if(r=Ct(this),n=1===this.nodeType&&" "+Tt(r)+" "){for(o=0;o<e.length;o++)i=e[o],n.indexOf(" "+i+" ")<0&&(n+=i+" ");a=Tt(n),r!==a&&this.setAttribute("class",a)}}):this},removeClass:function(t){var e,n,r,i,o,a;return v(t)?this.each(function(e){ce(this).removeClass(t.call(this,e,Ct(this)))}):arguments.length?(e=kt(t)).length?this.each(function(){if(r=Ct(this),n=1===this.nodeType&&" "+Tt(r)+" "){for(o=0;o<e.length;o++){i=e[o];while(-1<n.indexOf(" "+i+" "))n=n.replace(" "+i+" "," ")}a=Tt(n),r!==a&&this.setAttribute("class",a)}}):this:this.attr("class","")},toggleClass:function(t,n){var e,r,i,o,a=typeof t,s="string"===a||Array.isArray(t);return v(t)?this.each(function(e){ce(this).toggleClass(t.call(this,e,Ct(this),n),n)}):"boolean"==typeof n&&s?n?this.addClass(t):this.removeClass(t):(e=kt(t),this.each(function(){if(s)for(o=ce(this),i=0;i<e.length;i++)r=e[i],o.hasClass(r)?o.removeClass(r):o.addClass(r);else void 0!==t&&"boolean"!==a||((r=Ct(this))&&_.set(this,"__className__",r),this.setAttribute&&this.setAttribute("class",r||!1===t?"":_.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,r=0;t=" "+e+" ";while(n=this[r++])if(1===n.nodeType&&-1<(" "+Tt(Ct(n))+" ").indexOf(t))return!0;return!1}});var St=/\r/g;ce.fn.extend({val:function(n){var r,e,i,t=this[0];return arguments.length?(i=v(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=i?n.call(this,e,ce(this).val()):n)?t="":"number"==typeof t?t+="":Array.isArray(t)&&(t=ce.map(t,function(e){return null==e?"":e+""})),(r=ce.valHooks[this.type]||ce.valHooks[this.nodeName.toLowerCase()])&&"set"in r&&void 0!==r.set(this,t,"value")||(this.value=t))})):t?(r=ce.valHooks[t.type]||ce.valHooks[t.nodeName.toLowerCase()])&&"get"in r&&void 0!==(e=r.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace(St,""):null==e?"":e:void 0}}),ce.extend({valHooks:{option:{get:function(e){var t=ce.find.attr(e,"value");return null!=t?t:Tt(ce.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!fe(n.parentNode,"optgroup"))){if(t=ce(n).val(),a)return t;s.push(t)}return s},set:function(e,t){var n,r,i=e.options,o=ce.makeArray(t),a=i.length;while(a--)((r=i[a]).selected=-1<ce.inArray(ce.valHooks.option.get(r),o))&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),ce.each(["radio","checkbox"],function(){ce.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<ce.inArray(ce(e).val(),t)}},le.checkOn||(ce.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Et=ie.location,jt={guid:Date.now()},At=/\?/;ce.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(new ie.DOMParser).parseFromString(e,"text/xml")}catch(e){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||ce.error("Invalid XML: "+(n?ce.map(n.childNodes,function(e){return e.textContent}).join("\n"):e)),t};var Dt=/^(?:focusinfocus|focusoutblur)$/,Nt=function(e){e.stopPropagation()};ce.extend(ce.event,{trigger:function(e,t,n,r){var i,o,a,s,u,l,c,f,p=[n||C],d=ue.call(e,"type")?e.type:e,h=ue.call(e,"namespace")?e.namespace.split("."):[];if(o=f=a=n=n||C,3!==n.nodeType&&8!==n.nodeType&&!Dt.test(d+ce.event.triggered)&&(-1<d.indexOf(".")&&(d=(h=d.split(".")).shift(),h.sort()),u=d.indexOf(":")<0&&"on"+d,(e=e[ce.expando]?e:new ce.Event(d,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=h.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:ce.makeArray(t,[e]),c=ce.event.special[d]||{},r||!c.trigger||!1!==c.trigger.apply(n,t))){if(!r&&!c.noBubble&&!y(n)){for(s=c.delegateType||d,Dt.test(s+d)||(o=o.parentNode);o;o=o.parentNode)p.push(o),a=o;a===(n.ownerDocument||C)&&p.push(a.defaultView||a.parentWindow||ie)}i=0;while((o=p[i++])&&!e.isPropagationStopped())f=o,e.type=1<i?s:c.bindType||d,(l=(_.get(o,"events")||Object.create(null))[e.type]&&_.get(o,"handle"))&&l.apply(o,t),(l=u&&o[u])&&l.apply&&$(o)&&(e.result=l.apply(o,t),!1===e.result&&e.preventDefault());return e.type=d,r||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(p.pop(),t)||!$(n)||u&&v(n[d])&&!y(n)&&((a=n[u])&&(n[u]=null),ce.event.triggered=d,e.isPropagationStopped()&&f.addEventListener(d,Nt),n[d](),e.isPropagationStopped()&&f.removeEventListener(d,Nt),ce.event.triggered=void 0,a&&(n[u]=a)),e.result}},simulate:function(e,t,n){var r=ce.extend(new ce.Event,n,{type:e,isSimulated:!0});ce.event.trigger(r,null,t)}}),ce.fn.extend({trigger:function(e,t){return this.each(function(){ce.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return ce.event.trigger(e,t,n,!0)}});var qt=/\[\]$/,Lt=/\r?\n/g,Ht=/^(?:submit|button|image|reset|file)$/i,Ot=/^(?:input|select|textarea|keygen)/i;function Pt(n,e,r,i){var t;if(Array.isArray(e))ce.each(e,function(e,t){r||qt.test(n)?i(n,t):Pt(n+"["+("object"==typeof t&&null!=t?e:"")+"]",t,r,i)});else if(r||"object"!==x(e))i(n,e);else for(t in e)Pt(n+"["+t+"]",e[t],r,i)}ce.param=function(e,t){var n,r=[],i=function(e,t){var n=v(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!ce.isPlainObject(e))ce.each(e,function(){i(this.name,this.value)});else for(n in e)Pt(n,e[n],t,i);return r.join("&")},ce.fn.extend({serialize:function(){return ce.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ce.prop(this,"elements");return e?ce.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ce(this).is(":disabled")&&Ot.test(this.nodeName)&&!Ht.test(e)&&(this.checked||!we.test(e))}).map(function(e,t){var n=ce(this).val();return null==n?null:Array.isArray(n)?ce.map(n,function(e){return{name:t.name,value:e.replace(Lt,"\r\n")}}):{name:t.name,value:n.replace(Lt,"\r\n")}}).get()}});var Mt=/%20/g,Rt=/#.*$/,It=/([?&])_=[^&]*/,Wt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ft=/^(?:GET|HEAD)$/,$t=/^\/\//,Bt={},_t={},zt="*/".concat("*"),Xt=C.createElement("a");function Ut(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,r=0,i=e.toLowerCase().match(D)||[];if(v(t))while(n=i[r++])"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(t)):(o[n]=o[n]||[]).push(t)}}function Vt(t,i,o,a){var s={},u=t===_t;function l(e){var r;return s[e]=!0,ce.each(t[e]||[],function(e,t){var n=t(i,o,a);return"string"!=typeof n||u||s[n]?u?!(r=n):void 0:(i.dataTypes.unshift(n),l(n),!1)}),r}return l(i.dataTypes[0])||!s["*"]&&l("*")}function Gt(e,t){var n,r,i=ce.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&ce.extend(!0,e,r),e}Xt.href=Et.href,ce.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Et.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Et.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":zt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":ce.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Gt(Gt(e,ce.ajaxSettings),t):Gt(ce.ajaxSettings,e)},ajaxPrefilter:Ut(Bt),ajaxTransport:Ut(_t),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var c,f,p,n,d,r,h,g,i,o,v=ce.ajaxSetup({},t),y=v.context||v,m=v.context&&(y.nodeType||y.jquery)?ce(y):ce.event,x=ce.Deferred(),b=ce.Callbacks("once memory"),w=v.statusCode||{},a={},s={},u="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(h){if(!n){n={};while(t=Wt.exec(p))n[t[1].toLowerCase()+" "]=(n[t[1].toLowerCase()+" "]||[]).concat(t[2])}t=n[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return h?p:null},setRequestHeader:function(e,t){return null==h&&(e=s[e.toLowerCase()]=s[e.toLowerCase()]||e,a[e]=t),this},overrideMimeType:function(e){return null==h&&(v.mimeType=e),this},statusCode:function(e){var t;if(e)if(h)T.always(e[T.status]);else for(t in e)w[t]=[w[t],e[t]];return this},abort:function(e){var t=e||u;return c&&c.abort(t),l(0,t),this}};if(x.promise(T),v.url=((e||v.url||Et.href)+"").replace($t,Et.protocol+"//"),v.type=t.method||t.type||v.method||v.type,v.dataTypes=(v.dataType||"*").toLowerCase().match(D)||[""],null==v.crossDomain){r=C.createElement("a");try{r.href=v.url,r.href=r.href,v.crossDomain=Xt.protocol+"//"+Xt.host!=r.protocol+"//"+r.host}catch(e){v.crossDomain=!0}}if(v.data&&v.processData&&"string"!=typeof v.data&&(v.data=ce.param(v.data,v.traditional)),Vt(Bt,v,t,T),h)return T;for(i in(g=ce.event&&v.global)&&0==ce.active++&&ce.event.trigger("ajaxStart"),v.type=v.type.toUpperCase(),v.hasContent=!Ft.test(v.type),f=v.url.replace(Rt,""),v.hasContent?v.data&&v.processData&&0===(v.contentType||"").indexOf("application/x-www-form-urlencoded")&&(v.data=v.data.replace(Mt,"+")):(o=v.url.slice(f.length),v.data&&(v.processData||"string"==typeof v.data)&&(f+=(At.test(f)?"&":"?")+v.data,delete v.data),!1===v.cache&&(f=f.replace(It,"$1"),o=(At.test(f)?"&":"?")+"_="+jt.guid+++o),v.url=f+o),v.ifModified&&(ce.lastModified[f]&&T.setRequestHeader("If-Modified-Since",ce.lastModified[f]),ce.etag[f]&&T.setRequestHeader("If-None-Match",ce.etag[f])),(v.data&&v.hasContent&&!1!==v.contentType||t.contentType)&&T.setRequestHeader("Content-Type",v.contentType),T.setRequestHeader("Accept",v.dataTypes[0]&&v.accepts[v.dataTypes[0]]?v.accepts[v.dataTypes[0]]+("*"!==v.dataTypes[0]?", "+zt+"; q=0.01":""):v.accepts["*"]),v.headers)T.setRequestHeader(i,v.headers[i]);if(v.beforeSend&&(!1===v.beforeSend.call(y,T,v)||h))return T.abort();if(u="abort",b.add(v.complete),T.done(v.success),T.fail(v.error),c=Vt(_t,v,t,T)){if(T.readyState=1,g&&m.trigger("ajaxSend",[T,v]),h)return T;v.async&&0<v.timeout&&(d=ie.setTimeout(function(){T.abort("timeout")},v.timeout));try{h=!1,c.send(a,l)}catch(e){if(h)throw e;l(-1,e)}}else l(-1,"No Transport");function l(e,t,n,r){var i,o,a,s,u,l=t;h||(h=!0,d&&ie.clearTimeout(d),c=void 0,p=r||"",T.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(s=function(e,t,n){var r,i,o,a,s=e.contents,u=e.dataTypes;while("*"===u[0])u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}(v,T,n)),!i&&-1<ce.inArray("script",v.dataTypes)&&ce.inArray("json",v.dataTypes)<0&&(v.converters["text script"]=function(){}),s=function(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];o=c.shift();while(o)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(v,s,T,i),i?(v.ifModified&&((u=T.getResponseHeader("Last-Modified"))&&(ce.lastModified[f]=u),(u=T.getResponseHeader("etag"))&&(ce.etag[f]=u)),204===e||"HEAD"===v.type?l="nocontent":304===e?l="notmodified":(l=s.state,o=s.data,i=!(a=s.error))):(a=l,!e&&l||(l="error",e<0&&(e=0))),T.status=e,T.statusText=(t||l)+"",i?x.resolveWith(y,[o,l,T]):x.rejectWith(y,[T,l,a]),T.statusCode(w),w=void 0,g&&m.trigger(i?"ajaxSuccess":"ajaxError",[T,v,i?o:a]),b.fireWith(y,[T,l]),g&&(m.trigger("ajaxComplete",[T,v]),--ce.active||ce.event.trigger("ajaxStop")))}return T},getJSON:function(e,t,n){return ce.get(e,t,n,"json")},getScript:function(e,t){return ce.get(e,void 0,t,"script")}}),ce.each(["get","post"],function(e,i){ce[i]=function(e,t,n,r){return v(t)&&(r=r||n,n=t,t=void 0),ce.ajax(ce.extend({url:e,type:i,dataType:r,data:t,success:n},ce.isPlainObject(e)&&e))}}),ce.ajaxPrefilter(function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),ce._evalUrl=function(e,t,n){return ce.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){ce.globalEval(e,t,n)}})},ce.fn.extend({wrapAll:function(e){var t;return this[0]&&(v(e)&&(e=e.call(this[0])),t=ce(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return v(n)?this.each(function(e){ce(this).wrapInner(n.call(this,e))}):this.each(function(){var e=ce(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=v(t);return this.each(function(e){ce(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){ce(this).replaceWith(this.childNodes)}),this}}),ce.expr.pseudos.hidden=function(e){return!ce.expr.pseudos.visible(e)},ce.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},ce.ajaxSettings.xhr=function(){try{return new ie.XMLHttpRequest}catch(e){}};var Yt={0:200,1223:204},Qt=ce.ajaxSettings.xhr();le.cors=!!Qt&&"withCredentials"in Qt,le.ajax=Qt=!!Qt,ce.ajaxTransport(function(i){var o,a;if(le.cors||Qt&&!i.crossDomain)return{send:function(e,t){var n,r=i.xhr();if(r.open(i.type,i.url,i.async,i.username,i.password),i.xhrFields)for(n in i.xhrFields)r[n]=i.xhrFields[n];for(n in i.mimeType&&r.overrideMimeType&&r.overrideMimeType(i.mimeType),i.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)r.setRequestHeader(n,e[n]);o=function(e){return function(){o&&(o=a=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,"abort"===e?r.abort():"error"===e?"number"!=typeof r.status?t(0,"error"):t(r.status,r.statusText):t(Yt[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=o(),a=r.onerror=r.ontimeout=o("error"),void 0!==r.onabort?r.onabort=a:r.onreadystatechange=function(){4===r.readyState&&ie.setTimeout(function(){o&&a()})},o=o("abort");try{r.send(i.hasContent&&i.data||null)}catch(e){if(o)throw e}},abort:function(){o&&o()}}}),ce.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),ce.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return ce.globalEval(e),e}}}),ce.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),ce.ajaxTransport("script",function(n){var r,i;if(n.crossDomain||n.scriptAttrs)return{send:function(e,t){r=ce("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",i=function(e){r.remove(),i=null,e&&t("error"===e.type?404:200,e.type)}),C.head.appendChild(r[0])},abort:function(){i&&i()}}});var Jt,Kt=[],Zt=/(=)\?(?=&|$)|\?\?/;ce.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Kt.pop()||ce.expando+"_"+jt.guid++;return this[e]=!0,e}}),ce.ajaxPrefilter("json jsonp",function(e,t,n){var r,i,o,a=!1!==e.jsonp&&(Zt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Zt.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=v(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Zt,"$1"+r):!1!==e.jsonp&&(e.url+=(At.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||ce.error(r+" was not called"),o[0]},e.dataTypes[0]="json",i=ie[r],ie[r]=function(){o=arguments},n.always(function(){void 0===i?ce(ie).removeProp(r):ie[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,Kt.push(r)),o&&v(i)&&i(o[0]),o=i=void 0}),"script"}),le.createHTMLDocument=((Jt=C.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Jt.childNodes.length),ce.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(le.createHTMLDocument?((r=(t=C.implementation.createHTMLDocument("")).createElement("base")).href=C.location.href,t.head.appendChild(r)):t=C),o=!n&&[],(i=w.exec(e))?[t.createElement(i[1])]:(i=Ae([e],t,o),o&&o.length&&ce(o).remove(),ce.merge([],i.childNodes)));var r,i,o},ce.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return-1<s&&(r=Tt(e.slice(s)),e=e.slice(0,s)),v(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),0<a.length&&ce.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?ce("<div>").append(ce.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},ce.expr.pseudos.animated=function(t){return ce.grep(ce.timers,function(e){return t===e.elem}).length},ce.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l=ce.css(e,"position"),c=ce(e),f={};"static"===l&&(e.style.position="relative"),s=c.offset(),o=ce.css(e,"top"),u=ce.css(e,"left"),("absolute"===l||"fixed"===l)&&-1<(o+u).indexOf("auto")?(a=(r=c.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),v(t)&&(t=t.call(e,n,ce.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):c.css(f)}},ce.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){ce.offset.setOffset(this,t,e)});var e,n,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===ce.css(r,"position"))t=r.getBoundingClientRect();else{t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;while(e&&(e===n.body||e===n.documentElement)&&"static"===ce.css(e,"position"))e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=ce(e).offset()).top+=ce.css(e,"borderTopWidth",!0),i.left+=ce.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-ce.css(r,"marginTop",!0),left:t.left-i.left-ce.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent;while(e&&"static"===ce.css(e,"position"))e=e.offsetParent;return e||J})}}),ce.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var o="pageYOffset"===i;ce.fn[t]=function(e){return M(this,function(e,t,n){var r;if(y(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===n)return r?r[i]:e[t];r?r.scrollTo(o?r.pageXOffset:n,o?n:r.pageYOffset):e[t]=n},t,e,arguments.length)}}),ce.each(["top","left"],function(e,n){ce.cssHooks[n]=Ye(le.pixelPosition,function(e,t){if(t)return t=Ge(e,n),_e.test(t)?ce(e).position()[n]+"px":t})}),ce.each({Height:"height",Width:"width"},function(a,s){ce.each({padding:"inner"+a,content:s,"":"outer"+a},function(r,o){ce.fn[o]=function(e,t){var n=arguments.length&&(r||"boolean"!=typeof e),i=r||(!0===e||!0===t?"margin":"border");return M(this,function(e,t,n){var r;return y(e)?0===o.indexOf("outer")?e["inner"+a]:e.document.documentElement["client"+a]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+a],r["scroll"+a],e.body["offset"+a],r["offset"+a],r["client"+a])):void 0===n?ce.css(e,t,i):ce.style(e,t,n,i)},s,n?e:void 0,n)}})}),ce.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ce.fn[t]=function(e){return this.on(t,e)}}),ce.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.on("mouseenter",e).on("mouseleave",t||e)}}),ce.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){ce.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}});var en=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;ce.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),v(e))return r=ae.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(ae.call(arguments)))}).guid=e.guid=e.guid||ce.guid++,i},ce.holdReady=function(e){e?ce.readyWait++:ce.ready(!0)},ce.isArray=Array.isArray,ce.parseJSON=JSON.parse,ce.nodeName=fe,ce.isFunction=v,ce.isWindow=y,ce.camelCase=F,ce.type=x,ce.now=Date.now,ce.isNumeric=function(e){var t=ce.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},ce.trim=function(e){return null==e?"":(e+"").replace(en,"$1")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return ce});var tn=ie.jQuery,nn=ie.$;return ce.noConflict=function(e){return ie.$===ce&&(ie.$=nn),e&&ie.jQuery===ce&&(ie.jQuery=tn),ce},"undefined"==typeof e&&(ie.jQuery=ie.$=ce),ce});
"use strict";function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function ownKeys(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach(function(e){_defineProperty(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function _defineProperty(e,t,n){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey(e){e=_toPrimitive(e,"string");return"symbol"==_typeof(e)?e:String(e)}function _toPrimitive(e,t){if("object"!=_typeof(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _createForOfIteratorHelper(e,t){var n,r,a,o,i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return r=!(n=!0),{s:function(){i=i.call(e)},n:function(){var e=i.next();return n=e.done,e},e:function(e){r=!0,a=e},f:function(){try{n||null==i.return||i.return()}finally{if(r)throw a}}};if(Array.isArray(e)||(i=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length)return i&&(e=i),o=0,{s:t=function(){},n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var n;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}define("engine",["jquery","utils","state","section","passages"],function(N,j,P,R,I){var t,V=j.impossible,M=j.passageSelector,D=j.transitionOut,F=j.options;function L(e,t,n){var r,a,o;if(n?(n=n.get("name"),(a=I.getTree(n)).children.length&&(r={type:"include",tag:t,name:n,children:a.children,text:a.text})):r=I.getTree(t),r){for(;(o=e[e.length-1])&&("root"===o.type||"include"===o.type)&&o.children.some(function(e){return e.type.startsWith("unclosed")});)e[e.length-1]=Object.create(o),e=e[e.length-1].children=o.children.slice();e.push(r)}}function n(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=n.loadedGame,a=I.get(e),o=j.storyElement,i=o.parent(),s=n.stretch,n=n.transition,n=void 0===n?{}:n,c=n.depart,c=void 0===c?"instant":c,l=n.arrive,l=void 0===l?"dissolve":l,u=n.departOrigin,p=n.arriveOrigin,n=n.time,d=(i.findAndFilter("tw-enchantment").each(function(e,t){var n=(t=N(t)).data("enchantedProperties");n&&o.css(n.reduce(function(e,t){return e[t]="",e},{})),t[0]===i[0]&&(i=o.unwrap().parent())}),I.hasValid(e)||V("Engine.showPassage","There's no passage with the name \""+e+'"!'),o.children(M).not(".transition-out, .transition-out *")),a=(a.get("tags")||[]).join(" "),f=(t=N("<tw-passage><tw-sidebar>"),f=t.children("tw-sidebar"),h=N('<tw-icon tabindex=0 alt="Undo" title="Undo">&#8630;</tw-icon>'),g=N('<tw-icon tabindex=0 alt="Redo" title="Redo">&#8631;</tw-icon>'),P.pastLength<=0&&h.css("visibility","hidden"),P.futureLength<=0&&g.css("visibility","hidden"),f.append(h,g),t),h=("function"==typeof u&&(u=u.call(d)),"function"==typeof p&&(p=p.call(f)),!s&&c),m=h&&d.css("width"),g=(j.detachStoryElement(),f.appendTo(o).attr({tags:a}),h&&(D(d,c,n,0,0,0,u),d.css({position:"absolute",width:function(){return"0px"!==m?m:"100%"}})),o.attr({tags:a}),R.create(f)),y=(r&&(g.loadedGame=!0),[]);if(P.pastLength<=0&&1===P.turns){var b,v=_createForOfIteratorHelper(I.getTagged("startup"));try{for(v.s();!(b=v.n()).done;)L(y,"startup",b.value)}catch(e){v.e(e)}finally{v.f()}if(F.debug){var w,k=_createForOfIteratorHelper(I.getTagged("debug-startup"));try{for(k.s();!(w=k.n()).done;)L(y,"debug-startup",w.value)}catch(e){k.e(e)}finally{k.f()}}}var S,T=_createForOfIteratorHelper(I.getTagged("header"));try{for(T.s();!(S=T.n()).done;)L(y,"header",S.value)}catch(e){T.e(e)}finally{T.f()}if(F.debug){var _,x=_createForOfIteratorHelper(I.getTagged("debug-header"));try{for(x.s();!(_=x.n()).done;)L(y,"debug-header",_.value)}catch(e){x.e(e)}finally{x.f()}}L(y,e);var O,A=_createForOfIteratorHelper(I.getTagged("footer"));try{for(A.s();!(O=A.n()).done;)L(y,"footer",O.value)}catch(e){A.e(e)}finally{A.f()}if(F.debug){var C,E=_createForOfIteratorHelper(I.getTagged("debug-footer"));try{for(E.s();!(C=E.n()).done;)L(y,"debug-footer",C.value)}catch(e){E.e(e)}finally{E.f()}}g.renderInto(y,f,{transition:l,transitionTime:n,transitionOrigin:p}),g.loadedGame=!1,j.reattachStoryElement(),scroll(0,s?f.offset().top-.05*N(window).height():o[0].getBoundingClientRect().top+document.body.scrollTop)}return Object.freeze({goBack:function(e){P.rewind()&&n(P.passage,e)},goForward:function(e){P.fastForward()&&n(P.passage,e)},goToPassage:function(e,t){P.play(e),n(e,t)},redirect:function(e,t){P.redirect(e),n(e,t)},toggleFullscreen:function(){var e=document.documentElement;document.fullscreenElement?document.exitFullscreen():document.msFullscreenElement?document.msExitFullscreen():(e.msRequestFullscreen||e.requestFullscreen).call(e)},showPassage:n,enableDebugMode:function(){t&&t()},registerDebugMode:function(e){t=t||e}})}),define("harlowe",["jquery","debugmode/mode","renderer","state","section","engine","passages","utils","utils/renderutils","internaltypes/varscope","internaltypes/twineerror","macros","macrolib/values","macrolib/commands","macrolib/datastructures","macrolib/stylechangers","macrolib/enchantments","macrolib/metadata","macrolib/patterns","macrolib/links","macrolib/custommacros","utils/jqueryplugins","repl"],function($,DebugMode,Renderer,State,Section,Engine,Passages,Utils,_ref,VarScope){var dialog=_ref.dialog;function __HarloweEval(text){eval(text+"")}function printJSError(e){var t,n="".concat(e.name,": ").concat(e.message);return e.stack&&(t=(e=e.stack.split("\n")).findIndex(function(e){return e.includes("__HarloweEval")}),n+="\n".concat(e.slice(0,t).join("\n").replace(/\([^)]+\)/g,""))),"<div style='font-family:monospace;overflow-y:scroll;max-height:30vh'>```"+n+"```</div>"}!function(o){window.onerror=function(e,t,n,r,a){window.onerror=o,Utils.storyElement.parent().append(dialog({message:"Sorry to interrupt, but this page's code has got itself in a mess.\n\n".concat(printJSError(a),"\n(This is probably due to a bug in the Harlowe game engine.)")}).addClass("harlowe-crash")),"function"==typeof o&&o.apply(void 0,arguments)}}(window.onerror),Utils.onStartup(function(){var n,e,t,r,a=$("tw-storydata");0!==a.length&&(Utils.options.ifid=a.attr("ifid"),(a.attr("tags")||"").split(/\s/).forEach(function(e){"uncompressed-pure-values"!==e&&"uncompressed-saves"!==e||(Utils.options.uncompressedPureValues=!0),"uncompressed-structures"!==e&&"uncompressed-saves"!==e||(Utils.options.uncompressedStructures=!0)}),(a.attr("options")||"").split(/\s/).forEach(function(e){e&&(Utils.options[e]=!0),"debug"===e&&DebugMode()}),a=(a=a.attr("startnode"))||[].reduce.call($("tw-passagedata"),function(e,t){t=t.getAttribute("pid");return t<e?t:e},1/0),a=$("tw-passagedata[pid='"+a+"']").attr("name"),$(document.documentElement).on("keydown",function(e){13===e.which&&"0"===e.target.getAttribute("tabindex")&&$(e.target).trigger("click")}),n=!1,$("[role=script]").each(function(t){try{__HarloweEval($(this).html())}catch(e){n||(n=!0,dialog({parent:Utils.storyElement.parent(),message:"There is a problem with this story's "+Utils.nth(t+1)+" script:\n\n"+printJSError(e)}))}}),$("[role=stylesheet]").each(function(e,t){$(document.head).append("<style data-title=\"Story stylesheet '".concat(e+1,"'\">").concat($(t).html()))}),(e=Section.create()).stack=[{tempVariables:Object.create(VarScope)}],(r=Passages.loadMetadata(e)).length&&(t=dialog({parent:Utils.storyElement.parent(),message:"These errors occurred when running the `(metadata:)` macro calls in this story's passages:<p></p>"}),r.forEach(function(e){return t.find("p").append(e.render())})),(r=!Utils.options.debug&&State.hasSessionStorage&&sessionStorage.getItem("Saved Session"))&&!0===State.deserialise(e,r)?Engine.showPassage(State.passage):Engine.goToPassage(a))})}),define("macros",["utils/naturalsort","utils","utils/operationutils","datatypes/changercommand","datatypes/custommacro","datatypes/lambda","datatypes/codehook","internaltypes/changedescriptor","internaltypes/twineerror"],function(g,e,t,o,r,y,b,p,v){var w=e.insensitiveName,k=e.nth,S=e.andList,T=t.objectName,_=t.typeName,d=t.toSource,x=Array.isArray,i={};function O(e){return e===s.TypeSignature.Any||(x(e.innerType)?e.innerType.some(O):!!e.innerType&&O(e.innerType))}function a(e,t,n,r){var a,o,i,s,c,l,u,p,d=t.fn,f=t.typeSignature,h=t.returnType,m=(r=function(e){for(var t,n,r,a=[],o=0;o<e.length;o+=1)o in e&&(!0===(null==(t=e[o])?void 0:t.spreader)?(n=t.value,(r=v.containsError(n))?a.push(r):x(n)||"string"==typeof n?a.push.apply(a,_toConsumableArray(n)):n instanceof Set?a.push.apply(a,_toConsumableArray(Array.from(n).sort(g("en")))):a.push(v.create("operation","I can't spread out "+T(n)+", because it is not a string, dataset, or array."))):a.push(t));return a}(r),"string"!=typeof e&&(a=e,e=""),a?"":"("+(x(e)&&1<e.length?e[0]:e)+":)");for(e=a?a.TwineScript_KnownName?"the custom macro, ".concat(a.TwineScript_KnownName):"an unnamed custom macro":"the ".concat(m," macro"),o=0<f.length?1===f.length&&O(f[0])?1===r.length?"That value can't be given to macros as-is.":"Give only a single value to this macro.":e+" must only be given "+S(f.map(_))+(1<f.length?", in that order":"."):e+" must not be given any data."+(a?"":" Just write "+m),s=0,c=Math.max(r.length,f.length);s<c;s+=1){if(p=f[s],l=r[s],v.containsError(l))return l;if(s>=f.length&&!i)return v.create("datatype",r.length-f.length+" too many values were given to "+e+".",o);if(!(p=p||i).innerType||"rest"!==p.pattern&&"zero or more"!==p.pattern||(i=p.innerType,"rest"===p.pattern&&(p=p.innerType)),!function e(t,n){if(null===n)return void 0===t;var r=_typeof(t);if("function"!=typeof n&&n.pattern){if("optional"===n.pattern||"zero or more"===n.pattern)return void 0===t||e(t,n.innerType);if("either"===n.pattern){for(var a=0;a<n.innerType.length;a+=1)if(e(t,n.innerType[a]))return!0;return!1}if("lambda"===n.pattern&&e(t,n.innerType))return n.clauses.includes("where")===("where"in t||"each"in t)&&n.clauses.includes("making")==="making"in t&&n.clauses.includes("via")==="via"in t&&n.clauses.includes("with")==="with"in t;if("insensitive set"===n.pattern)return n.innerType.includes(w(t));if("range"===n.pattern)return n.range(t);if("wrapped"===n.pattern)return e(t,n.innerType)}return(void 0===n||void 0!==t)&&("anything"===n.TwineScript_TypeName&&void 0!==t&&!t.TwineScript_Unstorable||"everything"===n.TwineScript_TypeName&&void 0!==t||(n===String?"string"===r:n===Boolean?"boolean"===r:n===parseInt?"number"===r&&!Number.isNaN(t)&&!(t+"").includes("."):n===Number?"number"===r&&!Number.isNaN(t):n===Array?x(t):n===Map||n===Set?t instanceof n:Object.isPrototypeOf.call(n,t)))}(l,p))return void 0===l?(u=f.filter(function(e){return!("optional"===e.pattern||"zero or more"===e.pattern)}).length,v.create("datatype","".concat(e," was given ").concat(r.length?S(r.map(T)):"nothing",", but needs ").concat(u-s," more value").concat(1<u-s?"s":"","."),o)):null!=(u=l)&&u.TwineScript_Unstorable&&O(p)?v.create("datatype",e+"'s "+k(s+1)+" value, "+T(l)+", is not valid data for this macro.",o):b.isPrototypeOf(l)&&"Changer"===h?v.create("syntax","Please put this hook outside the parentheses of "+e+", not inside it.","Hooks should appear after a macro"+(a?".":": "+m+"[Some text]")):l&&y.isPrototypeOf(l)&&"lambda"===p.pattern?v.create("datatype",e+"'s "+k(s+1)+" value (a lambda) should have "+S(["where","when","making","via","with"].filter(function(e){return p.clauses.includes(e)}).map(function(e){return"a '"+e+"' clause"}))+", not "+S(["where","when","making","via","with"].filter(function(e){return e in l}).map(function(e){return"a '"+e+"' clause"}))+"."):"insensitive set"===p.pattern?v.create("datatype",T(l)+" is not a valid name string for "+e+".","Only the following names are recognised (capitalisation and hyphens ignored): "+S(p.innerType)+"."):v.create("datatype","".concat(e,"'s ").concat(k(s+1)," value is ").concat(T(l),", but should be ").concat(_(p),"."),p.message||o)}return d.apply(null,[n].concat(r))}function f(e,t,n,r){var a={fn:n,typeSignature:r=[].concat(r||[]),returnType:t};Object.freeze(a),[].concat(e).forEach(function(e){return Object.defineProperty(i,w(e),{value:a})})}var s={has:function(e){return e=w(e),hasOwnProperty.call(i,e)},get:function(e){return e=w(e),hasOwnProperty.call(i,e)&&i[e]},add:function e(t,n,r,a){return f(t,n,r,a),e},addChanger:function e(t,n,r,a){return f(t,"Changer",n,a),o.register(x(t)?t[0]:t,r),e},addCommand:function e(t,n,r,a){var s,c,l,u,o=!(4<arguments.length&&void 0!==arguments[4])||arguments[4],i=[].concat(t)[0];return f(t,"Command",(s=i,c=n,l=r,u=o,function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a,o,i=c.apply(void 0,n);return i||(a=p.create(),o=_objectSpread({TwineScript_TypeID:"command",TwineScript_ObjectName:"a (".concat(s,":) command"),TwineScript_TypeName:"a (".concat(s,":) command"),TwineScript_Print:function(){return"`[A (".concat(s,":) command]`")},TwineScript_ToSource:function(){return"(".concat(s,":").concat(n.map(d),")")},TwineScript_is:function(e){return d(this)===d(e)}},u?{TwineScript_Attach:function(e,t){return a.section=e,t.run(a),o},TwineScript_Run:function(e){e=l.apply(void 0,[a,e].concat(n));return a=p.create(),e}}:{TwineScript_Run:function(e){return l.apply(void 0,[e].concat(n))}}))}),a),e},TypeSignature:{optional:function(e){return{pattern:"optional",innerType:e}},zeroOrMore:function(e){return{pattern:"zero or more",innerType:e}},either:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return{pattern:"either",innerType:t}},rest:function(e){return{pattern:"rest",innerType:e}},insensitiveSet:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return{pattern:"insensitive set",innerType:t}},numberRange:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1/0;return{pattern:"range",min:t,max:n,range:function(e){return"number"==typeof e&&!Number.isNaN(e)&&t<=e&&e<=n}}},nonNegativeInteger:{pattern:"range",integer:!0,min:0,max:1/0,range:function(e){return"number"==typeof e&&!Number.isNaN(e)&&0<=e&&!(e+"").includes(".")}},positiveInteger:{pattern:"range",integer:!0,min:1,max:1/0,range:function(e){return"number"==typeof e&&!Number.isNaN(e)&&1<=e&&!(e+"").includes(".")}},wrapped:function(e,t){return{pattern:"wrapped",innerType:e,message:t}},Any:{TwineScript_TypeName:"anything"},Everything:{TwineScript_TypeName:"everything"}},run:function(e,t,n){return s.has(e)?a(e,s.get(e),t,n):v.create("macrocall","I can't run the macro '"+e+"' because it doesn't exist.","Did you mean to run a macro? If you have a word written like (this:), it is regarded as a macro name.")},runCustom:function(e,t,n){return r.isPrototypeOf(e)?a(e,e,t,n):v.containsError(e)?e:v.create("macrocall","I can't call ".concat(T(e)," because it isn't a custom macro."))}};return Object.assign(s.TypeSignature,{positiveNumber:s.TypeSignature.numberRange(Math.pow(2,-52),1/0),nonNegativeNumber:s.TypeSignature.numberRange(0,1/0),percent:s.TypeSignature.numberRange(0,1)}),Object.freeze(s)}),define("passages",["jquery","utils/naturalsort","utils","markup","internaltypes/twineerror"],function(t,s,e,c,l){var u=e.insensitiveName,p=e.unescape,n=e.onStartup,o=e.impossible,d=Object.assign,f=RegExp(c.Patterns.macroFront+c.Patterns.macroName,"ig");function r(e){var t,r,a,o,n=e.attr("name"),i=p(e.html()),s=(t=n,o=["metadata","storylet","exclusivity","urgency"],((s=i).match(f)||[]).some(function(t){return o.some(function(e){return u(t.slice(1,-1))===e})})?(r=!1,a={},c.lex(s,t).children.forEach(function e(t){if("macro"===t.type){var n=u(t.name);if(o.some(function(e){return n===e})){if(l.isPrototypeOf(a[n]))return;if(r)return void(a[n]=l.create("syntax","The (".concat(t.name,":) macro can't appear after non-metadata macros.")));if(a[n])return void(a[n]=l.create("syntax","There is more than one (".concat(t.name,":) macro.")));a[n]=t}else r=!0;t.children.forEach(function e(t){var n=u(t.name);"macro"===t.type&&o.some(function(e){return n===e})?a[n]=l.create("syntax","The (".concat(t.name,":) macro can't be inside another macro.")):t.children.forEach(e)})}else t.children.forEach(e)}),a):{});return d(new Map([["source",i],["tags",(e.attr("tags")||"").split(/\s/)||[]],["name",n]]),{TwineScript_TypeName:"a passage datamap",TwineScript_ObjectName:"a passage datamap",metadata:s,tree:null})}var a=Object.create(null),i=[],h=null,m=d(new Map,{TwineScript_ObjectName:"the Passages datamap",getTagged:function(n){var e,r;return a[n]||(e=s("en",function(e){return e.get("name")}),r=[],this.forEach(function(e){var t=e instanceof Map&&e.get("tags");Array.isArray(t)&&t.includes(n)&&r.push(e)}),r.sort(e),a[n]=r)},clearTagCache:function(){a=Object.create(null)},clear:function(){Map.prototype.clear.call(this),this.clearTagCache(),this.clearTreeCache(),this.clearStoryletCache()},delete:function(){var e;(e=Map.prototype.delete).call.apply(e,[this].concat(Array.prototype.slice.call(arguments))),this.clearTagCache(),this.clearTreeCache(),this.clearStoryletCache()},getTree:function(e){if(!this.has(e))return o("Passages.getTree","No passage name?"),[];var t=this.get(e),n=t.get("tags");if(n.includes("header")||n.includes("footer")||n.includes("debug-header")||n.includes("debug-footer"))return t.tree||(t.tree=c.lex(t.get("source"),e)),t.tree;for(var r,a=0;a<i.length;a+=1)if(i[a]&&i[a].place===e)return r=i.splice(a,1)[0],i.unshift(r),r;n=c.lex(t.get("source"),e);return i.unshift(n),16<i.length&&i.pop(),n},clearTreeCache:function(){i=[]},getStorylets:function(r,e){var a,o,i,e=e?e.filter(r,_toConsumableArray(m.values())):_toConsumableArray(m.values());return l.containsError(e)?e:(a=[],o=-1/0,e.reduce(function(e,t){if(e)return e;e=t.get("storylet");if(e){var n=r.speculate(e,t.get("name"),"a (storylet:) macro");if(l.containsError(n))return n.message="There's an error in the storylet passage \""+t.get("name")+'":\n'+n.message,n.source=e.TwineScript_ToSource(),n;n&&(e=t.get("exclusivity"),o=Math.max(o,"number"==typeof e?e:0),a.push(t))}},void 0)||(i=s("en"),a.filter(function(e){e=e.get("exclusivity");return("number"==typeof e?e:0)===o}).sort(function(e,t){var n=e.get("urgency"),r=t.get("urgency");return(n="number"==typeof n?n:0)!==(r="number"==typeof r?r:0)?r-n:i(e.get("name"),t.get("name"))})))},allStorylets:function(){return h=h||_toConsumableArray(m.values()).filter(function(e){return e.get("storylet")})},clearStoryletCache:function(){h=null},loadMetadata:function(i){var s=[];return m.forEach(function(o){o.metadata&&Object.keys(o.metadata).forEach(function(e){var t,n,r;function a(e,t){o.has(e)?s.push(l.create("syntax","This passage's datamap already has a '"+JSON.stringify(e)+"' data name.")):o.set(e,t)}l.containsError(o.metadata[e])?s.push(o.metadata[e]):(t=o.metadata[e],n=i.speculate(t,o.get("name"),"a ("+e+":) macro"),r='In "'+o.get("name")+'":\n',l.containsError(n)?(n.message=r+n.message,n.source=t.text,s.push(n)):n instanceof Map?n.forEach(function(e,t){return a(t,e)}):a(e,n))}),o.metadata=void 0}),s},hasValid:function(e){e=this.get(e);return e&&e instanceof Map&&e.has("source")},create:r});return n(function(){t("tw-storydata > tw-passagedata").get().forEach(function(e){e=t(e),m.set(e.attr("name"),new r(e))})}),m}),define("renderer",["jquery","utils","markup","internaltypes/twineerror"],function(a,e,S,T){var _=e.escape,x=e.insensitiveName,O=e.options;function A(e,t,n){n=2<arguments.length&&void 0!==n?n:"";return"<"+t+(n?" "+n:"")+">"+e+"</"+t+">"}var C="text-align: center; max-width:50%; ";function E(m,g){function y(e,t,n){e=E(e.children,g);return e&&A(e,t,n)}var b="",v=[];if(m)for(var e,w=(m=Array.isArray(m)?m:[m]).length,k=0;k<w;k+=1)if(e=function(e){var n=m[e];switch(n.type){case"include":b+=y(n,"tw-"+n.type,'type="'.concat(n.tag,'" name="').concat(n.name,'"'));break;case"error":b+=T.create("syntax",n.message,n.explanation).render(_(n.text))[0].outerHTML;break;case"numbered":case"bulleted":for(var t="numbered"===n.type?"ol":"ul",r=(b+="<"+t+">",1);e<w&&m[e];){if("br"===m[e].type){if(b+="</li>",!m[e+1]||m[e+1].type!==n.type)break}else m[e].type===n.type?(b=(b+=("<"+t+">").repeat(Math.max(0,m[e].depth-r)))+("</"+t+">").repeat(Math.max(0,r-m[e].depth))+"<li>",r=m[e].depth):b+=E([m[e]],g);e+=1}b+=("</"+t+">").repeat(r+1);break;case"align":for(;n&&"align"===n.type;){var a=n.align,o=e+=1;if("left"===a){--e;break}for(;e<w&&m[e]&&"align"!==m[e].type;)e+=1;var o=E(m.slice(o,e),g),i="";switch(a){case"center":i+=C+"margin-left: auto; margin-right: auto;";break;case"justify":case"right":i+="text-align: "+a+";";break;default:+a&&(i+=C+"margin-left: "+a+"%;")}b+="<tw-align "+(i?'style="'+i+'"':"")+">"+o+"</tw-align>\n",n=m[e]}break;case"column":for(var s,c=[];n&&"column"===n.type;){var l=n.column,u=e+=1;if("none"===l){--e;break}for(;e<w&&m[e]&&"column"!==m[e].type;)e+=1;c.push({text:n.text,type:l,body:E(m.slice(u,e),g),width:n.width,marginLeft:n.marginLeft,marginRight:n.marginRight}),n=m[e]}c.length&&(s=c.reduce(function(e,t){return e+t.width},0),b+="<tw-columns>"+c.map(function(e){return"<tw-column type=".concat(e.type," ",' style="width:').concat(e.width/s*100,"%; margin-left: ").concat(e.marginLeft,"em; margin-right: ").concat(e.marginRight,'em;">').concat(e.body,"</tw-column>\n")}).join("")+"</tw-columns>");break;case"heading":for(b+="<h"+n.depth+">";++e<w&&m[e];){if("br"===m[e].type){b+="</h"+n.depth+">";break}b+=E([m[e]],g)}break;case"br":if(!v.length||/td|th/.test(v[0])){b+="<br>";for(var p=m[e+1];p&&("br"===p.type||"tag"===p.type&&/^<br\b/i.test(p.text));)b+="<tw-consecutive-br"+("tag"===p.type?" data-raw":"")+"></tw-consecutive-br>",p=m[(e+=1)+1]}break;case"hr":b+="<hr>";break;case"escapedLine":case"comment":break;case"inlineUrl":b+='<a class="link" href="'+_(n.text)+'">'+n.text+"</a>";break;case"scriptStyleTag":case"tag":var d=n.text.toLowerCase();/^<\/?(?:table|thead|tbody|tr|tfoot|td|th|svg)\b/.test(d)&&!n.text.endsWith("/>")&&v[n.text.startsWith("</")?"shift":"unshift"](d),b+=n.text.startsWith("</")?n.text:n.text.replace(/(\/)?>$/,function(e,t){return" data-raw".concat(t?"></".concat(n.text.match(/[\w-]+/)):"",">")});break;case"sub":case"sup":case"strong":case"em":b+=y(n,n.type);break;case"strike":b+=y(n,"s");break;case"bold":b+=y(n,"b");break;case"italic":b+=y(n,"i");break;case"twineLink":d=_slicedToArray(S.lex("(link-goto:"+JSON.stringify(n.innerText)+","+JSON.stringify(n.passage)+")").children,1)[0];b+='<tw-expression type="macro" name="link-goto"'+(O.debug?' title="'+_(n.text)+'"':"")+' code="'+g.code.length+'"></tw-expression>',g.code.push(d);break;case"hook":b+="<tw-hook "+(n.hidden?"hidden ":"")+(n.name?'name="'+x(n.name)+'"':"")+(O.debug&&n.name?' title="Hook: ?'+n.name+'"':"")+' source="'+g.source.length+'"></tw-hook>',g.source.push(n.children);break;case"unclosedHook":return b+="<tw-hook "+(n.hidden?"hidden ":"")+(n.name?'name="'+x(n.name)+'"':"")+'source="'+g.source.length+'"></tw-hook>',g.source.push(m.slice(e+1,w)),{v:b};case"verbatim":b+=A(_(n.innerText).replace(/\n/g,"<br>"),"tw-verbatim");break;case"collapsed":b+=y(n,"tw-collapsed");break;case"unclosedCollapsed":return{v:b+="<tw-collapsed>"+E(m.slice(e+1,w),g)+"</tw-collapsed>"};case"variable":case"tempVariable":case"macro":var f=[],h=[];if("macro"===n.type&&!function e(t){"string"!==t.type&&"hook"!==t.type&&t.children.every(e);var n=x(t.name);if("macro"!==t.type||"prompt"!==n&&"confirm"!==n){if("hook"===t.type&&!t.everyLeaf(function(e){return"error"!==e.type||(h.push(e),!1)}))return!1}else f.push(t);return!0}(n),h.length)return{v:T.create("syntax","This code hook's markup contained "+h.length+" error"+(h.length?"s":"")+":<br>\u2014"+h.map(function(e){return e.message}).join("<br>\u2014")).render(_(n.text))[0].outerHTML};d=f.map(function(e){return e.blockerTree=g.blockers.length,g.blockers.push(e),e.blockerTree});b+='<tw-expression type="'+n.type+'" name="'+_(n.name||n.text)+'"'+(O.debug?' title="'+_(n.text)+'"':"")+(d.length?' blockers="'+d+'"':"")+' code="'+g.code.length+'"></tw-expression>',g.code.push(n);break;default:b+=n.children&&n.children.length?E(n.children,g):n.text}k=e}(k))return e.v;return b}return Object.freeze({exec:function(e){var r={code:[],blockers:[],source:[]},e=E(e="string"==typeof e?S.lex(e).children:e,r),e=a(a.parseHTML(e,document,!0));return e.findAndFilter("script:not([src])").each(function(e,t){var n=t.getAttribute("type");n&&"text/javascript"!==n.toLowerCase()||t.setAttribute("type","application/x-harlowe")}),r.blockers=r.blockers.map(function(e){e.blockedValue=!0;e=Object.create(e);return e.blockedValue=!1,e}),e.findAndFilter("tw-expression[code]:not([data-raw]), tw-expression[blockers]:not([data-raw]), tw-hook[source]:not([data-raw])").each(function(e,t){var n;(t=a(t)).attr("blockers")&&(n=t.popAttr("blockers").split(",").map(function(e){return r.blockers[e]}),t.data("blockers",n)),t.attr("source")&&t.data("source",r.source[t.popAttr("source")]),t.attr("code")&&t.data("code",r.code[t.popAttr("code")])}),e}})}),define("repl",["utils","markup","section"],function(e,t,n){e.onStartup(function(){return setTimeout(function(){e.options.debug&&(window.REPL=function(e){e=n.create().eval(t.lex("(print:"+e+")"));return e.TwineScript_Run?e.TwineScript_Run().source:e},window.LEX=function(e){e=t.lex(e);return 1===e.length?e[0]:e})})})}),define("section",["jquery","utils","twinescript/runner","twinescript/operations","state","utils/operationutils","utils/renderutils","utils/scripttag","datatypes/changercommand","datatypes/colour","datatypes/lambda","datatypes/codehook","internaltypes/changedescriptor","internaltypes/varscope","internaltypes/twineerror","internaltypes/twinenotifier"],function(p,f,a,u,r,e,t,i,d,h,o,m,g,y,b,v){var w=e.printBuiltinValue,k=e.objectName,S=e.typeID,T=e.isObject,s=t.collapse,_=Object.assign,x=Object.create,O=Object.keys;function A(e,t,n){if(t&&"object"===_typeof(t)&&d.isPrototypeOf(t)){var r=n.popData("source")||(null==(r=n[0].cachedData)?void 0:r.source),a=(null!=(a=n[0])&&a.cachedData&&(n[0].cachedData.source=void 0),n.data("originalSource",r),g.create({target:n,source:r,section:this,append:"append"})),o=t.run(a);if(b.containsError(o)&&e.replaceWith(o.render(e.attr("title"))),!this.renderInto(r,null,a))return o=f.insensitiveName(e.attr("name")),["if","elseif","unless","else","testfalse"].includes(o)&&(e.addClass("false"),"elseif"!==o)&&(this.stackTop.lastHookShown=!1),n.data("live")&&function(t,n,r){function a(e){p&&(d-=(e-p)*(f.options.debug&&void 0!==f.options.speedMultiplier?f.options.speedMultiplier:1)),p=e,0<d?requestAnimationFrame(a):(d=s,o())}var o,i=this,e=r.data("live"),s=e.delay,c=e.event,l=((n=_objectSpread(_objectSpread({},n),{},{append:"replace",transitionDeferred:!1,enabled:!0})).data=_objectSpread(_objectSpread({},n.data),{},{live:void 0}),r.data("originalSource")||""),u=this.stackTop.tempVariables,p=null,d=s;o=this.whenUnblocked.bind(this,function(){var e;i.inDOM()&&(e=null==c?void 0:c.filter(i,[!0],u),b.containsError(e)?e.render(i,t.attr("title")).replaceAll(t):c&&!e[0]?requestAnimationFrame(a):(i.renderInto(l,r,n,u),e||r.find("tw-expression[name='stop']").length||i.inDOM()&&requestAnimationFrame(a)))}),requestAnimationFrame(a)}.call(this,e,a,n),!0}else{if(!1===t)return o=n.popData("source")||(null==(r=n[0].cachedData)?void 0:r.source),null!=(a=n[0])&&a.cachedData&&(n[0].cachedData.source=void 0),o&&(n.cachedData&&(n.cachedData.source=void 0),n.data("originalSource",o),n.data("hidden",!0)),e.addClass("false"),!(this.stackTop.lastHookShown=!1);if(!0!==t)return!1}return this.stackTop.lastHookShown=!0}function C(e){var t,n,e=(e instanceof p?e[0]:e).nextSibling;return e&&(e instanceof Text&&!e.textContent.trim()||["br","tw-consecutive-br"].includes((e.tagName||"").toLowerCase()))?(t=(n=C(e)).whitespace,n=n.nextElem,{whitespace:p(e).add(t),nextElem:n}):{whitespace:p(),nextElem:p(e)}}function E(e){if(null!=e&&e.length)return p("<tw-open-button replay label='\ud83d\udd0d'>").data("evalReplay",e)}function c(e,t){var n=this.eval(t);e.append(E(this.evalReplay)),e.append(function(e,t){if(/a \((go-to|undo|redirect|restart):\) command/.exec(null==t?void 0:t.TwineScript_TypeName))return p("<tw-open-button goto label='GO'>").data("goto",{section:e,command:t})}(this,n)),this.stackTop.evaluateOnly&&n&&(d.isPrototypeOf(n)||"function"==typeof n.TwineScript_Run)&&(n=b.create("syntax","I can't work out what ".concat(this.stackTop.evaluateOnly," should evaluate to, because it contains a ").concat(d.isPrototypeOf(n)?"changer.":"command."),"Please rewrite this without putting changers or commands here."));var r=p();for(i=e;d.isPrototypeOf(n);){var a=C(i),o=a.whitespace;if((i=a.nextElem)[0]&&i[0].nodeType===Node.TEXT_NODE&&"+"===i[0].textContent.trim()){var i,a=i,s=C(a),c=s.whitespace;if((i=s.nextElem).is("tw-expression")){var s=i.popData("code")||(null==(s=i[0])||null==(s=s.cachedData)?void 0:s.code),l=(null!=(l=i[0])&&l.cachedData&&(i[0].cachedData.code=void 0),this.eval(s));if(b.containsError(l)){n=l;break}s=u["+"](n,l);p(o).add(a).add(c).remove(),n=b.containsError(s)?b.create("operation","I can't combine "+k(n)+" with "+k(l)+".","function"==typeof l.TwineScript_Run?"If you want to attach this changer to ".concat(k(l),", remove the + between them."):"Changers can only be added to other changers."):s;continue}}if(i.is("tw-expression")){c=i.popData("code")||(null==(a=i[0])||null==(a=a.cachedData)?void 0:a.code),s=(null!=(l=i[0])&&l.cachedData&&(i[0].cachedData.code=void 0),this.eval(c));if(i.append(E(this.evalReplay)),b.containsError(s)){n=s;break}if(s&&"object"===_typeof(s)&&"function"==typeof s.TwineScript_Attach){n=s.TwineScript_Attach(this,n);break}return d.isPrototypeOf(s)?void e.replaceWith(b.create("operation","Changers like (".concat(n.macroName,":) need to be combined using + between them."),"Place the + between the changer macros, or the variables holding them. The + is absent only between a changer and its attached hook or command.").render(e.attr("title"))):void e.replaceWith(b.create("operation","".concat(k(s)," can't have changers like (").concat(n.macroName,":) attached."),"Changers placed just before hooks, links and commands will attempt to attach, but in this case it didn't work.").render(e.attr("title")))}if(i.is("tw-hook")){o.remove(),r=i;break}n.macroName||f.impossible("Section.runExpression","changer has no macroName");a=e.attr("title")||"("+n.macroName+": ...)";return void e.replaceWith(b.create("syntax","The (".concat(n.macroName,":) changer should be stored in a variable or attached to a hook."),"Macros like this should appear before a hook: ".concat(a,"[Some text]")).render(e.attr("title")))}e.attr("return",S(n)),r=r.length?r:C(e).nextElem.filter("tw-hook"),(t=b.containsError(n))?e.replaceWith(t.render(e.attr("title")).append(E(this.evalReplay))):v.isPrototypeOf(n)?e.append(n.render()):n&&"function"==typeof n.TwineScript_Run?(n=n.TwineScript_Run(this),b.containsError(n)?e.replaceWith(n.render(e.attr("title"))):g.isPrototypeOf(n)?null!=(t=n.data)&&t.live?e.replaceWith(b.create("unimplemented","I currently can't attach (live:) or (event:) macros to commands - only hooks.").render(e.attr("title"))):(n.section=this,n.target=i,this.renderInto("",i,n)):T(n)&&n.blocked?(this.stackTop.blocked=n.blocked,e.data("code",{type:"macro",blockedValue:!0,text:e.attr("title")||"",start:0,end:(e.attr("title")||"").length})):n&&f.impossible("Section.runExpression","TwineScript_Run() returned a non-ChangeDescriptor ".concat(_typeof(n),': "').concat(n,'"'))):r.length&&A.call(this,e,n,r)||("string"==typeof n||"number"==typeof n||n instanceof Map||n instanceof Set||Array.isArray(n)||h.isPrototypeOf(n)||m.isPrototypeOf(n)||n&&"function"==typeof n.TwineScript_Print&&!d.isPrototypeOf(n)?(n=w(n),b.containsError(n)?e.replaceWith(n.render(e.attr("title"))):"string"==typeof n||Array.isArray(n)?this.renderInto(n,e):f.impossible("printBuiltinValue() produced a non-string non-array ".concat(_typeof(n)))):d.isPrototypeOf(n)||"boolean"==typeof n||f.impossible("Section.runExpression","The expression evaluated to an unknown value: ".concat(n)))}var l={add:[],remove:[]};return Object.preventExtensions({create:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:f.storyElement,n=_(x(this),{timestamp:Date.now(),dom:e,stack:[],enchantments:[],unblockCallbacks:[],freeVariables:null,evalReplay:null,loadedGame:!1,Identifiers:{TwineScript_Identifiers:!0,it:0,get time(){var e;return null!=(e=n.stackTop)&&e.evaluateOnly?b.create("operation","'time' can't be used in ".concat(n.stackTop.evaluateOnly,".")):(Date.now()-n.timestamp)*(f.options.debug&&void 0!==f.options.speedMultiplier?f.options.speedMultiplier:1)},get turns(){return r.turns},get turn(){return r.turns},get visits(){var t=n.stackTop.speculativePassage;return r.history().filter(function(e){return e===(t||r.passage)}).length+(!t||t===r.passage)},get visit(){return n.Identifiers.visits},get exits(){var e;return null!=(e=n.stackTop)&&e.evaluateOnly?b.create("operation","'exit' and 'exits' can't be used in ".concat(n.stackTop.evaluateOnly,".")):n.dom.find("tw-enchantment, tw-link").filter(function(e,t){return(t=p(t)).data("enchantmentEvent")||t.parent().data("linkPassageName")||t.parent().data("clickEvent")}).length},get exit(){return n.Identifiers.exits},get pos(){return n.stackTop&&!n.stackTop.evaluateOnly&&n.stackTop.lambdaPos?+n.stackTop.lambdaPos||1:b.create("operation","'pos' can only be used in lambdas that aren't 'when' lambdas.")}}});return n},eval:function(t){var e,n;f.options.debug&&f.options.evalReplay&&(n=Array.isArray(t)?t.reduce(function(e,t){return e+t.text},""):t.text||"",this.evalReplay=[{code:n,fromCode:n,basis:(Array.isArray(t)?t[0]:t).start,start:0,end:n.length,diff:0}]);try{e=a(this,t)}catch(e){return null!=(n=window.console)&&n.error(e),this.evalReplay=null,b.create("","An internal error occurred while trying to run ".concat([].concat(t).map(function(e){return e.text}).join(""),"."),'The error was "'.concat(e.message,'".\nIf this is the latest version of Harlowe, please consider reporting a bug (see the documentation).'))}return this.evalReplay&&2===this.evalReplay.length&&this.evalReplay.shift(),e},get stackTop(){return this.stack[0]},inDOM:function(){return 0<f.storyElement.find(this.dom).length},evaluateTwineMarkup:function(e,t){var n=p("<p>");return this.stack.unshift({desc:g.create({target:n,source:e,section:this,append:"append"}),tempVariables:this.stackTop.tempVariables,evaluateOnly:t,finalIter:!0}),this.execute(),0<(e=n.find("tw-error")).length?e:n},speculate:function(e,t,n){this.stack.unshift({evaluateOnly:n,finalIter:!0,tempVariables:_(x(y),{TwineScript_VariableStore:{type:"temp",name:n}}),speculativePassage:t});var r,n=this.evalReplay;return this.evalReplay=null,o.isPrototypeOf(e)?r=e.apply(this,{fail:!1,pass:!0}):e&&(r=a(this,e)),this.stack.shift(),this.evalReplay=n,r},renderInto:function(e,a,t){var o=this,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,i=g.create({target:a,source:e,section:this,append:"append"});if(t)if(d.isPrototypeOf(t)){var e=t.run(i);if(b.containsError(e))return e.render(a.attr("title")).replaceAll(a),!1}else _(i,t);if((a=i.target,50<=this.stack.length)&&50<=this.stack.reduce(function(e,t){return e+!!t.finalIter},0))return b.create("infinite","Printing this expression may have trapped me in an infinite loop.").render(a.attr("title")).replaceAll(a),!1;var s=function(e,t,n){var r=a instanceof p&&a.is("tw-hook")&&0<a.parents("tw-collapsed,[collapsing=true]").length;o.stack.unshift({desc:e,finalIter:n,tempVariables:t,collapses:r,evaluateOnly:o.stackTop&&o.stackTop.evaluateOnly})},r=r||x(this.stack.length?this.stackTop.tempVariables:y),t=(hasOwnProperty.call(r,"TwineScript_VariableStore")||(t=null==(e=a)?void 0:e.tag(),r.TwineScript_VariableStore={type:"temp",name:"tw-hook"===t?a.attr("name")?"?"+a.attr("name"):"an unnamed hook":"tw-expression"===t?"a "+a.attr("type")+" expression":"tw-passage"===t?"this passage":"an unknown scope"}),null==(e=this.stackTop)?void 0:e.blocked);if(O(i.loopVars).length){var c=_objectSpread({},i.loopVars),l=Math.min.apply(Math,_toConsumableArray(O(c).map(function(e){return c[e].length})));if(v.create(l+" loop"+(1!==l?"s":"")).render().prependTo(a),l){for(var n=l-1;0<=n;--n)!function(n){s(i,O(c).reduce(function(e,t){return e[t]=c[t][n],e},x(r),n===l-1))}(n);for(var u=l-1;0<=u&&!this.stackTop.blocked;--u)this.execute()}}else s(i,r,!0),this.execute();return(0===this.stack.length||!t&&null!=(e=this.stackTop)&&e.blocked)&&this.updateEnchantments(),i.enabled},execute:function(){var a=this,e=this.stackTop,t=e.desc,n=e.dom,r=e.collapses,o=e.evaluateOnly;t&&!n&&(n=t.render(),this.stackTop.dom=n,this.stackTop.desc=void 0),n.findAndFilter('tw-hook,tw-expression,script[type="application/x-harlowe"]').each(function(e,t){var n=p(t).data();t.cachedData={blockers:n.blockers,code:n.code,source:n.source}}).each(function(e,t){if(a.stackTop.blocked)return!1;var n=t.cachedData;switch(n&&(t.cachedData=void 0),(t=p(t)).tag()){case"tw-hook":var r=t.popData("source")||(null==n?void 0:n.source);(r&&t.data("originalSource",r),t.data("tempVariables",a.stackTop.tempVariables),t.popAttr("hidden"))?t.data("hidden",!0):r&&a.renderInto(r,t);break;case"tw-expression":var r=t.data("blockers")||(null==n?void 0:n.blockers);if(r){if(o)return void t.removeData("blockers").removeData("code").replaceWith(b.create("syntax","I can't use a macro like (prompt:) or (confirm:) in ".concat(o,"."),"Please rewrite this without putting such macros here.").render(t.attr("title"),t));if(r.length)return a.stackTop.blocked=!0,r=a.eval(r.shift()),b.containsError(r)&&(a.stackTop.blocked=!1,t.removeData("blockers").replaceWith(r.render(t.attr("title"),t))),!1;t.removeData("blockers")}r=t.popData("code")||(null==n?void 0:n.code);r&&c.call(a,t,r);break;case"script":if(f.reattachStoryElement(),t.text())try{i(t.text(),a.stackTop.tempVariables)}catch(e){b.isPrototypeOf(e)?t.replaceWith(e.render(t.text(),t)):(null!=(r=window.console)&&r.error(e),t.replaceWith(b.create("","A Javascript error occurred while running this <script> element.",'The error was "'.concat(e,'". Check the browser console for more details.')).render(t.text(),t)))}}}),this.stackTop.blocked||(n.length&&r&&s(n),n.findAndFilter("tw-collapsed,[collapsing=true]").each(function(){s(p(this))}),setTimeout(function(){return n.find("input, textarea").first().focus()},100),this.stack.shift())},updateEnchantments:function(){this.enchantments.forEach(function(e){e.disenchant(),e.enchantScope()})},on:function(e,t){return l[e].push(t),this},addEnchantment:function(t){var n=this;this.enchantments.push(t),l.add.forEach(function(e){return e(n,t)})},removeEnchantment:function(t){var n=this,e=this.enchantments.indexOf(t);this.enchantments.splice(e,1),t.disenchant(),l.remove.forEach(function(e){return e(n,t)})},unblock:function(e){for(this.stack.length||f.impossible("Section.unblock","stack is empty"),this.stackTop.blocked=!1,void 0!==e&&(this.stackTop.blockedValues=(this.stackTop.blockedValues||[]).concat(e));this.stack.length&&!this.stackTop.blocked;)this.execute();if(!this.stack.length)for(;0<this.unblockCallbacks.length;){var t;if(this.unblockCallbacks.shift()(),null!=(t=this.stackTop)&&t.blocked)return}},whenUnblocked:function(e,t){this.stack.length&&this.stackTop.blocked?this.unblockCallbacks=this.unblockCallbacks.concat(e):(t||e)()},blockedValue:function(){var e=this.stackTop;return e?e.blockedValues&&e.blockedValues.length?e.blockedValues.shift():(f.impossible("Section.blockedValue","blockedValues is missing or empty"),0):(f.impossible("Section.blockedValue","stack is empty"),0)}})}),define("state",["jquery","utils","passages","datatypes/customcommand","utils/operationutils","markup"],function(n,y,b,v,e,t){var i,w,C=e.toSource,E=e.is,k=t.lex,o=Object.assign,h=Object.create,e=Object.defineProperty,N=Array.isArray,s=Math.imul,t=(e(Map.prototype,"toJSON",{value:void 0}),e(Set.prototype,"toJSON",{value:void 0}),["localStorage","sessionStorage"].map(function(e){try{return!!window[e]&&(window[e].setItem("test","1"),window[e].removeItem("test"),!0)}catch(e){return!1}}));function S(e,t){var n=0<arguments.length&&void 0!==e?e:String.fromCodePoint(Date.now()%1114112),e=1<arguments.length&&void 0!==t?t:0;i.seedIter=e,i.seed=n;for(var r,a=0,o=2166136261;a<n.length;a+=1)r=s(n.charCodeAt(a),3432918353),o^=s(r<<15|r>>>17,461845907),o=s(o=o<<13|o>>>19,5)+3864292196|0;return o^=n.length,o=s(o^=o>>>16,2246822507),o=s(o^=o>>>13,3266489909),o=((o^=o>>>16)>>>0)+1831565813*e,function(){i.seedIter+=1;var e=o+=1831565813,e=s(e^e>>>15,1|e);return(((e^=e+s(e^e>>>7,61|e))^e>>>14)>>>0)/4294967296}}function r(e,t){for(var n,r=t.variables,a=h(null),o=e.length-1;0<=o;--o){for(var i,s,c=e[o],l=0,u=["mockVisits","mockTurns","seed","seedIter"];l<u.length;l++){var p=u[l];hasOwnProperty.call(c,p)&&!hasOwnProperty.call(t,p)&&(t[p]=c[p])}for(i in c.forgetVisits&&(t.forgetVisits=Math.max(t.forgetVisits||0,c.forgetVisits)),void 0!==c.turns&&(t.turns=(t.turns||0)+c.turns),t.pastVisits||(t.pastVisits=[]),o!==e.length-1&&(void 0!==e[o+1].visits&&Array.isArray(t.pastVisits[0])?t.pastVisits[0]:t.pastVisits).unshift(c.passage),void 0!==c.pastVisits&&t.pastVisits.unshift(c.pastVisits),void 0!==c.visits&&t.pastVisits.unshift(c.visits),c.variables)if("TwineScript_TypeDefs"===i)for(var d in r[i]||(r[i]=h(null)),c.variables[i])r[i][d]||(r[i][d]=c.variables[i][d]);else i.startsWith("TwineScript_")||i in r||(null===c.variables[i]&&(a[i]=!0),a[i])||(r[i]=c.variables[i],!(s=c.valueRefs[i]))||"via"in s||t.valueRefs[i]||(t.valueRefs[i]=s)}for(n in t.valueRefs){var f=t.valueRefs[n];f&&"via"in f&&delete t.valueRefs[n]}}var a,c={passage:"",variables:h(null),visits:void 0,turns:void 0,seed:void 0,seedIter:void 0,mockVisits:void 0,mockTurns:void 0,forgetVisits:void 0,create:function(e){var t=h(c);return t.passage=e||"",t.variables=h(null),t.valueRefs=h(null),t}},l={forward:[],back:[],load:[],beforeForward:[],beforeBack:[],beforeLoad:[],forgetUndos:[]},u=[],p=-1,d=c.create(),f="";function m(){i.history=i.pastVisits.slice(i.forgetVisits).reduce(function(e,t){return e.concat(t)},[]),i.mockVisits&&(i.history=i.mockVisits.concat(i.history))}function g(){var e=c.create();e.pastVisits=[],o(e.variables,{TwineScript_ObjectName:"this story's variables",TwineScript_TypeDefs:h(null),TwineScript_VariableStore:{type:"global",name:"this story's variables"},TwineScript_Delete:function(e){delete this[e],d.variables[e]=null,delete d.valueRefs[e]},TwineScript_Set:function(e,t,n){if(this[e]=t,d.variables[e]=t,n)d.valueRefs[e]=n;else if((N(t)||t instanceof Map||t instanceof Set||"string"==typeof t)&&!y.options.uncompressedStructures)for(var r=p;0<=r;--r){var a=u[r].variables[e];if(void 0!==a){a=function e(t,n,r){var a="it"===r?"its":r+"'s",o="";if(N(n)&&N(t)&&n.length){for(var i=n.length===t.length,o="(a:",s=0;s<n.length;s+=1){var c,l,u,p=n[s];E(p,t[s])?(c=C(p),l="".concat(a," ").concat(s+1,"th"),o+=(c.length<l.length?c:l)+","):(i=!1,-1<(c=t.indexOf(p))?(l=C(p),u="".concat(a," ").concat(c+1,"th"),o+=(l.length<u.length?l:u)+","):o+=e(t[s],p,"".concat(a," ").concat(s+1,"th"))+",")}o=i?r:o.slice(0,-1)+")"}else if(n instanceof Map&&t instanceof Map&&n.size){var d,f=n.size===t.size,h=(o="(dm:",_createForOfIteratorHelper(n.entries()));try{for(h.s();!(d=h.n()).done;){var m,g,y=_slicedToArray(d.value,2),b=y[0],v=y[1];o+="".concat(C(b),","),E(v,t.get(b))?(m=C(v),g="".concat(a," (").concat(C(b),")"),o+=(m.length<g.length?m:g)+","):(f=!1,o+=e(t.get(b),v,"".concat(a," (").concat(C(b),")"))+",")}}catch(e){h.e(e)}finally{h.f()}o=f?r:o.slice(0,-1)+")"}else if(n instanceof Set&&t instanceof Set&&n.size){var w,k=new Set,S=new Set,T=_createForOfIteratorHelper(t);try{for(T.s();!(w=T.n()).done;){var _=w.value;n.has(_)||k.add(_)}}catch(e){T.e(e)}finally{T.f()}var x,O=_createForOfIteratorHelper(n);try{for(O.s();!(x=O.n()).done;){var A=x.value;t.has(A)||S.add(A)}}catch(e){O.e(e)}finally{O.f()}k.size||S.size||(o=r),o=k.size+S.size>n.size?C(n):r+(S.size?"+"+C(S):"")+(k.size?"-"+C(k):"")}else"string"==typeof n&&"string"==typeof t&&n&&(n.startsWith(t)?o=r+"+"+C(n.slice(t.length)):n.endsWith(t)&&(o=C(n.slice(0,n.length-t.length))+"+"+r));return o?"it"===r?{via:o}:o:"it"===r?void 0:C(n)}(a,t,"it");a&&("it"===a.via?delete d.variables[e]:d.valueRefs[e]=a);break}}},TwineScript_GetProperty:function(e){return this[e]},TwineScript_DefineType:function(e,t){this.TwineScript_TypeDefs[e]=t,hasOwnProperty.call(d.variables,"TwineScript_TypeDefs")||(d.variables.TwineScript_TypeDefs=h(null)),d.variables.TwineScript_TypeDefs[e]=t}}),r(u.slice(0,p+1),e),i=e,m(),w=S(e.seed,e.seedIter)}function T(e){d=c.create(e);e=a.serialise(!0),f=e.past,e=e.pastAndPresent;if(a.hasSessionStorage&&"string"==typeof e)try{sessionStorage.setItem("Saved Session",e)}catch(e){}}function _(e,t,n,r){for(var a in r)if(hasOwnProperty.call(r,a)&&!a.startsWith("TwineScript_"))if("object"===_typeof(r[a]))if(hasOwnProperty.call(r[a],"at")){n.valueRefs[a]=r[a];var o=r[a],i=o.at,s=o.from,c=o.to,l=o.hash,u=o.seed,p=o.seedIter,o=o.blockedValues;if(!b.has(i))throw Error('The data refers to a passage named `"'.concat(n.passage,"\"`, but it isn't in this story."));var d=b.get(i).get("source"),f=d.slice(s,c);if(void 0!==l)for(var h=0,m=c-s;y.hash(f).toString(16)!==l;){if(h+m>=d.length)throw Error("The value (or type) of the variable `$".concat(a,"` couldn't be found in the passage `\"").concat(i,'"`.'));(h+=1)===s&&(h+=1),f=d.slice(h,h+m)}c=k(f,"","macro");void 0!==u&&void 0!==p&&(w=S(u,p)),void 0!==o&&(e.stackTop.blockedValues=o,c.forEach(function e(t){var n;"string"!==t.type&&"hook"!==t.type&&t.children.every(e),"macro"!==t.type||"prompt"!==(n=y.insensitiveName(t.name))&&"confirm"!==n||(t.blockedValue=!0)})),r[a]=e.eval(c)}else if(hasOwnProperty.call(r[a],"via")){for(var g=t.length-1;0<=g;--g)if(hasOwnProperty.call(t[g].variables,a)){e.Identifiers.it=t[g].variables[a];break}r[a]=e.eval(k(r[a].via,"","macro")),e.Identifiers.it=0}else hasOwnProperty.call(r[a],"changer")&&(r[a].changer=e.eval(k(r[a].changer,"","macro")),r[a].hook=e.eval(k(r[a].hook,"","macro")),_(e,t,n,r[a].variables),r[a]=v.create(r[a]));else r[a]=e.eval(k(r[a],"","macro"));else"TwineScript_MockVisits"===a&&(n.mockVisits=r[a])}return g(),d.seed=i.seed,d.seedIter=0,(a={get passage(){return d.passage},get variables(){return i.variables},get pastLength(){return p},get turns(){return p+1+(i.turns||0)+(i.mockTurns||0)},get futureLength(){return u.length-1-p},get mockVisits(){return i.mockVisits||[]},set mockVisits(e){i.mockVisits=e,d.mockVisits=e,m()},get mockTurns(){return i.mockTurns||0},set mockTurns(e){i.mockTurns=e,d.mockTurns=e},history:function(){return i.history},forgetUndos:function(e){e<0&&(e=u.length+e);var t,e=u.splice(0,Math.min(u.length-1,e));e.length&&(p=u.length-1,t=u[0],r(e,t),t.pastVisits.push(e[e.length-1].passage),t.turns=(t.turns||0)+e.length,i.turns=(i.turns||0)+e.length,t.forgetVisits&&(t.pastVisits=t.pastVisits.slice(t.forgetVisits-t.turns),t.forgetVisits-=t.turns),f="",0===p&&n("tw-link[undo], tw-icon[alt='Undo']",y.storyElement).each(function(e,t){(n(t).closest("tw-expression, tw-hook").data("forgetUndosEvent")||Object)(t)}),l.forgetUndos.forEach(function(e){return e()}))},forgetVisits:function(e){(e=e<0?u.length+e:e)>p+i.turns&&(e=p+i.turns),d.forgetVisits=i.forgetVisits=Math.max(i.forgetVisits||0,e),m()},passageNameVisited:function(e){var t=0;if(!b.get(e))return 0;for(var n=0;n<i.history.length;n++)t+=+(e===i.history[n]);return t},get timeline(){return u},play:function(t){var e;d||y.impossible("State.play","present is undefined!"),l.beforeForward.forEach(function(e){return e()}),d.passage&&((null!=(e=d.visits)&&e.length&&Array.isArray(i.pastVisits[i.pastVisits.length-1])?i.pastVisits[i.pastVisits.length-1]:i.pastVisits).push(d.passage),i.history.push(d.passage)),d.passage=t,u=u.slice(0,p+1).concat(d),p+=1,T(t),l.forward.forEach(function(e){return e(t)})},redirect:function(e){var t;d||y.impossible("State.redirect","present is undefined!"),d.passage&&(null!=(t=d.visits)&&t.length&&Array.isArray(i.pastVisits[i.pastVisits.length-1])?i.pastVisits[i.pastVisits.length-1].push(d.passage):i.pastVisits.push([d.passage]),i.history.push(d.passage)),d.visits=(d.visits||[]).concat(e),d.passage=e},rewind:function(e){for(var t=void 0!==e?e:1,n=!1;0<t&&0<p;t--)n=!0,--p;return n&&(l.beforeBack.forEach(function(e){return e()}),f="",T(u[p].passage),g(),l.back.forEach(function(e){return e()})),n},fastForward:function(e){var t=1,n=!1;for("number"==typeof e&&(t=e);0<t&&0<u.length;t--)n=!0,p+=1;return n&&(l.beforeForward.forEach(function(e){return e()}),T(u[p].passage),g(),l.forward.forEach(function(e){return e(u[p].passage,"fastForward")})),n},on:function(e,t){if(e in l)return"function"!=typeof t||l[e].includes(t)||l[e].push(t),a;y.impossible("State.on","invalid event name")},reset:function(){l.beforeLoad.forEach(function(e){return e()}),u=[],p=-1,g(),(d=c.create()).seed=i.seed,d.seedIter=0,f="",w=S(),l.load.forEach(function(e){return e(u)})},hasStorage:t[0],hasSessionStorage:t[1],setSeed:function(e){w=S(e),d.seed=i.seed,d.seedIter=0},get seed(){return i.seed},get seedIter(){return i.seedIter},random:function(){var e=w();return d.seedIter=i.seedIter,e},shuffled:function(){for(var a=this,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce(function(e,t,n){var r=a.random()*(n+1)|0;return r===n?e.push(t):(e.push(e[r]),e[r]=t),e},[]);return d.seedIter=i.seedIter,r}}).serialise=function(e){function o(e,t){if("TwineScript_TypeDefs"===t){var n,r={};for(n in e[t])r[n]=C(e[t][n]);return r}var a;return null===e[t]?null:e[t]&&hasOwnProperty.call(e[t],"TwineScript_CustomCommand")?(a=e[t].TwineScript_CustomCommand(),{changer:C(a.changer),toSource:a.toSource,hook:C(a.hook),variables:Object.keys(a.variables).reduce(function(e,t){return e[t]=o(a.variables,t),e},{})}):C(e[t])}function t(e,t){if(c.isPrototypeOf(t)&&void 0===t.visits&&void 0===t.turns&&void 0===t.mockVisits&&void 0===t.forgetVisits&&void 0===t.pastVisits&&void 0===t.mockTurns&&void 0===t.seed&&void 0===t.seedIter&&Object.keys(t.variables).every(function(e){return e.startsWith("TwineScript_")}))return t.passage;if(!c.isPrototypeOf(this)||"valueRefs"!==e){if(c.isPrototypeOf(this)&&"variables"===e){var n,r={};for(n in this.variables)this.valueRefs[n]?r[n]=this.valueRefs[n]:r[n]=o(this.variables,n);return r}return t}}var e=u.slice(f?e?p-1:p:0,p+1),n=e.slice(0,-1),r=f;try{return{past:r=n.length?(r?r.slice(0,-1)+",":"[")+JSON.stringify(n,t).slice(1):r,pastAndPresent:r.slice(0,-1)+(r?",":"[")+JSON.stringify(e.slice(-1),t).slice(1)}}catch(e){return{past:!1,pastAndPresent:!1}}},a.deserialise=function(e,t){var n;try{n=JSON.parse(t)}catch(e){return Error("The save data is unintelligible.")}if(!N(n))return Error("The save data isn't a sequence of past turns.");for(var r=0;r<n.length;r+=1){var a=n[r];if("string"==typeof a)a={passage:a,variables:{}};else if("object"!==_typeof(a)||!hasOwnProperty.call(a,"variables")){n.splice(r--,1);continue}if(a.valueRefs=h(null),a.variables=o(h(null),a.variables),!b.hasValid(a.passage))return Error('The data refers to a passage named `"'.concat(a.passage,"\"`, but it isn't in this story."));if(hasOwnProperty.call(a.variables,"TwineScript_TypeDefs"))try{_(e,n.slice(0,r),a,a.variables.TwineScript_TypeDefs)}catch(e){return Error("The variable types on turn ".concat(r+1," couldn't be reconstructed.").concat(e.message?" (".concat(e.message,")"):""))}try{_(e,n.slice(0,r),a,a.variables)}catch(e){return Error("The variables on turn ".concat(r+1," couldn't be reconstructed.").concat(e.message?" (".concat(e.message,")"):""))}n[r]=o(h(c),a)}return p=(u=n).length-1,l.load.forEach(function(e){return e(u)}),f="",g(),T(u[p].passage),!0},Object.seal(c),Object.freeze(a)}),define("utils",["jquery","markup","utils/polyfills"],function(d){var r=String.fromCharCode,n="audio,blockquote,canvas,div,h1,h2,h3,h4,h5,hr,ol,p,pre,table,ul,video,tw-align,tw-story,tw-passage,tw-sidebar,tw-columns,tw-column,tw-meter".split(","),a="a,b,i,em,strong,sup,sub,abbr,acronym,s,strike,del,big,small,script,img,button,input,tw-link,tw-broken-link,tw-verbatim,tw-collapsed,tw-error,tw-colour,tw-icon".split(","),f=["audio"],e=_slicedToArray([function(e){return r(e)!==r(e).toLowerCase()},function(e){return r(e)!==r(e).toUpperCase()},function(e){return r(e).toLowerCase()!==r(e).toUpperCase()}].map(function(e){return"["+Array.from(Array(57343)).map(function(e,t){return t}).filter(e).map(function(e,t,n){return e===n[t-1]+1&&e===n[t+1]-1?"-":r(e)}).join("").replace(/-+/g,"-")+"]"}),3),t=e[0],o=e[1],e=e[2];function s(e){return"instant"===e?0:800}var i,c,l=[],u={},p=0,h={},m=0,g={};function y(n,r,e,a,o){var i=null,s=0,c=r+e;function l(e){var t;1&n[0].compareDocumentPosition(document)&&(c=0),i&&(c-=t=e-i),i=e,0<a&&0<p+m&&n.data("expediteAnim")(a),c<=r&&(s+=t||0,"paused"===n.css("animation-play-state"))&&n.css({visibility:"","animation-play-state":"running"}),c<=0?(n.removeData("expediteAnim"),o()):requestAnimationFrame(l)}n.data("expediteAnim",function(e){var t;c-=e=void 0===e?s:e,"running"===n.css("animation-play-state")&&n.css("animation-delay",(("ms"===(t=(t=n.css("animation-delay")).toLowerCase()).slice(-2)?+t.slice(0,-2)||0:"s"===t.slice(-1)&&1e3*+t.slice(0,-1)||0)||0)-e+"ms")}),c?requestAnimationFrame(l):l()}d(document.documentElement).on("keydown keyup mousedown mouseup",function(e){var t=e.key,n=e.button,e=e.type.includes("down"),r=t?u:h,n=t&&v.insensitiveName(t)||n;r[n]&&!e?t?p=Math.max(p-1,0):m=Math.max(m-1,0):!r[n]&&e&&(t?p+=1:m+=1),r[n]=e}).on("mousemove",function(e){var t=e.pageX,e=e.pageY;g.x=t,g.y=e});var b=/-|_/g,v={hash:function(e){for(var t=9,n=e.length;0<n;)--n,t=Math.imul(t^e.charCodeAt(n),Math.pow(9,9));return(t^t>>>9)>>>0},permutations:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r,a,o=t.length,i=[[].concat(t)],s=Array(o).fill(0),c=1;c<o;)s[c]<c?(r=c%2&&s[c],a=t[c],t[c]=t[r],t[r]=a,++s[c],c=1,i.push([].concat(t))):(s[c]=0,++c);return i},nth:function(e){var t=+e+"";return e+("1"!==t[t.length-1]||1!==t.length&&"1"===t[t.length-2]?"2"!==t[t.length-1]||1!==t.length&&"1"===t[t.length-2]?"3"!==t[t.length-1]||1!==t.length&&"1"===t[t.length-2]?"th":"rd":"nd":"st")},plural:function(e,t,n){return e+" "+(1!==Math.abs(e)?n||t+"s":t)},andList:function(e){return e.length<=1?e[0]:e.slice(0,-1).join(", ")+" and "+e[e.length-1]},realWhitespace:"[ \\n\\r\\f\\t\\v\\u00a0\\u2000-\\u200a\\u2028\\u2029\\u202f\\u205f\\u3000]",anyRealLetter:"[\\dA-Za-z\\u00c0-\\u00de\\u00df-\\u00ff\\u0150\\u0170\\u0151\\u0171\\uD800-\\uDFFF]",anyUppercase:t,anyLowercase:o,anyCasedLetter:e,anyNewline:"(?:\\n|\\r|\\r\\n)",unescape:function(e){return e.replace(/&(?:amp|lt|gt|quot|nbsp|zwnj|#39|#96);/g,function(e){return{"&amp;":"&","&gt;":">","&lt;":"<","&quot;":'"',"&#39;":"'","&nbsp;":String.fromCharCode(160),"&zwnj;":String.fromCharCode(8204)}[e]})},escape:function(e){return e.replace(/[&><"']/g,function(e){return{"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#39;"}[e]})},insensitiveName:function(e){return(e+"").toLowerCase().replace(b,"")},allKeysDown:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.every(function(e){return u[e]})},someKeysDown:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.some(function(e){return u[e]})},buttonsDown:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.every(function(e){return h[e]})},anyInputDown:function(){return 0<p+m},mouseCoords:g,parentColours:function(e){for(var t,n={colour:null,backgroundColour:null},r=/^\w+a\(.+?,\s*0\s*\)$|^transparent$/;e.length&&e[0]!==document;e=e.parent())if(n.backgroundColour||(t=e.css("background-color")).match(r)||(n.backgroundColour=t),n.colour||(t=e.css("color")).match(r)||(n.colour=t),n.colour&&n.backgroundColour)return n;return{colour:"#fff",backgroundColour:"#000"}},childrenProbablyInline:function(e){var t=[];return[].every.call(e.findAndFilter("*"),function(e){if(!(e.hidden||/none|inline/.test(e.style.display)||/display: (none|inline)/.test(e.getAttribute("style")))){if(n.includes(e.tagName.toLowerCase())||/display: (?!none|inline|inherit|unset)/.test(e.getAttribute("style")))return!1;a.includes(e.tagName.toLowerCase())||t.push(e)}return!0})&&t.every(function(e){return/inline|none/.test(window.getComputedStyle(e).display)})},transitionOut:function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0,i=6<arguments.length&&void 0!==arguments[6]?arguments[6]:void 0;0!==e.length&&(n=n||s(t),!(1<e.length)&&v.childrenProbablyInline(e)&&["tw-hook","tw-passage","tw-sidebar","tw-expression"].includes(e.tag())||(e=e.wrapAll("<tw-transition-container>").parent()),i&&e.css("transform-origin",i),e.attr("data-t8n",t).addClass("transition-out").css({"animation-duration":"".concat(n,"ms"),"animation-delay":"".concat(-o,"ms"),"animation-play-state":"paused"}),requestAnimationFrame(function(){v.childrenProbablyInline(e)?e.css("display","inline"):e.parent().is("tw-backdrop,tw-story")||e[0].setAttribute("style",e[0].getAttribute("style")+"display:block !important;width:100%")}),y(e,n,r-o,a,function(){e.remove()}))},transitionIn:function(u,e,t){var p,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,r=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0,o=6<arguments.length&&void 0!==arguments[6]?arguments[6]:void 0;0!==u.length&&(t=t||s(e),(p=1<u.length||!v.childrenProbablyInline(u)||!["tw-hook","tw-passage","tw-sidebar","tw-expression"].includes(u.tag()))&&(u=u.wrapAll("<tw-transition-container>").parent()),o&&u.css("transform-origin",o),u.attr("data-t8n",e).addClass("transition-in").css(_objectSpread({"animation-duration":"".concat(t,"ms"),"animation-delay":"".concat(-a,"ms")},n-a?{visibility:"hidden","animation-play-state":"paused"}:{})),requestAnimationFrame(function(){v.childrenProbablyInline(u)?u.css("display","inline"):u.parent().is("tw-backdrop,tw-story")||u[0].setAttribute("style",u[0].getAttribute("style")+"display:block !important;width:100%")}),y(u,t,n-a,r,function(){var e=0===u.filter(f.join(",")).length;if(p&&e){u.find("tw-transition-container, .transition-in, .transition-out").each(function(e,t){((t=d(t)).data("expediteAnim")||Object)()});for(var t=[],n=u.find("*"),r=0;r<n.length;r+=1){var a=n[r];0===a.scrollTop&&0===a.scrollLeft||t.push([a,a.scrollLeft,a.scrollTop])}e=u.find(document.activeElement);u.contents().unwrap();for(var o=0,i=t;o<i.length;o++){var s=_slicedToArray(i[o],3),c=s[0],l=s[1],s=s[2];c.scrollLeft=l,c.scrollTop=s}e.length&&e[0].focus()}else u.removeClass("transition-in").removeAttr("data-t8n")}))},debounce:function(e){function t(){300<Date.now()-l||s<=u?(u=n=0,p=!i,o?(e(c),c=[]):e.apply(void 0,_toConsumableArray(c)),p=!1):n=requestAnimationFrame(t)}var n,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a=r.batch,o=void 0!==a&&a,a=r.recur,i=void 0!==a&&a,a=r.maxWait,s=void 0===a?1/0:a,c=[],l=0,u=0,p=!1;return function(){var e;p||(e=Date.now(),u+=e-l,l=e,o?c.push(arguments):c=arguments,n&&cancelAnimationFrame(n),n=requestAnimationFrame(t))}},impossible:function(e,t){window.console&&console.error(e+"(): "+t)},onStartup:function(e){l?l.push(e):e()},get storyElement(){return i},detachStoryElement:function(){document.documentElement.contains(i[0])&&(c=i.parent(),i.detach())},reattachStoryElement:function(){document.documentElement.contains(i[0])||(c||d(document.body)).append(i.parents().length?i.parents().last():i)},options:{speedMultiplier:1}};return d(function(){i=d("tw-story"),l.forEach(function(e){return e()}),l=null}),Object.freeze(v)}),define("datatypes/assignmentrequest",["utils/operationutils","datatypes/typedvar","datatypes/datatype","internaltypes/varref","internaltypes/twineerror"],function(e,y,b,v,w){var k=e.objectName,S=e.matches,t=e.toSource;return Object.freeze({assignmentRequest:!0,TwineScript_TypeName:"a VariableToValue (a 'to' or 'into' expression)",TwineScript_ObjectName:"a VariableToValue (a 'to' or 'into' expression)",TwineScript_ToSource:function(){return"into"===this.operator?"".concat(t(this.src)," ").concat(this.operator," ").concat(t(this.dest)):"".concat(t(this.dest)," ").concat(this.operator," ").concat(t(this.src))},TwineScript_Unstorable:!0,set:function(){var e,t=0<arguments.length&&void 0!==arguments[0]&&arguments[0],n=[],r=function e(t,n,r){var a=!(2<arguments.length&&void 0!==r)||r,o=[],i=n&&v.isPrototypeOf(n)?n.get():n;if(w.containsError(i))return i;if(Array.isArray(i)&&Array.isArray(t)){for(var s=0,c=0;s<t.length&&c<i.length;){var l=t[s],u=i[c];if(y.isPrototypeOf(l)&&l.datatype.rest||b.isPrototypeOf(l)&&l.rest){for(var p=c;c<i.length&&S(l,u);)u=i[c+=1];y.isPrototypeOf(l)?l.datatype=[l.datatype]:b.isPrototypeOf(l)&&(l=b.create("array")),o=o.concat(e(l,v.isPrototypeOf(n)?v.create(n,{first:p+1,last:c+1}):i.slice(p,c)))}else o=o.concat(e(l,v.isPrototypeOf(n)?v.create(n,c+1):u)),c+=1;s+=1}return s<t.length?a&&w.create("operation","I can't unpack this array because it needs ".concat(t.length-s," more value").concat(0<t.length-s?"s":"",".")):o}if(t instanceof Map&&i instanceof Map){var d,f=_createForOfIteratorHelper(t.entries());try{for(f.s();!(d=f.n()).done;){var h=_slicedToArray(d.value,2),m=h[0],g=h[1];if(!i.has(m))return a&&w.create("operation","I can't unpack this datamap because it needs a '"+m+"' data name.");o=o.concat(e(g,v.isPrototypeOf(n)?v.create(n,m):i.get(m)))}}catch(e){f.e(e)}finally{f.f()}return o}if(y.isPrototypeOf(t)){if("function"==typeof t.datatype.destructure)return[{dest:t,value:i,src:n}].concat(t.datatype.destructure(i));if(!S(i,t.datatype))return a&&w.create("operation","I can't put ".concat(k(i)," into ").concat(t.varRef.TwineScript_ToSource()," because it doesn't match ").concat(t.varRef.TwineScript_ToSource(),"'s datatype, ").concat(k(t.datatype),"."));o=o.concat(e(t.datatype,i))}return v.isPrototypeOf(t)||y.isPrototypeOf(t)?o.concat({dest:t,value:i,src:n}):"function"==typeof t.destructure?o.concat(t.destructure(i)):S(i,t)?o:a&&w.create("operation","I tried to unpack, but "+k(t)+" in the pattern didn't match "+k(i)+".")}(this.dest,this.src);if(e=w.containsError(r))return e;if(!r.length)return w.create("operation","I can't store a new value inside "+k(this.dest)+" that isn't in a variable.","You need a variable, or a data structure containing variables at certain positions, to store the value.");var a,o=_createForOfIteratorHelper(r.reverse());try{for(o.s();!(a=o.n()).done;){var i=a.value,s=i.dest,c=i.value,l=i.src;if(y.isPrototypeOf(s)){if(e=w.containsError(s.defineType()))return e;s=s.varRef}if(e=s.set(c,this.srcRef),w.isPrototypeOf(e))return e;t&&l&&l.delete(),n.shift(k(s)+" is now "+k(c))}}catch(e){o.e(e)}finally{o.f()}return n.join("; ")},create:function(e,t,n,r){return w.containsError(e)?e:w.containsError(t)?t:Object.assign(Object.create(this),{dest:e,src:t,operator:n,srcRef:r})}})}),define("datatypes/changercommand",["utils","utils/operationutils","internaltypes/changedescriptor","internaltypes/twineerror"],function(e,t,n,r){var i=e.plural,a=e.impossible,o=t.is,s=t.toSource,c={},l={TwineScript_TypeID:"changer",TwineScript_TypeName:"a changer",TwineScript_Print:function(){return"`[A ("+this.macroName+":) changer]`"},TwineScript_ToSource:function(){return"("+this.macroName+":"+("else"===this.name?"":this.params.map(s))+")"+(this.next?"+"+this.next.TwineScript_ToSource():"")},get TwineScript_ObjectName(){1===this.params.length&&36<(e=s(this.params[0])).length&&(e=void 0);for(var e,t="a (".concat(this.macroName,":").concat(e||"",") changer"),n=this.next,r=(n&&(t+=" combined with "),0);n&&t.length<48;){var a="(".concat(n.macroName,":)");t+=(0<r&&!n.next?" and ":"")+a+(n.next?", ":""),n=n.next,r+=1}for(var o=0;n&&o<99;)n=n.next,o+=1;return 0<o&&(t+="".concat(0<r?" and ":"").concat(i(o,"other changer"))),t},summary:function(){var e=n.create();return this.run(e),e.summary()},create:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,r=!(3<arguments.length&&void 0!==arguments[3])||arguments[3];return Array.isArray(t)||a("ChangerCommand.create","params was not an array but "+t),Object.assign(Object.create(this),{macroName:e,params:t,next:n,canEnchant:r})},"TwineScript_+":function(e){for(var t=this.TwineScript_Clone(),n=t;n.next;)n=n.next;return n.next=e,t.canEnchant=this.canEnchant&&e.canEnchant,t},TwineScript_is:function(e){if(l.isPrototypeOf(e))return this.macroName===e.macroName&&o(this.params,e.params)&&o(this.next,e.next)},TwineScript_Clone:function(){for(var e=l.create(this.macroName,this.params,this.next),t=e;t.next;)t=t.next=t.next.TwineScript_Clone();return e.canEnchant=this.canEnchant,e},run:function(e,t){var n="output"===this.macroName?[t||this]:this.params,n=c[this.macroName].apply(c,[e].concat(_toConsumableArray(n)));if(r.containsError(n))return n;this.next&&this.next.run(e,t||this)},register:function(e,t){c[e]=t}};return Object.freeze(l)}),define("datatypes/codehook",[],function(){var t=Object.freeze({TwineScript_TypeName:"a code hook",TwineScript_ObjectName:"a code hook",TwineScript_ToSource:function(){return this.source},TwineScript_Print:function(){return this.code},TwineScript_toString:function(){return this.source},TwineScript_is:function(e){return t.isPrototypeOf(e)&&this.source===e.source},TwineScript_Clone:function(){return t.create(this.code,this.source)},create:function(e,t){return Object.assign(Object.create(this),{code:e,source:t})}});return t}),define("datatypes/colour",["jquery"],function(c){var l=Math.max,u=Math.min,a=Math.sin,o=Math.cos,i=Math.pow,p=Math.round,d=Math.floor,s=Math.atan2,f=Math.cbrt,h=Math.sqrt,m=Math.PI,g=Object.assign,y=Object.create,b=/^([\da-fA-F])([\da-fA-F])([\da-fA-F])$/,t=/^([\da-fA-F])([\da-fA-F])([\da-fA-F])([\da-fA-F])([\da-fA-F])([\da-fA-F])$/,v=y(null);function w(e,t){for(var n=arguments.length,r=new Array(2<n?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];if(0<r.length)return w.apply(void 0,[w(e,t)].concat(r));if(!t)return e;for(var o=[],i=0;i<e.length;i++){o[i]=[];for(var s=0;s<t[0].length;s++){for(var c=0,l=0;l<e[0].length;l++)c+=e[i][l]*t[l][s];o[i][s]=c}}return o}function n(e){var t,n=e.r,r=e.g,a=e.b,e=e.a,o=l(n/=255,r/=255,a/=255),i=u(n,r,a),s=(o+i)/2,c=o-i;if(o===i)return{h:0,s:0,l:s};switch(o){case n:t=(r-a)/c+(r<a?6:0);break;case r:t=(a-n)/c+2;break;case a:t=(n-r)/c+4}return{h:t=p(60*t),s:.5<s?c/(2-o-i):c/(o+i),l:s,a:e}}var k=[.9642956764295677,1,.8251046025104602],S=24389/27,T=216/24389,_=function(e){return e.map(function(e){return[e]})},x=function(e){return e.map(function(e){return e[0]})};function O(e){var t=e.l,n=e.c,r=e.h,e=e.a,n=[t*=100,n*o(r*m/180),n*a(r*m/180)],r=[];r[1]=(n[0]+16)/116,r[0]=n[1]/500+r[1],r[2]=r[1]-n[2]/200;n=[i(r[0],3)>T?i(r[0],3):(116*r[0]-16)/S,S*T<t?i((16+t)/116,3):t/S,i(r[2],3)>T?i(r[2],3):(116*r[2]-16)/S].map(function(e,t){return e*k[t]}),t=_slicedToArray(x(w([[3.2409699419045226,-1.537383177570094,-.4986107602930034],[-.9692436362808796,1.8759675015077202,.04155505740717559],[.05563007969699366,-.20397695888897652,1.0569715142428786]],w([[.9554734527042182,-.023098536874261423,.0632593086610217],[-.028369706963208136,1.0099954580058226,.021041398966943008],[.012314001688319899,-.020507696433477912,1.3303659366080753]],_(n)))).map(function(e){return u(255,l(0,255*(.0031308<(e=e)?1.055*i(e,1/2.4)-.055:12.92*e)))}),3);return{r:t[0],g:t[1],b:t[2],a:e}}function e(e){function t(e){return 1e-5<=n[e]&&n[e]<=255-1e-5}var n=O(e);if(Object.keys(n).every(t))return n;var r=(e=_objectSpread({},e)).c,a=0;for(e.c/=2;1e-5<r-a;)n=O(e),Object.keys(n).every(t)?a=e.c:r=e.c,e.c=(r+a)/2;return O(e)}var A=Object.freeze({TwineScript_TypeID:"colour",TwineScript_TypeName:"a colour",TwineScript_ObjectName:"a colour",TwineScript_DebugName:function(){return"a colour "+this.TwineScript_Print()},"TwineScript_+":function(e){var t=this.toRGBA(),e=e.toRGBA();return A.create({r:u(p(.6*(t.r+e.r)),255),g:u(p(.6*(t.g+e.g)),255),b:u(p(.6*(t.b+e.b)),255),a:(t.a+e.a)/2})},TwineScript_Print:function(){var e=this.toRGBA();return"<tw-colour style='background-color:rgba("+[e.r,e.g,e.b,e.a]+");'></tw-colour>"},TwineScript_is:function(e){var t;return!!A.isPrototypeOf(e)&&(e.lcha&&this.lcha?e.lcha.l===this.lcha.l&&e.lcha.c===this.lcha.c&&e.lcha.h===this.lcha.h&&e.a===this.a:(t=this.toRGBA(),(e=e.toRGBA()).r===t.r&&e.g===t.g&&e.b===t.b&&e.a===t.a))},TwineScript_Clone:function(){return A.create(this)},toRGBAString:function(){var e=this.toRGBA(),t=e.r,n=e.g,r=e.b,e=e.a;return"rgba(".concat(t,", ").concat(n,", ").concat(r,", ").concat(e,")")},toHSLA:function(){return n(this.toRGBA())},toRGBA:function(){return this.lch?e(_objectSpread({a:this.a},this.lch)):this},toLCHA:function(){return this.lch?_objectSpread({a:this.a},this.lch):(t=(e=this).r,n=e.g,r=e.b,e=e.a,n=[116*(t=x(w([[1.0479298208405488,.022946793341019088,-.05019222954313557],[.029627815688159344,.990434484573249,-.01707382502938514],[-.009243058152591178,.015055144896577895,.7518742899580008]],w([[.41239079926595934,.357584339383878,.1804807884018343],[.21263900587151027,.715168678767756,.07219231536073371],[.01933081871559182,.11919477979462598,.9505321522496607]],_([t/255,n/255,r/255].map(function(e){return e<.04045?e/12.92:i((e+.055)/1.055,2.4)}))))).map(function(e,t){return e/k[t]}).map(function(e){return T<e?f(e):(S*e+16)/116}))[1]-16,500*(t[0]-t[1]),200*(t[1]-t[2])],r=180*s(n[2],n[1])/m,{l:n[0]/100,c:h(i(n[1],2)+i(n[2],2)),h:0<=r?r:360+r,a:e});var e,t,n,r},LCHRotate:function(e){e<0&&(e=360+e);var t=this.toLCHA();return t.h=(t.h+e)%360,A.create(t)},TwineScript_GetProperty:function(e){var t;return"lch"===e?(t=this.toLCHA(),new Map([["l",t.l],["c",t.c],["h",t.h]])):(t=this.toRGBA(),"h"===e||"s"===e||"l"===e?n(t)[e]:"r"===e||"g"===e||"b"===e||"a"===e?t[e]:void 0)},TwineScript_Properties:["h","s","l","r","g","b","a","lch"],TwineScript_ToSource:function(){if(0===this.a)return"transparent";var e=!this.lch&&n(this);if(1===e.l&&!e.h&&!e.s)return"white";if(0===e.l&&!e.h&&!e.s)return"black";if(.5<=e.l&&e.l<.5334&&0===e.s)return"gray";if(.5===e.l&&.8<=e.s&&e.s<.804){var t={0:"red",30:"orange",60:"yellow",90:"lime",120:"green",180:"cyan",210:"blue",240:"navy",270:"purple",300:"magenta"}[e.h];if(t)return t}return"(".concat(this.lch?"lch":"hsl",":").concat(this.lch?[this.lch.l,this.lch.c,this.lch.h]:[e.h,e.s,e.l]).concat(1!==this.a?","+this.a:"",")")},create:function(e){var t,n,r,a,o,i;return"string"==typeof e?this.create((A.isHexString(e)?function(e){return"string"!=typeof e?e:(e=(e=e.replace("#","")).replace(b,"$1$1$2$2$3$3"),{r:parseInt(e.slice(0,2),16),g:parseInt(e.slice(2,4),16),b:parseInt(e.slice(4,6),16)})}:function(e){var t;return e in v?v[e]:(t="transparent"===(t=c("<p>").css("background-color",e).css("background-color"))?{r:0,g:0,b:0,a:0}:t.startsWith("rgb")?t.match(/\d+/g).reduce(function(e,t,n){return e["rgb"[n]]=+t,e},{}):{r:192,g:192,b:192},v[e]=t)})(e)):!("h"in e&&"s"in e&&"l"in e)||"r"in e||"g"in e||"b"in e?("a"in e&&"number"==typeof e.a||(e.a=1),"h"in e&&"c"in e&&!("s"in e)&&"l"in e?g(y(this),{a:e.a,lch:{l:e.l,c:e.c,h:e.h}}):g(y(this),e)):this.create((a=(t=e).h,o=e.s,i=e.l,t=e.a,0===o?{r:e=d(255*i),g:e,b:e}:(r=2*i-(n=i<.5?i*(1+o):i+o-i*o),{r:d(255*s((a/=360)+1/3)),g:d(255*s(a)),b:d(255*s(a-1/3)),a:t})));function s(e){return e<0&&(e+=1),1<e&&--e,e<1/6?r+6*(n-r)*e:e<.5?n:e<2/3?r+(n-r)*(2/3-e)*6:r}},isHexString:function(e){return"string"==typeof e&&"#"===e[0]&&(e.slice(1).match(b)||e.slice(1).match(t))},isCSS3Function:function(e){return"string"==typeof e&&/^(?:rgb|hsl)a?\(\s*\d+(?:\.\d+)?\s*,\s*\d+(?:\.\d+)?%?\s*,\s*\d+(?:\.\d+)?%?(?:,\s*\d+(?:\.\d+)?\s*)?\)$/.test(e)}});return A}),define("datatypes/customcommand",["internaltypes/changedescriptor","internaltypes/twineerror"],function(l,u){var p=Object.assign,d=Object.create;return Object.seal({TwineScript_TypeID:"command",TwineScript_ObjectName:"a custom command",TwineScript_TypeName:"a custom command",TwineScript_Print:function(){return"`[a custom command]`"},create:function(e){var t,n=e.toSource,r=e.changer,a=e.hook,o=e.variables,i={};for(t in o)i[t]=[o[t]];var s,c=l.create({source:a,loopVars:i},r);return u.containsError(c)?c:s=p(d(this),{TwineScript_Attach:function(e,t){c.section=e;e=t.run(c);return u.containsError(e)?e:s},TwineScript_Run:function(e){c.section=e;e=c;return c=l.create({source:a,loopVars:i},r),e},TwineScript_ToSource:function(){return n},TwineScript_CustomCommand:function(){return e}})}})}),define("datatypes/custommacro",["jquery","utils","renderer","utils/operationutils","datatypes/customcommand","internaltypes/varref","internaltypes/varscope","internaltypes/twineerror","internaltypes/twinenotifier"],function(w,e,k,t,S,T,_,x,O){function n(v){return function(e){v.called+=1;for(var t=v.varNames,n=v.params,r=v.body,a=E(N(_),{TwineScript_VariableStore:{type:"temp",name:v.TwineScript_ObjectName+" call #"+v.called},TwineScript_TypeDefs:N(null)}),o=[],i=0,s=!1,c=arguments.length,l=new Array(1<c?c-1:0),u=1;u<c;u++)l[u-1]=arguments[u];for(var p=0;p<l.length;p+=1){var d=l[p],f=t[i],h=(a.TwineScript_TypeDefs[f]=n[i].datatype.rest?n[i].datatype.create("array"):n[i].datatype,T.create(a,f));if(x.containsError(h))return h;if(n[i].datatype.rest){var s=!0,m=(a[f]||[]).concat([d]);if(p<l.length-1){a[f]=m;continue}h.set(m)}else h.set(d),i+=1;o.push(O.create(A(h)+" is now "+A(a[f])))}if(!s&&null!=(g=n[i])&&g.datatype.rest){var g=T.create(a,t[i]);if(x.containsError(g))return g;g.set([]),a.TwineScript_TypeDefs[name]=n[i].datatype.create("array")}var y,g=w("<p>").append(k.exec(r.code)),b=e.stack.length,r=(e.stack.unshift({tempVariables:a,dom:g,output:function(e){y=e}}),e.evalReplay);for(e.evalReplay=null,e.execute();e.stack.length>b;)e.stack.shift();e.evalReplay=r;r=g.find("tw-error");return r.length?(g.prepend(o.map(function(e){return e.render()}),"<br>"),x.create("propagated","".concat(r.length," error").concat(1<r.length?"s":""," occurred when running ").concat(v.TwineScript_ObjectName,"."),void 0,g)):void 0===y?x.create("custommacro","".concat(v.TwineScript_ObjectName," didn't output any data or hooks using (output:) or (output-data:).")):"object"===_typeof(y)&&"changer"in y?S.create(E(y,{toSource:"(".concat(v.TwineScript_KnownName||"unnamed",":").concat(l.map(C),")")})):y}}var r=e.andList,A=t.objectName,a=t.typeName,o=t.matches,C=t.toSource,E=Object.assign,N=Object.create,i=Object.seal({TwineScript_TypeID:"macro",TwineScript_TypeName:"a custom macro",TwineScript_GetProperty:function(e){if("params"===e)return _toConsumableArray(this.params)},TwineScript_Properties:["params"],TwineScript_Print:function(){return"`["+this.TwineScript_ObjectName+"]`"},TwineScript_Clone:function(){var e=E(N(i),this);return e.fn=n(e),e},TwineScript_ToSource:function(){return"(macro:"+this.params.map(function(e){return e.TwineScript_ToSource()}).concat("")+this.body.TwineScript_ToSource()+")"},createFromFn:function(e,t,n,r){return E(N(i),{params:[],fn:e,typeSignature:r,TwineScript_ObjectName:t,TwineScript_ToSource:n,TwineScript_KnownName:""})},create:function(e,t){t=E(N(i),{params:e,called:0,varNames:e.map(function(e){return e.varRef.propertyChain[0]}),typeSignature:e.map(function(t){var e=t.datatype.toTypeSignatureObject?t.datatype.toTypeSignatureObject({rest:t.rest}):{pattern:"range",range:function(e){return o(t.datatype,e)},name:a(t.datatype)};return t.rest?{pattern:"zero or more",innerType:e}:e}),body:t,TwineScript_KnownName:"",TwineScript_ObjectName:"a custom macro (with ".concat(e.length?r(e.map(C)):"no params",")")});return t.fn=n(t),t}});return i}),define("datatypes/datatype",["utils","utils/operationutils","datatypes/changercommand","datatypes/colour","datatypes/gradient","datatypes/lambda","datatypes/custommacro","datatypes/codehook","internaltypes/twineerror"],function(e,t,n,r,a,o,i,s,c){var l=e.realWhitespace,u=e.anyRealLetter,p=e.anyCasedLetter,d=e.anyNewline,f=t.objectName,e=Object.seal,h=Object.keys,m=Math.floor,g=Math.abs,y={TwineScript_TypeID:"datatype",TwineScript_TypeName:"a datatype",TwineScript_Print:function(){return"`["+this.TwineScript_ObjectName+"]`"},get TwineScript_ObjectName(){return"the "+(this.rest?"...":"")+this.name+" datatype"},TwineScript_is:function(e){return y.isPrototypeOf(e)&&e.name===this.name},TwineScript_Clone:function(){return this.rest?this:Object.create(this)},TwineScript_ToSource:function(){return(this.rest?"...":"")+this.name},TwineScript_IsTypeOf:function(e){var t=this.name,n=this.rest;return!!v[t]&&v[t](e,n)},toTypeSignatureObject:function(){var e=this.name,e={pattern:"range",range:v[e],name:"a "+("dm"===e?"datamap":"ds"===e?"dataset":"num"===e?e+"ber":"str"===e?e+"ing":"color"===e?"colour":"bool"===e?e+"ean":"alnum"===e?"alphanumeric character":"int"===e?e+"eger":"even"===e||"odd"===e?e+" number":e.endsWith("case")||"whitespace"===e?e+" character":"empty"===e?e+" value":e)};return this.rest?{pattern:"zero or more",innerType:e}:e},create:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=(e="datamap"===e?"dm":"dataset"===e?"ds":"number"===e?"num":"string"===e?"str":"color"===e?"colour":"boolean"===e?"bool":"alphanumeric"===e?"alnum":"integer"===e?"int":"newline"===e?"linebreak":e,Object.create(this));return n.name=e,n.rest=t,n},from:function(t){var e=h(b).find(function(e){return b[e](t)});return e?y.create(e):c.create("datatype",f(t)+" doesn't correspond to a datatype value.")}},b={array:Array.isArray,dm:function(e){return e instanceof Map},ds:function(e){return e instanceof Set},datatype:function(e){return y.isPrototypeOf(e)},changer:function(e){return n.isPrototypeOf(e)},colour:function(e){return r.isPrototypeOf(e)},gradient:function(e){return a.isPrototypeOf(e)},lambda:function(e){return o.isPrototypeOf(e)},macro:function(e){return i.isPrototypeOf(e)},codehook:function(e){return s.isPrototypeOf(e)},command:function(e){return e&&"command"===e.TwineScript_TypeID},str:function(e){return"string"==typeof e},num:function(e){return"number"==typeof e},bool:function(e){return"boolean"==typeof e}},v=_objectSpread(_objectSpread({},b),{},{even:function(e){return!isNaN(e)&&m(g(e))%2==0},odd:function(e){return!isNaN(e)&&m(g(e))%2==1},empty:function(e){return e instanceof Map||e instanceof Set?!e.size:!(!Array.isArray(e)&&"string"!=typeof e||e.length)},int:function(e){return"number"==typeof e&&e===(0|e)},uppercase:function(e){return"string"==typeof e&&1===_toConsumableArray(e).length&&_toConsumableArray(e).every(function(e){return e!==e.toLowerCase()})},lowercase:function(e){return"string"==typeof e&&1===_toConsumableArray(e).length&&_toConsumableArray(e).every(function(e){return e!==e.toUpperCase()})},whitespace:function(e){return"string"==typeof e&&!!e.match("^"+l+"$")},digit:function(e){return"string"==typeof e&&!!e.match("^\\d$")},alnum:function(e){return"string"==typeof e&&!!e.match("^"+u+"$")},anycase:function(e){return"string"==typeof e&&!!e.match("^"+p+"$")},linebreak:function(e){return"string"==typeof e&&!!e.match("^"+d+"$")},any:function(){return!0},const:function(){return!0}});return e(y)}),define("datatypes/gradient",["utils/operationutils"],function(e){var t=e.toSource,n=Object.freeze({TwineScript_TypeID:"gradient",TwineScript_TypeName:"a gradient",TwineScript_ObjectName:"a gradient",TwineScript_DebugName:function(){return"a gradient "+this.TwineScript_Print()},TwineScript_GetProperty:function(e){var t=this;return"angle"===e?this.angle:"stops"===e?this.stops.map(function(e){return new Map([[t.repeating?"pixels":"percent",e.stop],["colour",e.colour.TwineScript_Clone()]])}):void 0},TwineScript_Properties:["angle","stops"],TwineScript_ToSource:function(){return"(gradient:"+this.angle+","+this.stops.map(function(e){return t(e.stop)+","+t(e.colour)})+")"},TwineScript_is:function(e){var r=this;return e.angle===this.angle&&e.stops.length===this.stops.length&&e.stops.every(function(e,t){var n=e.colour,e=e.stop;return r.stops[t].stop===e&&r.stops[t].colour.TwineScript_is(n)})},TwineScript_Clone:function(){return n.create(this.angle,_toConsumableArray(this.stops))},TwineScript_Print:function(){return"<tw-colour style='background:"+this.toLinearGradientString()+"'></tw-colour>"},create:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];return Object.assign(Object.create(this),{angle:e,stops:t.sort(function(e,t){return e.stop-t.stop}),repeating:n})},multiply:function(t){return n.create(this.angle,this.stops.map(function(e){return{colour:e.colour,stop:e.stop*t}}))},toLinearGradientString:function(){var r=this;return(this.repeating?"repeating-":"")+"linear-gradient(".concat(this.angle,"deg, ").concat(this.stops.reduce(function(e,t){var n=t.colour,t=t.stop;return e+n.toRGBAString()+" "+t*(r.repeating?1:100)+(r.repeating?"px,":"%,")},"").slice(0,-1),")")}});return n}),define("datatypes/hookset",["jquery","utils","utils/renderutils","utils/operationutils"],function(g,s,e,t){var y=e.textNodeToChars,b=e.realWhitespace,c=e.findTextInNodes,r=t.toSource;function l(e){function t(n,e){if(Array.isArray(e))return e.reduce(function(e,t){return e.add(n.get(t))},g());if(e&&"object"===_typeof(e)&&"first"in e&&"last"in e){for(var t=e.first,r=e.last,a=n.length,o=(t<0&&(t+=a),r<0&&(r+=a),[n.get(t)]);t!==r;)t+=Math.sign(r-t),o.push(n.get(t));return g(o)}if("string"==typeof e){if("chars"===e){var i,s=[],c=_createForOfIteratorHelper(n.textNodes(m));try{for(c.s();!(i=c.n()).done;){var l,u=i.value,p=_createForOfIteratorHelper(y(u));try{for(p.s();!(l=p.n()).done;){var d=l.value;d.textContent.match(b)||s.push(d)}}catch(e){p.e(e)}finally{p.f()}}}catch(e){c.e(e)}finally{c.f()}return g(s)}if("links"===e)return n.findAndFilter("tw-link, .enchantment-link");if("visited"===e)return n.findAndFilter("tw-link.visited");var f,h;if("lines"===e)return f=n.findAndFilter("br:not(tw-sidebar *),tw-consecutive-br:not(tw-sidebar *)").get(),h=[[]],n.contents().each(function e(t,n){var r=(n.tagName||"").toLowerCase();if("tw-sidebar"!==r)if("tw-passage"===r||"tw-transition-container"===r)g(n).contents().each(e);else{if(f.length){if(n===f[0])return f.shift(),void h.push([]);if(16&n.compareDocumentPosition(f[0]))return h.push([]),g(n).contents().each(e),void h.push([])}h[h.length-1].push(n)}}),g(h.map(function(e){return!!e.length&&g(e).wrapAll("<tw-pseudo-hook>").parent()[0]}).filter(Boolean))}return g(n.get(e))}var n,r,a=e.dom,m=":not(tw-error, tw-error *)",o=g();this.next&&(o=o.add(l.call(this.next,e)));if(this.selector){if("string"===this.selector.type)i=this.selector.data,n=c((n=a).textNodes(),i),r=g(),n.forEach(function(e){r=r.add(g(e).wrapAll("<tw-pseudo-hook>").parent())}),i=r;else{if("base"===this.selector.type)return o.add(t(l.call(this.selector.data,e),this.property));n=this.selector.data,e='tw-hook[name="'+(n=s.insensitiveName(n).replace(/"/g,"&quot;"))+'"],tw-enchantment[name="'+n+'"]';var e=e+={page:", tw-story",passage:", tw-passage",sidebar:", tw-sidebar",link:", tw-link, .enchantment-link"}[n]||"",i=a.findAndFilter(e).add(a.parentsUntil(s.storyElement.parent())).filter(e)}o=this.property?o.add(t(i,this.property)):o.add(i)}return o=o.get().reduce(function(e,t){return t=g(t),e.add(t.is("tw-enchantment")&&t.contents().length<=1?t.contents():t)},g())}function a(e){var t,n;return e?(t=e.selector,n=e.property,e=e.next,[JSON.stringify(["base"===t.type?a(t.data):s.insensitiveName(t.data),n])].concat(_toConsumableArray(a(e))).sort()):[]}var o=Object.freeze({forEach:function(e,n){var t=l.call(this,e).each(function(e,t){return n(g(t),e)});return e.dom.findAndFilter("tw-pseudo-hook").contents().unwrap(),t},hooks:function(e){return l.call(this,e)},get TwineScript_ObjectName(){return"the hook name ".concat(this.TwineScript_ToSource())},TwineScript_TypeID:"hookName",TwineScript_TypeName:"a hook name (like ?this)",TwineScript_Unstorable:!0,TwineScript_ToSource:function(){var e="",t=this.selector,n=t.type,t=t.data;return"name"===n?t.match(RegExp("^"+s.anyRealLetter+"+$"))?e+="?"+t:e+="(hooks-named:"+JSON.stringify(t)+")":"string"===n?e+=JSON.stringify(t):"base"===n&&(e+=t.TwineScript_ToSource()+"'s "+r(this.property,"property")),this.next&&(e+=" + "+this.next.TwineScript_ToSource()),e},"TwineScript_+":function(e){for(var t=this.TwineScript_Clone(),n=t;n.next;)n=n.next;return n.next=e,t},TwineScript_is:function(e){return a(this)+""==a(e)+""},TwineScript_GetProperty:function(e){return o.create({type:"base",data:this},e,void 0)},TwineScript_Properties:["chars","links","lines","visited"],TwineScript_Clone:function(){return o.create(this.selector,this.property,this.next)},create:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:void 0;return Object.assign(Object.create(this||o),{selector:Object.freeze(e),property:t,next:n})},from:function(e){return o.isPrototypeOf(e)||"string"==typeof e||s.impossible("HookSet.from() was given a non-HookSet non-string."),o.isPrototypeOf(e)?e:o.create({type:"string",data:e})}});return o}),define("datatypes/lambda",["utils/operationutils","internaltypes/varscope","internaltypes/varref","internaltypes/twineerror"],function(e,h,s,m){var g=e.objectName;var c=Object.freeze({TwineScript_TypeID:"lambda",TwineScript_TypeName:"a lambda",get TwineScript_ObjectName(){return'a "'+("making"in this?"making ... ":"")+("each"in this?"each ... ":"")+("where"in this?"where ... ":"")+("when"in this?"when ... ":"")+("via"in this?"via ... ":"")+'" lambda'},TwineScript_Print:function(){return"`[A lambda]`"},TwineScript_is:function(e){return e===this},TwineScript_ToSource:function(){return this.source},TypeSignature:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return{pattern:"lambda",innerType:c,clauses:t,typeName:'a "'+t.concat("").join(" ...")+'" lambda'}},TwineScript_Clone:function(){return Object.assign(Object.create(c),this)},create:function(e,t,n,r){var a,o="temp variable, or typed temp variable";function i(e){e=e&&e.varRef?e.varRef:e;return void 0===e||e&&s.isPrototypeOf(e)&&h.isPrototypeOf(e.object)&&1===e.propertyChain.length}if(m.containsError(n))return n;if("making"===t&&!i(n))return m.create("syntax","I need a "+o+", to the right of '"+t+"', not "+g(n)+".");if(m.containsError(e))return e;if(c.isPrototypeOf(e)){if("when"===t||"when"in e)return m.create("syntax","A 'when' lambda cannot have any other clauses, such as '"+t+"'.");if(t in e)return m.create("syntax","This lambda has two '"+t+"' clauses.");a=e}else{if("when"===t&&void 0!==e)return m.create("syntax","A 'when' lambda shouldn't begin with a temp variable (just use 'when' followed by the condition).");if(!i(e))return m.create("syntax","This lambda needs to start with a single "+o+", not "+g(e)+".");(a=Object.create(this)).loop=e||""}return a.source=r.trim(),a[t]=n,a.making&&a.making.getName()===(a.loop&&a.loop.getName())?m.create("syntax","This lambda has two variables named '"+a.loop.getName()+"'.","Lambdas should have all-unique parameter names."):a},apply:function(e,t){var n=t.loop,r=t.pos,a=t.making,o=t.ignoreVia;function i(e,t){if(e){var n,r;if("datatype"in e&&"varRef"in e)return n=e.varRef.create(s,e.varRef.propertyChain),m.containsError(n)?n:(r=n.defineType(e.datatype),m.containsError(r)||(r=n.set(t),m.containsError(r))?r:void 0);s[e.getName()]=t}}var s=(s=t.tempVariables)||Object.create(e.stack.length?e.stackTop.tempVariables:h),t=i(this.loop,n)||i(this.making,a);if(m.containsError(t))return t;e.stack.unshift(Object.assign(Object.create(e.stackTop||null),{tempVariables:s,lambdaPos:this.when?void 0:r})),!n||this.making||this.when?e.Identifiers.it=m.create("operation","I can't use 'it', or an implied 'it', in "+this.TwineScript_ObjectName):e.Identifiers.it=n;var c,l,u,p,d,t=!o&&this.via,o="where"in this||"when"in this,f=e.evalReplay;return e.evalReplay=f?[]:null,o?(c=e.eval(this.where||this.when),l=e.evalReplay,e.evalReplay=l&&t?[]:null,!n||this.making||this.when||(e.Identifiers.it=n),u=c,p=!t||e.eval(t),d=null,u=m.containsError(u)||("boolean"!=typeof u?m.create("operation","This lambda's 'where' clause must evaluate to true or false, not "+g(u)+"."):u?p:d)):c=u=!t||e.eval(t),p=t?e.evalReplay:null,e.stack.shift(),(e.evalReplay=f)&&(o||t)&&(((d=f[f.length-1])||{}).lambda&&d.lambda.obj===this||((d={lambda:{obj:this,loops:[]},code:(f[f.length-1]||{}).code||""}).fromCode=d.code,f.push(d)),d.lambda.loops.push(_objectSpread(_objectSpread(_objectSpread({it:n,pos:r},void 0!==a&&{making:a}),t&&{viaReplay:p,viaResult:u}),o&&{whereReplay:l,whereResult:null!==c&&c}))),u},filter:function(r,e){var a,o=this,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return e.reduce(function(e,t,n){return a||(n=o.apply(r,{loop:t,pos:n+1,ignoreVia:!0,tempVariables:i}),a=m.containsError(n))||e.concat(n?[t]:[])},[])}});return c}),define("datatypes/typedvar",["utils/operationutils","internaltypes/varref","internaltypes/twineerror"],function(e,a,o){var i=e.typeName,t=e.matches,n=e.toSource,s=e.unstorableValue,e=Object.freeze,c=Object.assign,l=Object.create,u=e({TwineScript_TypeName:"a TypedVar (typed variable name)",get TwineScript_ObjectName(){var e=n(this.datatype);return"the ".concat(e.length<24?e+"-":"","typed variable name, ").concat(this.varRef.TwineScript_ToSource())},TwineScript_Print:function(){return"`[A typed variable name]`"},TwineScript_Unstorable:!0,TwineScript_Clone:function(){return c(l(u),{datatype:this.datatype.TwineScript_Clone(),varRef:this.varRef})},TwineScript_ToSource:function(){return n(this.datatype)+"-type "+this.varRef.TwineScript_ToSource()},TwineScript_GetProperty:function(e){return"name"===e?this.getName():this[e]},TwineScript_Properties:["datatype","name"],TwineScript_IsTypeOf:function(e){return t(this.datatype,e)},get:function(){var e;return(e=this.varRef).get.apply(e,arguments)},getName:function(){return this.varRef.getName()},defineType:function(){if("any"!==this.datatype.name)return this.varRef.defineType(this.datatype)},create:function(e,t){var n,r;return(n=o.containsError(t)||o.containsError(e)||t.error)||(a.isPrototypeOf(t)?(n=t.object,r=t.compiledPropertyChain,n&&n.TwineScript_VariableStore&&1===r.length&&n.TwineScript_TypeDefs?(r=s(e))&&!u.isPrototypeOf(r)?o.create("syntax","The -type syntax can't have "+i(r)+" to its left."):c(l(this),{datatype:e,varRef:t}):o.create("unimplemented","I can only restrict the datatypes of variables, not data names or anything else.")):o.create("syntax","The -type syntax must have a variable to its right."))}});return u}),define("datatypes/varbind",["jquery","utils","utils/operationutils","internaltypes/varref","internaltypes/twineerror"],function(o,e,t,n,r){var a=t.objectName;return n.on("set",function(r,a){r.TwineScript_VariableStore&&e.storyElement.find("[data-2bind]").each(function(e,t){var n=(t=o(t)).data("twoWayBindEvent");"function"==typeof n&&n(t,r,a)})}),Object.freeze({TwineScript_TypeName:"a VarBind (bound variable name)",get TwineScript_ObjectName(){return"a ".concat(this.bind," bind to ").concat(this.varRef.TwineScript_ToSource())},TwineScript_Print:function(){return"`[A bound variable name]`"},TwineScript_Unstorable:!0,TwineScript_ToSource:function(){return("two way"===this.bind?"2":"")+"bind "+this.varRef.TwineScript_ToSource()},set:function(e){var e=this.varRef.set(e);if(e=r.containsError(e))return e},create:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"one way";return r.containsError(e)?e:n.isPrototypeOf(e)?e.error||Object.assign(Object.create(this),{varRef:e,bind:t}):r.create("operation","I can only 'bind' a variable, not "+a(e)+".")}})}),define("debugmode/highlight",["jquery","utils","utils/typecolours","macros","lexer"],function(u,e,t,p,n){var d=e.insensitiveName,f=t.versionClass,h=n.lex;return function(e,t,n,r){if(9999<e.length)return[u("<span>").text(e)];for(var a=h(e,"",t||"macro"),o=[],i="",s=a,c=a.start;c<a.end;c+=1){var l=a.pathAt(c);l[0]!==s[0]&&(o.length&&(o[o.length-1].textContent=i),i="",s=l,o.push(u("<".concat(r&&n<=c&&c<r?"mark":"span",' class="').concat(function(e){for(var t={},n="",r=0;r<e.length;r+=1){var a=e[r],o=a.type,i=a.text,s=("verbatim"!==o&&"comment"!==o||(n=""),f+o);switch(t[s]=(t[s]||0)+1,1<t[s]&&(s+="-"+t[s]),o){case"text":i.trim()&&e.slice(r+1).reduce(function(e,t){return void 0===e?"macro"===t.type||"hook"!==t.type&&e:e},void 0)&&(s+=" ".concat(f,"error"));break;case"macroName":var c,l=e[r].text[0];"_"!==l&&"$"!==l?(c=d(e[r].text.slice(0,-1)),p.has(c)?s+="-"+p.get(c).returnType.toLowerCase():s+=" ".concat(f,"error")):s+=" ".concat(f,"customMacro ").concat(f+("_"===l?"tempV":"v"),"ariable")}n+=s+" "}return n}(s),'">'))[0])),i+=a.text[c-a.start]}return o.length&&(o[o.length-1].textContent=i),o}}),define("debugmode/mode",["jquery","utils","utils/naturalsort","state","engine","internaltypes/varref","internaltypes/twineerror","utils/operationutils","utils/renderutils","passages","section","debugmode/panel","debugmode/highlight","utils/typecolours"],function(I,V,M,D,F,L,H,e,t,z,q,W,B,n){var U=e.objectName,$=e.isObject,G=e.toSource,Y=e.typeID,J=t.dialog,X=n.CSS,K=function(e,t){var f=V.escape,i=V.nth,n=V.debounce,r=I(document.documentElement),a=M(),o={darkMode:!0,fadePanel:!0,evalReplay:!0,width:null,maxHeight:400};if(D.hasStorage)try{var s=localStorage.getItem("(Debug Options "+V.options.ifid+")");s&&(o=JSON.parse(s))}catch(e){}function c(){if(D.hasStorage)try{localStorage.setItem("(Debug Options "+V.options.ifid+")",JSON.stringify(o))}catch(e){}}W.defaultMaxHeight=o.maxHeight;function l(e){return n(function(){if(V.options.debug)return e.apply(this,arguments)},{maxWait:2e3})}var h=I('<tw-debugger class="'.concat([o.darkMode?"theme-dark":"",o.fadePanel?"fade-panel":""].join(" "),'" style="').concat(o.width?"width:"+o.width+"px":"","\">\n<div class='panel panel-errors' hidden><table></table></div>\n<div class='tabs'></div>\n<label style='user-select:none'>Turns: </label><select class='turns' disabled></select>\n<button class='show-invisibles'>\ud83d\udd0d Debug View</button>\n<button class='show-dom'><span style=\"vertical-align:text-top\">&lt;</span><span style=\"vertical-align:text-bottom\">&gt;</span> DOM View</button>\n<button class='close'>\u2716</button>\n<div class='resizer-h'>\n</tw-debugger>")),s=h.find(".tabs"),u=h.find(".show-dom"),p=h.find(".show-invisibles"),d=h.find(".close"),m=h.find(".turns");I(document.documentElement).on("click","tw-expression, tw-error, tw-eval-explanation",n(function(e){var r,a,o,i,l,u,p,d,t=I(e.target).data("evalReplay");function n(){var e,s,c=r[a],t=o.find("tw-eval-explanation").empty(),n=o.find("tw-eval-code");c.toCode||c.toDesc||c.error||c.lambda?(o.find("tw-eval-code").empty().append(B(c.code,"macro",0<a&&c.start,0<a&&c.end+c.diff)),t.append(c.lambda?"":"<code class='".concat(56<c.fromCode.length?"from-block":"from-inline","'></code>"),c.error?"<span> caused an error: </span>":c.lambda?"<span>The lambda <code class='to-lambda'></code> was run, producing these results.</span>":"<span> became".concat(c.ToDesc?"\u2026":""," </span>").concat(c.toDesc?"<span class='to-desc'>".concat(f(c.toDesc),".</span>"):"<code class='to-code'></code>")),c.error?t.append(c.error):c.lambda?(s=function(e,t){return I("<".concat(e,"><code></").concat(e,">")).find("code").append(B(t,"macro")).end()},t.find(".to-lambda").append(B(c.lambda.obj.source,"macro")).end().append((e=I("<table>")).append.apply(e,[I("<tr>").append(s("th","pos"),c.lambda.obj.loop?s("th","_"+c.lambda.obj.loop.getName()).append(" / ",I("<code>").append(B("it","macro"))):s("th","it"),c.lambda.obj.making&&s("th","_"+c.lambda.obj.making.getName()),c.lambda.obj.where&&s("th","where").append(" result"),c.lambda.obj.via&&s("th","via").append(" result"))].concat(_toConsumableArray(c.lambda.loops.map(function(e){var t=e.it,n=e.pos,r=e.making,a=e.whereResult,o=e.whereReplay,i=e.viaResult,e=e.viaReplay;return I("<tr>").append(s("td",G(n)),s("td",G(t)),void 0!==r&&s("td",G(r)),null!=a&&(H.containsError(a)?I("<td>").append(a.render(c.lambda.obj.source,!0)):s("td",G(a))).append(o&&I("<tw-open-button replay label='\ud83d\udd0d'>").data("evalReplay",o)),null!=i&&(H.containsError(i)?I("<td>").append(i.render(c.lambda.obj.source,!0)):s("td",G(i))).append(e&&I("<tw-open-button replay label='\ud83d\udd0d'>").data("evalReplay",e)))})))))):c.toDesc||t.find(".to-code").append(B(c.toCode,"macro")),t.next().html(c.itIdentifier?'(The <code class="cm-harlowe-3-identifier">it</code> identifier now refers to '.concat(f(c.itIdentifier),".)"):"").next().text(c.reason||"")):(n.html(B(c.code,"macro")),t.html("<center>First, there was <code></code>.</center>").next().empty().next().empty()),c.lambda||t.find("code").first().append(B(c.fromCode,"macro")),o.find("mark").each(function(e,t){t.scrollIntoView()}),i.css("visibility",a<=9?"hidden":"visible"),l.css("visibility",a<=0?"hidden":"visible"),p.css("visibility",a>=r.length-1?"hidden":"visible"),d.css("visibility",a>=r.length-10?"hidden":"visible"),u.html("( ".concat(a+1,"/").concat(r.length," )"))}t&&(r=t,t=J({buttons:[{name:"Understood",confirm:!(a=0),callback:function(){return!h.find("tw-backdrop").length&&h.removeClass("show-dialog")}}]}).addClass("eval-replay"),o=I("<tw-eval-replay>".concat(1===r.length?"":"<tw-eval-code></tw-eval-code>","<tw-eval-explanation></tw-eval-explanation><tw-eval-it></tw-eval-it><tw-eval-reason></tw-eval-reason>").concat(1===r.length?"":"<tw-dialog-links><tw-link style='visibility:hidden'>\u2190 10</tw-link><tw-link style='visibility:hidden'>\u2190 \u2190</tw-link><b></b><tw-link>\u2192 \u2192</tw-link><tw-link>10 \u2192</tw-link></tw-dialog-links>","</tw-eval-replay>")),t.find("tw-dialog").css({width:"75vw","max-width":"75vw"}).prepend(o),i=o.find("tw-link:first-of-type"),l=i.next(),u=l.next(),p=u.next(),d=p.next(),n(),i.on("click",function(){a=Math.max(0,a-10),n()}),l.on("click",function(){a=Math.max(0,a-1),n()}),p.on("click",function(){a=Math.min(r.length-1,a+1),n()}),d.on("click",function(){a=Math.min(r.length-1,a+10),n()}),h.find("tw-backdrop").length?h.find("tw-backdrop").before(t):h.addClass("show-dialog").append(t));var s,t=I(e.target).data("goto");t&&(s=V.options.ignoreGotos,V.options.ignoreGotos=!1,t.command.TwineScript_Run(t.section),V.options.ignoreGotos=s),e.stopPropagation()})),h.find(".resizer-h").mousedown(function(e){if(1!==e.which)return!0;e.stopPropagation();var t=e.pageX,n=h.width();r.on("mousemove.debugger-resizer-h",function(e){e=e.pageX;h.width("".concat(n+t-e|0,"px"))}).on("mouseup.debugger-resizer-h",function(){r.off(".debugger-resizer-h"),o.width=h.width(),c()})}),h.on("mousedown",".resizer-v",function(e){if(1!==e.which)return!0;e.stopPropagation();var t=e.pageY,n=I(e.target.parentNode).height();r.on("mousemove.debugger-resizer-v",function(e){e=e.pageY;h.find(".panel").css("maxHeight","".concat(n+t-(0|e),"px"))}).on("mouseup.debugger-resizer-v",function(){r.off(".debugger-resizer-v"),o.maxHeight=h.find(".panel").css("maxHeight"),c()})}),p.click(function(){r.toggleClass("debug-mode").removeClass("dom-debug-mode"),p.toggleClass("enabled"),u.removeClass("enabled")}),u.click(function(){r.toggleClass("dom-debug-mode").removeClass("debug-mode"),u.toggleClass("enabled"),p.removeClass("enabled")}),d.click(function(){r.removeClass("debug-mode dom-debug-mode"),h.detach(),Object.assign(V.options,{debug:!1,speedMultiplier:1,ignoreClickEvents:!1,ignoreGotos:!1})});function g(e){(e=e.parents(".variable-row, .enchantment-row, .source-row")).next(".panel-row-source").find("td").empty().append(B(e.data("value")||G(e.data("enchantment").changer),e.is("source-row")?"markup":"macro"))}function y(){return k=new Set}function b(){I(document.body).append(h),V.options.debug=!0,V.options.evalReplay=o.evalReplay,V.options.speedMultiplier=1,V.options.ignoreClickEvents=!1,V.options.ignoreGotos=!1,R()}var v,w=l(function(){var r=m.children().get(),e=D.timeline,a=0;e.forEach(function(e,t){var n=e.turns,e=e.passage,n=(a+=1+(void 0===n?0:n))+": "+e;r[t]?r[t].textContent=n:m.append("<option value='".concat(t,"'>").concat(n,"</option>"))}),e.length<r.length&&I(r.slice(e.length)).remove(),m[1<=e.length?"removeAttr":"attr"]("disabled"),m.val(D.pastLength)}),k=(m.change(function(e){e=e.target.value-D.pastLength;0!=e&&(D[e<0?"rewind":"fastForward"](Math.abs(e)),F.showPassage(D.passage))}),w(),D.on("forward",w).on("load",w).on("forgetUndos",function(){return w}).on("back",function(){D.pastLength<=1&&m.attr("disabled"),m.find("[selected]").removeAttr("selected"),m.val(D.pastLength)}),new Set),S=W.create({className:"variables",tabName:"Variable",rowWrite:function(e,t){var n,r=e.name,a=e.dataset,o=e.path,i=e.value,s=e.tempScope,e=e.type,c=i&&48<i.length&&!i.TwineScript_DebugName,l=$(i)&&i.TwineScript_DebugName?i.TwineScript_DebugName():f(U(i)),u="",a=(o.length&&(u=o.reduce(function(e,t){return e+t+"'s "},"")),a&&(r="???"),e?G(e):""),e="object"===_typeof(i)||c;return t?(t[0].firstChild.innerHTML=a||"",u&&I(t[0].firstChild).children(".variable-path").html((s?"_":"$")+f(u)),t[0].childNodes[1].lastChild.textContent=(u?"":s?"_":"$")+f(r+""),t[0].childNodes[2].textContent=s||"",t[0].childNodes[3].innerHTML=l,n=(c=I(t[0].lastChild.firstChild)).is(".open"),c[e?"show":"hide"](),c=t.next(".panel-row-source"),n&&c.find("td").empty().append(B(G(i))),t.data("value",G(i)),t.add(c)):I('<div class="variable-row">').attr("data-name",r).attr("data-path",o+"").attr("data-scope",s||"").css("padding-left",Math.min(5,o.length)+"em").append("<td class='variable-type'>".concat(a||"","</td>"),"<td class='variable-name cm-harlowe-3-"+(s?"tempV":"v")+"ariable'><span class='variable-path'>"+(u?(s?"_":"$")+f(u):"")+"</span> "+(u?"":s?"_":"$")+f(r+"")+"</td>","<td class='temporary-variable-scope'>".concat(s||"","</td>"),"<td class='variable-value cm-harlowe-3-macroName-"+Y(i)+"'>"+l+"</td><td class='panel-row-buttons'><tw-folddown tabindex=0 style='display:"+(e?"visible":"none")+"'>(source:) </tw-folddown></td>").data("value",G(i)).find("tw-folddown").data("folddown",g).end().add("<tr class='variable-row panel-row-source' style='display:none'><td colspan='5'></td></tr>")},rowCheck:function(e,t){var n=e.name,r=e.path,e=e.tempScope;return t[0]&&t[0].getAttribute("data-name")===n&&t[0].getAttribute("data-path")===r+""&&t[0].getAttribute("data-scope")===e},columnHead:function(){return'<tr class="panel-head"><th data-col="variable-type">Type</th><th data-col="variable-name">Name</th><th data-col="temporary-variable-scope">Scope</th><th data-col="variable-value">Value</th></tr>'},rowSort:function(e,t,n){if("variable-value"===e)return a(t.attr("class"),n.attr("class"))||a(t.parent().data("value"),n.parent().data("value"))}}),T=l(function(){var e,t,o=[],n=D.variables,r=o.length;for(e in n)e.startsWith("TwineScript")||(r+=1,function n(e){var r,t,a;500<o.length||(o.push(e),r=e.path.concat(e.name),t=e.value,a=e.tempScope,r.length<=4&&(Array.isArray(t)?t.forEach(function(e,t){return n({name:i(t+1),path:r,value:e,tempScope:a})}):t instanceof Map?_toConsumableArray(t).forEach(function(e){var t=(e=_slicedToArray(e,2))[0],e=e[1];return n({name:t,path:r,value:e,tempScope:a})}):t instanceof Set&&_toConsumableArray(t).forEach(function(e,t){return n({name:t,dataset:!0,path:r,value:e,tempScope:a})})))}({name:e,path:[],value:n[e],tempScope:"",type:null==(t=n.TwineScript_TypeDefs)?void 0:t[e]}));o.push.apply(o,_toConsumableArray(k)),r+=k.size,S.update(o,r),0===r!==S.panel[0].classList.contains("panel-variables-empty")&&S.panel.toggleClass("panel-variables-empty")}),_=(L.on("set",function(e,t,n){var r,a;e===D.variables||"temp"!==(null==(a=e.TwineScript_VariableStore)?void 0:a.type)||null!=(a=e.TwineScript_VariableStore)&&a.name.match(/#\d+$/)||(r=null==(a=e.TwineScript_VariableStore)?void 0:a.name,e=null==(a=e.TwineScript_TypeDefs)?void 0:a[t],(a=_toConsumableArray(k).find(function(e){return e.name===t&&e.tempScope===r}))?a.value=n:k.add({name:t,path:[],value:n,tempScope:r,type:e})),T(),v()}).on("delete",function(){T(),v()}),S.panel.append("<div class='panel-variables-bottom'>\n\t\t\t<button class='panel-variables-copy'>Copy $ variables as (set:) call</button>\n\t\t\t<input class='clipboard' type=\"text\" style='opacity:0;pointer-events:none;position:absolute;'></input>\n\t\t</div>").removeAttr("hidden"),S.tab.addClass("enabled"),S.panel.find(".clipboard")),x=(r.on("click",".panel-variables-copy",function(){var e,t=[];for(e in D.variables)e.startsWith("TwineScript")||t.push("$"+e+" to "+G(D.variables[e]));_.val("(set:"+t+")")[0].select(),document.execCommand("copy")}),W.create({className:"enchantments",tabName:"Enchantment",rowWrite:function(e,t){var n=e.scope,r=e.changer,a=e.lambda,o=e.name,i=e.localHook,a=r?f(U(r)):a?f(G(a)):"<em>enchanted with ("+o+":)</em>";return t||I('<div class="enchantment-row">').data("enchantment",e).append("<td><span class='enchantment-name'>"+G(n)+(i?"</span><span class='enchantment-local cm-harlowe-3-hookName'>"+("function"==typeof i.TwineScript_ToSource?i.TwineScript_ToSource():i.attr("name")?"?"+i.attr("name"):"an unnamed hook"):"")+"</span></td><td class='enchantment-value cm-harlowe-3-macroName-"+(r?"changer":"command")+" '>"+a+"</td>"+(r?"<td class='panel-row-buttons'><tw-folddown tabindex=0>(source:)</tw-folddown></td>":"")).find("tw-folddown").data("folddown",g).end().add(r?I("<tr class='panel-row-source' style='display:none'><td colspan='3'></td></tr>"):"")},rowCheck:function(e,t){return t.data("enchantment")===e},columnHead:function(){return'<tr class="panel-head"><th data-col="enchantment-name">Scope</th><th data-col="enchantment-value">Value</th></div>'}})),d=l(function(e){x.update(e.enchantments,e.enchantments.length)}),O=(q.on("add",d).on("remove",d),q.create()),A=W.create({className:"storylets",tabName:"Storylet",rowWrite:function(e,t){var n=e.name,r=e.active,a=e.storyletSource,o=e.exclusive,e=e.urgent;return t?(t.toggleClass("storylet-closed",!r),t[0].firstChild.textContent=r?"\u2713":""):(t=I('<tr class="storylet-row '.concat(r?"":"storylet-closed",'">')).attr("data-name",n).append("<td class='storylet-open'>"+(r?"\u2713":"")+"</td><td class='storylet-name'>"+n+"</td><td class='storylet-lambda'></td><td class='storylet-exclusive'>"+o+"</td><td class='storylet-urgent'>"+e+"</td>")).find(".storylet-lambda").append(B(a.replace(/^when\s+/i,""))),t},rowCheck:function(e,t){e=e.name;return t[0].getAttribute("data-name")===f(e+"")},columnHead:function(){return'<tr class="panel-head"><th data-col="storylet-open" data-order="desc">Open</th><th data-col="storylet-name">Name</th><th data-col="storylet-lambda">Condition</th><th data-col="storylet-exclusive" class=\'storylet-exclusive\'>Exclusivity</th><th data-col="storylet-urgent" class=\'storylet-urgent\'>Urgency</th></tr>'}}),C=(A.tab.hide(),v=l(function(){var r,a,o=z.getStorylets(O),i=H.containsError(o),e=z.allStorylets();A.update(e.map(function(t){var e="number"==typeof t.get("exclusivity")?t.get("exclusivity"):0,n="number"==typeof t.get("urgency")?t.get("urgency"):0;return r=r||e,a=a||e,{name:t.get("name"),storyletSource:t.get("storylet").TwineScript_ToSource(),active:!i&&o.some(function(e){return e.get("name")===t.get("name")}),exclusive:e,urgent:n}}),i?0:o.length),A.panel.toggleClass("storylet-error",i),A.panel.toggleClass("panel-exclusive",r),A.panel.toggleClass("panel-urgent",a),e.length&&A.tab.show()}),W.create({className:"source",tabName:"Source",tabNameCounter:!1,rowWrite:function(e,t){var n=e.name,e=e.tag;return t?t.add(t.next(".panel-row-source")):(t=z.get(n).get("source"),I('<div class="source-row" data-tag="'.concat(e,'">')).data("value",t).append('<td class="source-name">'.concat(n,'</td><td class="source-tags">').concat(e,"</td><td class='panel-row-buttons'><tw-folddown class='").concat(e?"":"open","' tabindex=0></tw-folddown></td>")).find("tw-folddown").data("folddown",g).end().add(I("<tr class='panel-row-source' style='".concat(e?"display:none":"","'><td colspan='3'></td></tr>")).find("td").append(!e&&B(t,"markup")).end()))},rowCheck:function(e,t){e=e.name;return t[0].firstChild.textContent===f(e+"")},tabUpdate:I.noop,columnHead:I.noop})),E=["debug-startup","startup","header","debug-header","footer","debug-footer"].reduce(function(e,t){return e.concat(z.getTagged(t).map(function(e){return{name:e.get("name"),tag:t}}))},[]),N=W.create({className:"errors",tabName:"Error",rowWrite:I.noop,rowCheck:I.noop,columnHead:I.noop,tabUpdate:function(e){return N.tab.css({background:e?"rgba(230,101,204,0.3)":""}).text("".concat(e," Error").concat(1!==e?"s":""))}}),d=n(function(e){var t;V.options.debug&&(N.panelRows.append(e.reduce(function(e,t){var t=_slicedToArray(t,2),n=t[0],t=t[1];return"propagated"===n.type?e:e+'<tr class="error-row"><td class="error-passage">'+D.passage+'</td><td class="error-message" title="'+f(t)+'">'+n.message+"</td></tr>"},"")),500<(t=(e=N.panelRows.children()).length)&&I(Array.prototype.slice.call(N.panelRows[0].childNodes,0,t-500)).remove(),N.tabUpdate(Math.min(500,e.length)))},{batch:!0}),j=(H.on(d),N.panel.append("<div class='panel-errors-bottom'>\n\t\t\t<button class='panel-errors-clean'>\ud83e\uddf9 Clear this panel</button>\n\t\t</div>"),r.on("click",".panel-errors-clean",function(){N.panelRows.empty(),N.tabUpdate(0)}),W.create({className:"tools",tabName:"Tools",tabNameCounter:!1,rowWrite:function(e,t){var n=e.id,r=e.type,a=e.label,o=e.dropdownItems,i=e.dropdownValue;return"checkbox"===r?t?t.find("input").prop("checked",!1):I('<span><input id="debug-'.concat(n,'" type="checkbox"></input><label for="debug-').concat(n,'">').concat(a,"</label></span>")):"dropdown"===r?t?t.find("input").prop("checked",!1):I("<span>".concat(a,'<select style="width:3em" data-default="').concat(i,'" id="debug-').concat(n,'"></span>')).find("select").append(o.map(function(e){return"<option value='".concat(e,"' ").concat(e===i?"selected":"",">").concat(e,"x</option>")})).end():void 0},rowCheck:I.noop,columnHead:I.noop,tabUpdate:function(e){return j.tab.css({background:e?"hsla(210, 72%, 65%, .3)":""})}})),P=(r.on("click, change",'.panel-tools [type="checkbox"], .panel-tools select',function(e){var e=e.target,t=(e=I(e)).attr("id"),n=e.is(":checked")||e.is("select")&&e.val()!==+e.attr("data-default");"debug-peekBehindDialogs"===t&&r.toggleClass("debug-dialogs",n),"debug-ignoreClickEvents"===t&&(V.options.ignoreClickEvents=n),"debug-ignoreGotos"===t&&(V.options.ignoreGotos=n),"debug-speedMultiplier"===t&&(V.options.speedMultiplier=+e.val()),j.tabUpdate(n)}),j.update([{id:"peekBehindDialogs",type:"checkbox",label:"See through and click through <code>(dialog:)</code> boxes"},{id:"ignoreClickEvents",type:"checkbox",label:"Stop links, <code>(click:)</code> and <code>(hover-style:)</code> from activating"},{id:"ignoreGotos",type:"checkbox",label:"Stop <code>(go-to:)</code>, <code>(undo:)</code>, <code>(redirect:)</code> and <code>(restart:)</code> from activating<br><small>(Click 'GO' buttons in Debug View to activate later)</small>"},{id:"speedMultiplier",label:"Speed of timed events (<code>time</code>, <code>(live:)</code>, <code>(after:)</code>): ",type:"dropdown",dropdownValue:1,dropdownItems:[.25,.5,.75,1,1.25,1.5,1.75,2,3,5,10]}]),W.create({className:"options",tabName:"\u2699\ufe0f",tabNameCounter:!1,rowWrite:function(e,t){var n=e.name,e=e.label,r={darkMode:o.darkMode,fadePanel:o.fadePanel,evalReplay:o.evalReplay}[n];return t?t.find("input").prop("checked",r):I('<span><input id="debug-'.concat(n,'" type="checkbox" ').concat(r?"checked":"",'></input><label for="debug-').concat(n,'">').concat(e,"</label></span>"))},rowCheck:I.noop,tabUpdate:I.noop,columnHead:I.noop})),R=(r.on("click",'.panel-options [type="checkbox"]',function(e){var e=e.target,t=(e=I(e)).attr("id"),e=e.is(":checked");"debug-darkMode"===t&&(o.darkMode=e,h.toggleClass("theme-dark",e)),"debug-fadePanel"===t&&(o.fadePanel=e,h.toggleClass("fade-panel",e)),"debug-evalReplay"===t&&(V.options.evalReplay=o.evalReplay=e),c()}),P.update([{name:"darkMode",label:"Debug panel is dark"},{name:"fadePanel",label:"Debug panel is transparent unless the cursor is over it"},{name:"evalReplay",label:"Record expression replays (viewable via \ud83d\udd0d buttons in Debug View; slower)"}]),h.prepend(S.panel,x.panel,N.panel,A.panel,C.panel,j.panel,P.panel),s.prepend(S.tab,x.tab,N.tab,A.tab,C.tab,j.tab,P.tab),D.on("beforeForward",y).on("beforeBack",y).on("beforeLoad",y),l(function(){T(),v(),x.panelRows.empty(),x.tabUpdate(0),D.passage&&z.get(D.passage)&&(C.update(E.concat({name:D.passage,tag:""})),C.panel.find('[data-tag=""], [data-tag=""] + .panel-row-source').insertBefore(C.panel.find('[data-tag="footer"]').first()))}));D.on("forward",R).on("back",R).on("load",R);K=b,I(document.head).append(I("<style>").html(X)),b(),e&&d(e,t)};return F.registerDebugMode(function(e,t){return!V.options.debug&&K(e,t)}),K}),define("debugmode/panel",["jquery","utils/naturalsort"],function(d,e){var i=e();return Object.seal({create:function(e){var n,t=e.className,r=e.rowWrite,a=e.rowCheck,o=e.rowSort,i=e.columnHead,s=e.tabName,c=e.tabNameCounter,l=void 0===c||c,c=e.tabUpdate,u=d("<div class='panel panel-".concat(t,"' style='").concat(this.defaultMaxHeight?"max-height:"+this.defaultMaxHeight+"px":"","' hidden><div class=\"resizer-v\"></div><table class='panel-rows'></table></div>")),p=d("<button class='tab tab-".concat(t,"'>").concat(l?"0 ".concat(s,"s"):s,"</button>"));return p.click(function(){p.toggleClass("enabled"),p.parent().siblings(".panel").attr("hidden",""),p.is(".enabled")&&(p.siblings(".tab:not(.tab-"+t+")").removeClass("enabled"),u.removeAttr("hidden"))}),u.on("click","th",function(e){var e=e.target,t="desc"===(e=d(e)).attr("data-order")?"asc":"desc";n.sort(e.attr("data-col"),t),u.find("th[data-order]").removeAttr("data-order"),e.attr("data-order",t)}),c=c||function(e){return p.text(l?"".concat(e," ").concat(s).concat(1!==e?"s":""):s)},n=Object.assign(Object.create(this),{tabName:s,tab:p,panel:u,panelRows:u.find(".panel-rows"),rowWrite:r,rowSort:o,rowCheck:a,columnHead:i,tabUpdate:c})},sort:function(r,a){var o=this;this.panelRows.children(":not(.panel-head, .panel-row-source)").get().sort(function(e,t){var n;return"desc"===a&&(e=(n=[t,e])[0],t=n[1]),e=e.querySelector("."+r),t=t.querySelector("."+r),o.rowSort&&o.rowSort(r,d(e),d(t))||i(e.textContent,t.textContent)}).forEach(function(e){var t=d(e).next(".panel-row-source").get();o.panelRows.append(e,t)})},update:function(e,t){var r=this.rowCheck,a=this.rowWrite,o=this.panelRows,n=this.columnHead,i=this.panel,s=[],c=o.children(),e=(e.forEach(function(t){var e=c.get().filter(function(e){return r(t,d(e))}),n=a(t,e.length&&d(e));e.length||o.append(n),s.push.apply(s,_toConsumableArray(n.get()))}),c.filter(function(e,t){return!s.includes(t)&&!t.className.includes("panel-head")}).remove(),this.tabUpdate(t),0<t&&!o.find(".panel-head").length?o.prepend(n()):0===t&&o.find(".panel-head").remove(),i.find("th[data-order]"));e.length&&this.sort(e.attr("data-col"),e.attr("data-order"))},defaultMaxHeight:300})}),define("internaltypes/changedescriptor",["jquery","utils","renderer","datatypes/hookset","internaltypes/twineerror"],function(b,e,t,v,n){function w(e){return("string"==typeof e?e:e.map(function(e){return e.text}).join("")).split(/\n/g).reduce(function(e,t,n,r){r=r.length;return e.concat(document.createTextNode(t),n!==r-1&&document.createElement(t.length?"br":"tw-consecutive-br"))},[])}var k=e.impossible,S=e.transitionIn,T=t.exec,r=Object.assign,p=Object.keys,a=Object.create,e=Object.seal,_=Array.isArray,x={source:"",appendSource:null,enabled:!0,enablers:null,verbatim:!1,target:null,append:"",newTargets:null,transition:"",transitionTime:null,transitionDeferred:!1,transitionDelay:0,transitionSkip:0,transitionOrigin:null,loopVars:null,styles:null,attr:null,data:null,innerEnchantments:null,section:null,timestamp:0,output:!1,summary:function(){var t=this;return["source","appendSource","enabled","verbatim","target","append","newTargets","transition","transitionTime","transitionDeferred","transitionDelay","transitionSkip","transitionOrigin","innerEnchantments","enablers","output"].filter(function(e){return hasOwnProperty.call(t,e)}).concat([this.attr.length&&"attr",this.styles.length&&"styles",p(this.loopVars).length&&"loopVars",p(this.data).length&&"data"].filter(Boolean))},create:function(e,t){e=r(a(this),{attr:this.attr?this.attr.slice():[],styles:this.styles?this.styles.slice():[],loopVars:this.loopVars||{},data:this.data||{}},e);if(t){t=t.run(e);if(n.containsError(t))return t}return e},update:function(){function e(t){var e,n,r;_(a.styles)&&0<a.styles.length&&(n=(e=_slicedToArray(a.styles.reduce(function(n,r){return p(r).forEach(function(e){var t=r[e];n[+("function"==typeof t)].push(_defineProperty({},e,t))}),n},[[],[]]),2))[0],r=e[1],n.forEach(function(e){return t.css(e)}),setTimeout(function(){r.forEach(function(e){return t.css(e)})})),a.attr&&a.attr.forEach(function(e){return t.attr(e)}),a.data&&t.data(a.data)}var a=this,t=this.section,n=this.newTargets,r=this.transition,o=this.transitionDeferred,i=this.append,s=this.target;"function"==typeof s&&(s=s());if(_(n)&&n.length&&(s=n.map(function(e){return e.target})),_(s))for(var c=0;c<s.length;c+=1)v.isPrototypeOf(s[c])?s[c].forEach(t,e):e(s[c]);else v.isPrototypeOf(s)?s.forEach(t,e):e(s);if(r&&!o&&!i){for(var l,u=s;(l=u.data("timestamp"))||(u=u.parent()),!l&&u.length;);S(s,r,this.transitionTime,this.transitionDelay,this.transitionSkip,l?Date.now()-l:0,this.transitionOrigin)}},render:function(){var e,r=this,t=this.source,n=this.transition,a=this.transitionTime,o=this.transitionDeferred,i=this.enabled,s=this.enablers,c=this.data,l=this.section,u=this.newTargets,p=this.innerEnchantments,d=this.appendSource,f=this.output,h=this.target,m=this.target,g=this.append;if("function"==typeof h&&(h=h()),!g)return k("ChangeDescriptor.render","This doesn't have an 'append' method chosen."),b();if(f)return b();if(null!=s&&s.length)return s=(f=s[0]).descriptor,f=f.changer,s=s.render(),f&&(e=x.create({section:l,target:s}),f.run(e),e.update()),s;if(!i||void 0!==h.attr("hidden"))return x.create({target:h,attr:this.attr.filter(function(e){return!("style"in e)}),data:_objectSpread(_objectSpread({},c),{},{originalSource:t,hidden:!0})}).update(),b();if(!(h=_(u)&&u.length?u:h))return k("ChangeDescriptor.render","ChangeDescriptor has source but not a target!"),b();var y=b();if([].concat(h).filter(function(e){return!e.jquery}).map(function(e){var t,n,r=g;return e.target&&e.append&&(r=(t=e).append,n=t.before,e=e.target),{elements:e.hooks(l,m).filter(function(){return!(n&&1&this.compareDocumentPosition(document)&&2&this.compareDocumentPosition(m[0]))}),append:r}},[]).forEach(function(e){var t=e.elements,n=e.append;t.each(function(e,t){t=b(t),y=y.add(r.create({target:t,append:n,newTargets:null}).render()),t.filter("tw-pseudo-hook").contents().unwrap()})}),!(y.length||_(h)||v.isPrototypeOf(h))){f=g;if(!(f in h)){if("replace"!==f)return k("ChangeDescriptor.render","The target doesn't have a '"+f+"' method."),b();f=h[0]instanceof Text?"replaceWith":(h.empty(),"append")}h[0]instanceof Text&&"prepend"===(f="append"===f?"after":f)&&(f="before"),y=b(t&&(this.verbatim?w:T)(t)),_(d)&&d.forEach(function(e){var t=e.source,e=e.append,t=b((r.verbatim?w:T)(t));y="append"===e?y.add(t):"prepend"===e?t.add(y):t}),h[f](y.length?y:void 0),h.data("timestamp",Date.now()),this.update(),n&&!o&&S("replace"===g?h:y,n,a,this.transitionDelay,this.transitionSkip,this.expedite,this.transitionOrigin),p&&p.map(function(e){return e(h)}).forEach(function(e){return l.addEnchantment(e)})}return y}};return e(x)}),define("internaltypes/enchantment",["jquery","utils","internaltypes/changedescriptor","datatypes/changercommand","utils/operationutils","internaltypes/twineerror","utils/renderutils"],function(g,y,b,v,e,w,t){var k=e.objectName,S=e.toSource,T=t.collapse;return Object.freeze({create:function(e){return Object.assign(Object.create(this),{enchantments:g()},e)},enchantScope:function(){var i=this,s=this.attr,c=this.data,l=this.functions,u=this.section,p=this.scope,d=this.localHook,f=this.lambda,h=[],m=0;p.forEach(u,function(e,t){if(d){d=d.jquery?d:d.hooks(u);var n=e.find(d);if(n.length)e=n;else if(!d.has(e[0]).length)return}var r,a,o;(!e.is(":empty")||e.data("source")&&e.data("source").length)&&(m+=1,f?(o=f.apply(u,{loop:p.TwineScript_GetProperty(t),pos:m}),w.containsError(o)?(e.replaceWith(o.render()),f=o=null):v.isPrototypeOf(o)?o.canEnchant||(e.replaceWith(w.create("macrocall",'The lambda "'.concat(S(f),"\" can't be or include a revision, enchantment, or interaction changer like (replace:), (click:), or (link:).")).render()),f=o=null):(e.replaceWith(w.create("macrocall",'The lambda "'.concat(S(f),'" must return a changer, not ').concat(k(o),".")).render()),f=o=null)):o=i.changer,n=!s&&!c&&(!o||o.summary().every(function(e){return e.startsWith("transition")})),r=n?e:e.wrap("<tw-enchantment>").parent(),s&&r.attr(s),c&&r.data(c),l&&l.forEach(function(e){return e(r)}),o&&(t=b.create({section:u,target:r}),o.run(t),t.update(),e.is(y.storyElement)?(a=Object.keys(Object.assign.apply(Object,[{}].concat(_toConsumableArray(t.styles)))),e.css(a.reduce(function(e,t){return"background-color"===t||"background-image"===t?(e["background-color"]="transparent",e["background-image"]="none",a.push("background-".concat("background-color"===t?"image":"color"))):e[t]="inherit",e},{})),r.data({enchantedProperties:a})):e.is("tw-passage")&&t.styles.some(function(e){return"margin-left"in e||"margin"in e||"margin-right"in e})&&(o="padding-right",y.storyElement.css(t="padding-left","0px").css(o,"0px"),r.data({enchantedProperties:[t,o]}))),e.is(y.storyElement)&&r.css({"min-width":"100%","min-height":"100%"}),"true"===r.attr("collapsing")&&(r.find("[collapsing=false]").each(function(){g(this).removeAttr("collapsing")}),T(r)),n||h.push(r))}),this.enchantments=g(h)},disenchant:function(){this.enchantments.each(function(e,t){(t=g(t)).contents().unwrap();t=t.data("enchantedProperties");t&&y.storyElement.css(t.reduce(function(e,t){return e[t]="",e},{}))})}})}),define("internaltypes/twineerror",["jquery","utils"],function(i,s){var a=s.impossible,c=s.escape,l=(i(document.documentElement).on("click","tw-folddown",function(e){var t=e.target,e=((t=i(t)).toggleClass("open"),t.popData("folddown"));for("function"==typeof e&&e(t);t&&!t.next().length;)t=t.parent();null!=(e=t)&&e.next().toggle()}),{syntax:"The markup seems to contain a mistake.",saving:"I tried to save or load the game, but I couldn't do it.",operation:"I tried to perform an operation on some data, but the data's type was incorrect.",macrocall:"I tried to use a macro, but its call wasn't written correctly.",datatype:"I tried to use a macro, but was given the wrong type of data to it.",custommacro:"I tried to use a custom macro, but its code hook had a mistake in it.",infinite:"I almost ended up doing the same thing over and over, forever.",property:"I tried to access a value in a string/array/datamap, but I couldn't find it.",unimplemented:"I currently don't have this particular feature. I'm sorry.",propagated:"Click the 'Open' button to see the code hook as it was executed.",user:"This is a custom error created by (error:). It usually means you used a custom macro incorrectly.",assertion:"This command exists to provide a helpful error if a certain important condition wasn't true.",debugonly:"This macro is not meant to be used outside of debugging your story."}),u=[],n={TwineError:!0,create:function(e,t,n,r){return t&&"string"==typeof t||a("TwineError.create","has a bad message string"),n||e in l||a("TwineError.create","no error explanation given"),"user"!==e&&(t=t[0].toUpperCase()+t.slice(1)),Object.assign(Object.create(this),{type:e,message:t,explanation:n,source:void 0,innerDOM:r,appendTitleText:!1})},containsError:function(){for(var e=0;e<arguments.length;e+=1){var t=arguments[e];if(n.isPrototypeOf(t))return t;if(Array.isArray(t)){t=n.containsError.apply(n,t);if(t)return t}}return!1},createWarning:function(e,t){return Object.assign(this.create(e,t),{warning:!0})},render:function(t){var n=this,e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],r=(t="string"==typeof t?t:this.source||"",i("<tw-error class='"+(this.warning?"warning":"error")+"' title='"+c(t)+"'>"+c(this.message+(this.appendTitleText?" "+t:""))+"</tw-error>")),a=i("<tw-error-explanation>").text(this.explanation||l[this.type]).hide(),o=i("<tw-folddown tabindex=0>");return this.innerDOM&&i("<tw-open-button label='Open'>").on("click",function(){var e=i("<tw-backdrop><tw-dialog></tw-backdrop>");e.find("tw-dialog").prepend(n.innerDOM,i("<tw-link tabindex=0>OK</tw-link>").on("click",function(){n.innerDOM.detach(),e.remove()}).wrap("<tw-dialog-links>").parent()),s.storyElement.prepend(e)}).appendTo(r),r.append(o).append(a),r.data("TwineError",this),e||u.forEach(function(e){return e(n,t)}),r},on:function(e){return"function"!=typeof e||u.includes(e)||u.push(e),n}};return Object.preventExtensions(n)}),define("internaltypes/twinenotifier",["jquery","utils"],function(e,t){var n=t.impossible,r={create:function(e){return e||n("TwineNotifier.create","called with only 1 string."),Object.assign(Object.create(r),{message:e})},render:function(){return e("<tw-notifier>").attr("message",this.message)}};return Object.preventExtensions(r)}),define("internaltypes/varref",["state","internaltypes/twineerror","utils","utils/operationutils","datatypes/hookset"],function(u,p,e,t,i){var c,n=e.impossible,s=e.andList,r=e.nth,o=t.is,d=t.isObject,f=t.toSource,h=t.isSequential,m=t.objectName,l=t.typeName,g=t.clone,y=t.isValidDatamapName,b=t.subset,v=t.collectionType,w=t.unstorableValue,a=t.matches,k=Array.isArray,S={set:[],delete:[]},T="You can only access position strings/numbers ('4th', 'last', '2ndlast', (2), etc.), slices ('1stTo2ndlast', '3rdTo5th'), ",_="You can't access the '0th' or '0thlast' position of ";function x(e,t){if(p.containsError(t))return n;if(e instanceof Map&&(n=p.containsError(y(e,t))))return n;if(h(e))if("number"==typeof t){if(0===t)return p.create("property","You can't access elements at position 0 of ".concat(m(e),"."),"Only positive and negative position values exist.");0<t&&--t}else if("string"==typeof t&&(r=/^(\d+)(?:st|[nr]d|th)last$/i.exec(t))){if("0"===r[1])return p.create("property",_+m(e)+".");t=-r[1]}else if("string"==typeof t&&(r=/^(\d+)(?:st|[nr]d|th)$/i.exec(t))){if("0"===r[1])return p.create("property",_+m(e)+".");t=r[1]-1}else if("string"==typeof t&&(r=/^(?:(\d+)(?:st|[nr]d|th)(last)?|last)to(?:(\d+)(?:st|[nr]d|th)(last)?|last)$/i.exec(t))){var n=_slicedToArray(r,5),r=n[1],r=void 0===r?0:r,a=n[2],o=n[3],o=void 0===o?0:o;t={last:n[4]?-o:o-1,first:a?-r:r-1}}else if("last"===t)t=-1;else if("random"===t){if(!e.length)return p.create("property","I can't get a random value from ".concat(m(e),", because it's empty."));t=u.random()*Array.from(e).length|0}else{if(i.isPrototypeOf(e)&&!i.TwineScript_Properties.includes(t))return p.create("property","".concat(T+s(i.TwineScript_Properties.map(function(e){return"'"+e+"'"}))," of ").concat(m(e),", not ").concat(("string"==typeof t?f:m)(t),"."));if(!["length","some","any","all","start","end","random"].includes(t)&&!i.isPrototypeOf(e))return p.create("property","".concat(T,"'length', 'some', 'any', 'all', 'start', 'end', and 'random' of ").concat(m(e),", not ").concat(("string"==typeof t?f:m)(t),"."))}else if(e instanceof Set){if(!["length","some","any","all"].includes(t))return p.create("property","".concat(T,"'length', 'some', 'any', and 'all' of ").concat(m(e),"."),"You can't access specific individual data values from datasets.");"length"===t&&(t="size")}else{if(k(e.TwineScript_Properties)&&!e.TwineScript_Properties.includes(t))return p.create("property","You can only get the ".concat(s(e.TwineScript_Properties.map(function(e){return"'"+e+"'"}))," of ").concat(m(e),", not ").concat(("string"==typeof t?f:m)(t),"."));if("number"==typeof e||"boolean"==typeof e)return p.create("property","You can't get any data values, let alone ".concat(m(t),", from ").concat(m(e)))}return t}function O(e,t){return+t<0&&Math.abs(t)<=e.length?e.length+ +t:t}var A=/[^\uD801-\uDFFF]/,C=new Map;function E(e,t){var n,r,a;return void 0===e?e:e instanceof Map?e.get(t):"some"!==t&&"any"!==t&&"all"!==t&&"start"!==t&&"end"!==t||e.TwineScript_VariableStore?("string"==typeof e&&(C.has(e)?e=C.get(e):A.test(e)?(a=_toConsumableArray(e),C.set(e,a),e=a):C.set(e,e)),h(e)&&Number.isFinite(t)&&(t=O(e,t)),e.TwineScript_GetProperty?e.TwineScript_GetProperty(t):"function"!=typeof(a=e[t])?a:void 0):(n=e,r=t,a='"'.concat(r," value").concat("any"===r?"":"s",'" of '),{determiner:r,determined:n,array:_toConsumableArray(n),string:"string"==typeof n&&n,TwineScript_ObjectName:a+m(n),TwineScript_ToSource:function(){return"".concat(r," of ").concat(f(n))},TwineScript_TypeName:a+"a data structure",TwineScript_Unstorable:!0,TwineScript_Print:function(){return"`["+this.TwineScript_TypeName+"]`"}})}function N(e){var t;return e.computed?(t=e.value,"string"==typeof(t=c.isPrototypeOf(t)?t.get():t)?"('"+t+"')":"("+t+")"):"number"==typeof e?r(e):"'"+e+"'"}function j(t,e,n){if(t.TwineScript_VariableStore){if(t.TwineScript_TypeDefs&&e in t.TwineScript_TypeDefs){var r=t.TwineScript_TypeDefs[e];if("const"===r.name){if(void 0!==t[e])return p.create("operation","I can't alter ".concat(t===u.variables?"$":"_").concat(e," because it's been restricted to a constant value."),"This variable can't be changed for the rest of the story.")}else if(!a(r,n))return p.create("operation","I can't set ".concat(t===u.variables?"$":"_").concat(e," to ").concat(l(n)," because it's been restricted to ").concat(f(r),"-type data."),"You can restrict a variable or data name by giving a typed variable to (set:) or (put:).")}return!0}return k(e)?e.map(function(e){return j(t,e)}):t instanceof Map?"string"==typeof e||p.create("operation","".concat(m(t)," can only have string data names, not ").concat(m(e),".")):h(t)?["length","random","some","any","all","start","end"].includes(e)?p.create("operation","I can't forcibly alter the '"+e+"' of "+m(t)+".","start"===e||"end"===e?"Alter the values at actual positions, like 1st or 2ndlast, rather than just the '"+e+"'.":void 0):+e==(0|e)||p.create("property",m(t)+" can only have position keys ('3rd', '1st', (5), etc.), not "+N(e)+"."):t.TwineScript_Identifiers&&e in t?p.create("keyword","I can't alter the value of the '"+e+"' identifier.","You can only alter data in variables, not fixed identifiers."):p.create("operation","I can't modify "+m(t),t instanceof Set?"You should use an (array:) if you need to modify the data inside this dataset.":i.isPrototypeOf(t)?"You should alter hooks indirectly using macros like (replace:) or (enchant:).":void 0)}function P(t,e,n,r){var a=e;t instanceof Map?t.set(e,n):(h(t)&&(e=O(t,e)),t.TwineScript_Set?t.TwineScript_Set(e,n,r):t[e]=n),S.set.forEach(function(e){return e(t,a,n)})}function R(t,e){var n=e;h(t)&&(e=O(t,e)),k(t)&&/^(?:[1-9]\d*|0)$/.exec(e)?t.splice(e,1):t instanceof Map||t instanceof Set?t.delete(e):t.TwineScript_Delete?t.TwineScript_Delete(e):delete t[e],S.delete.forEach(function(e){return e(t,n)})}function I(t,e){var n,r,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:e,o=3<arguments.length&&void 0!==arguments[3]&&arguments[3];return e&&"object"===_typeof(e)&&"last"in e&&"first"in e?i.isPrototypeOf(t)?t.TwineScript_GetProperty(e):(n=e.first,r=e.last,b(t,n+(0<=n),r+(0<=r))):k(e)?i.isPrototypeOf(t)?t.TwineScript_GetProperty(e):e.map(function(e){return I(t,e,e)})["string"==typeof t?"join":"valueOf"](""):void 0!==(n=E(t,e))||o?n:t===u.variables?0:"temp"===(null==(r=t.TwineScript_VariableStore)?void 0:r.type)?p.create("property","There isn't a temp variable named _".concat(a," in this place."),"Temp variables only exist inside the same passage, hook, or lambda in which they're created."):k(t)&&"number"==typeof e?p.create("property","This array of ".concat(t.length," elements doesn't have a ").concat(N(a+("number"==typeof a?1:""))," element."),t.length?"It contains: ".concat(s(t.map(m)),"."):"The array is empty."):(o=Array.from("function"==typeof t.keys&&t.keys()),p.create("property","I can't find a ".concat(N(a)," data name in ").concat(m(t)),t instanceof Map&&o.length?"Its names include: ".concat(s(o),"."):void 0))}function V(e,t){var r=this,e=this.compiledPropertyChain.reduce(function(e,t){var n=0===e.length?r.object:I.apply(void 0,_toConsumableArray(e[e.length-1]));return e.push([n,t])&&e},[]).reduceRight(e,t);return p.containsError(e)?e:void 0}return c=Object.freeze({get:function(){for(var e=this.object,t=0;t<this.compiledPropertyChain.length-1;t+=1)if(e=I(e,this.compiledPropertyChain[t]),p.containsError(e))return e;return I(e,this.compiledPropertyChain.slice(-1)[0],this.propertyChain.slice(-1)[0])},has:function(){for(var e=this.object,t=0;t<this.compiledPropertyChain.length-1;t+=1)if(void 0===(e=I(e,this.compiledPropertyChain[t],void 0,!0))||p.containsError(e))return!1;return void 0!==I(e,this.compiledPropertyChain.slice(-1)[0],void 0,!0)},set:function(e,c){var l=this;return!this.object||this.object.TwineScript_VariableStore||this.object.TwineScript_Identifiers?V.call(this,function(n,e,t){var e=_slicedToArray(e,2),r=e[0],a=e[1];if(e=p.containsError(n,r,a)||p.containsError(j(r,a,n)))return e;if(e=w(n))return p.create("operation","".concat(m(n)," can't be stored").concat(!n.TwineScript_Unstorable&&v(n)?" because it holds ".concat(m(e)):"","."));if(0<t)r=g(r);else if("temp"===(null==(e=r.TwineScript_VariableStore)?void 0:e.type)&&r!==u.variables){for(var o=r;"temp"===(null==(i=o.TwineScript_VariableStore)?void 0:i.type)&&!hasOwnProperty.call(o,a);)var i,o=Object.getPrototypeOf(o);"temp"===(null==(t=o.TwineScript_VariableStore)?void 0:t.type)&&(r=o)}if("string"==typeof r){if("string"!=typeof n)return p.create("datatype","I can't put this non-string value, ".concat(m(n),", in a string."));if(n.length!==(k(a)?a.length:1))return p.create("datatype","".concat(m(n),"is not the right length to fit into this string location."));var r=_toConsumableArray(r),s=_toConsumableArray(n);[].concat(a).forEach(function(e){0+e<0&&(e=r.length+(0+e)),r=[].concat(_toConsumableArray(r.slice(0,e)),[s.shift()],_toConsumableArray(r.slice(e+1)))}),r=r.join("")}else d(r)&&(void 0!==n.TwineScript_KnownName&&((n=""!==n.TwineScript_KnownName?g(n):n).TwineScript_KnownName=f(l)),k(a)&&h(n)?("string"==typeof n&&(n=_toConsumableArray(n)),a.map(function(e,t){return[e,n[t]]}).forEach(function(e){var e=_slicedToArray(e,2),t=e[0],e=e[1];return P(r,t,e,c)})):P(r,a,n,c));return r},e):p.create("macrocall","I can't (set:) ".concat(m(this),", if the ").concat((m(this.object).match(/ (.+$)/)||["","value"])[1]," isn't stored in a variable."),"Modifying data structures that aren't in variables won't change the game state at all.")},delete:function(){return V.call(this,function(e,t,n){var r,t=_slicedToArray(t,2),a=t[0],t=t[1];return(r=p.containsError(e,a,t)||p.containsError(j(a,t)))||(0<n&&(a=g(a)),null===e?((r="string"==typeof a)&&(a=_toConsumableArray(a)),k(t)?(h(a)&&(t=_toConsumableArray(new Set(t))).sort(function(e,t){return O(a,t)-O(a,e)}),t.forEach(function(e){return R(a,e)})):R(a,t),r&&(a=a.join(""))):P(a,t,e,!1),a)},null)},defineType:function(e){var t=this.object,n=this.compiledPropertyChain[0],r=(hasOwnProperty.call(t,"TwineScript_TypeDefs")||(t.TwineScript_TypeDefs=Object.create(t.TwineScript_TypeDefs||null)),t.TwineScript_TypeDefs),a=r[n];if(a&&!o(a,e))return p.create("operation","I can't redefine the type of "+m(this)+" to "+(e.TwineScript_ObjectName||l(e))+", as it is already "+(a.TwineScript_ObjectName||l(a))+".");t.TwineScript_DefineType?t.TwineScript_DefineType(n,e):r[n]=e,"const"===e.name&&(t[n]=void 0)},matches:function(e,t){return this.object===e&&this.compiledPropertyChain[0]===t},getName:function(){return this.compiledPropertyChain[0]},create:function(e,t){var n;if(n=p.containsError(e))return n;Array.isArray(t)||(t=[].concat(t)),c.isPrototypeOf(e)&&(t=e.propertyChain.concat(t),e=e.object);var r=function(e,t){for(var n,r=[],a=0;a<t.length;a+=1){var o=t[a];if(o.computed&&(o=o.value),c.isPrototypeOf(o)&&(o=o.get()),k(o)){for(var i=[],s=0;s<o.length;s+=1)i[s]=x(e,o[s]);o=i}else o=x(e,o);if(n=p.containsError(o))return n;a<t.length-1&&(e=I(e,o)),r.push(o)}return r}(e,t);return(n=p.containsError(r))||Object.assign(Object.create(c),{object:e,propertyChain:t,compiledPropertyChain:r})},TwineScript_ToSource:function(){function r(e,t){return!t&&n.object.TwineScript_VariableStore?e:N(e)}var e,n=this;return(this.object===u.variables?"$":"temp"===(null==(e=this.object.TwineScript_VariableStore)?void 0:e.type)?"_":f(this.object)+"'s ")+(1===this.propertyChain.length?r(this.propertyChain[0]):this.propertyChain.reduce(function(e,t,n){return e+"'s "+r(t,n)}))},get TwineScript_ObjectName(){var e;return this.object.TwineScript_VariableStore?"the ".concat("temp"===(null==(e=this.object.TwineScript_VariableStore)?void 0:e.type)?"temp ":"","variable ").concat(this.TwineScript_ToSource()):m(this.object)+"'s "+(1===this.propertyChain.length?N(this.propertyChain[0]):this.propertyChain.reduce(function(e,t,n){return e+"'s "+N(t)}))},on:function(e,t){if(e in S)return"function"!=typeof t||S[e].includes(t)||S[e].push(t),c;n("VarRef.on","invalid event name")}})}),define("internaltypes/varscope",[],function(){return Object.seal({TwineScript_ObjectName:"the temporary variables",TwineScript_VariableStore:{type:"temp",name:"an unknown scope"},TwineScript_TypeDefs:Object.create(null)})}),define("macrolib/commands",["jquery","macros","utils","state","passages","engine","internaltypes/twineerror","internaltypes/twinenotifier","datatypes/assignmentrequest","datatypes/hookset","datatypes/codehook","datatypes/colour","datatypes/gradient","internaltypes/varref","datatypes/typedvar","datatypes/varbind","utils/operationutils","utils/renderutils"],function(u,n,b,c,l,a,y,M,e,o,t,p,d,i,s,v,r,f){var h=r.printBuiltinValue,m=r.objectName,g=r.clone,w=r.toSource,k=f.dialog,S=f.geomParse,D=f.geomStringRegExp,r=n.TypeSignature,f=r.Any,F=r.Everything,T=r.rest,_=r.either,x=r.optional,O=r.zeroOrMore,L=r.percent,H=r.nonNegativeInteger,A=r.positiveInteger,r=r.positiveNumber,C=Object.assign,E=Math.floor,N=Math.ceil,j=Math.abs,z=Math.max,q=Math.min,P=u.noop;function R(e){return"(".concat(e," ").concat(b.options.ifid,") ")}["set","put","unpack"].forEach(function(r){return n.add(r,"Instant",function(e){for(var t=0;t<(arguments.length<=1?0:arguments.length-1);t+=1){var n=t+1<1||arguments.length<=t+1?void 0:arguments[t+1];if("into"===n.operator&&"set"===r)return y.create("macrocall","Please say 'to' when using the (set:) macro.");if("to"===n.operator&&"set"!==r)return y.create("macrocall","Please say 'into' when using the (put:) or (unpack:) macro.");if((i.isPrototypeOf(n.dest)||s.isPrototypeOf(n.dest))===("unpack"===r))return y.create("macrocall","unpack"===r?"Please use the (unpack:) macro with arrays, datamaps or (p:) patterns containing variables to the right of 'into'.":"Please use the (".concat(r,":) macro with just single variables and typed variables to the ").concat("set"===r?"left of 'to'.":"right of 'into'."),"You may wish to change this to the (".concat("unpack"!==r?"unpack":"to"===n.operator?"set":"put",":) macro."));n=n.set();if(y.containsError(n))return n}return{TwineScript_TypeID:"instant",TwineScript_TypeName:"a (".concat(r,":) operation"),TwineScript_ObjectName:"a (".concat(r,":) operation"),TwineScript_Unstorable:!0,TwineScript_Print:function(){return b.options.debug,""}}},[T(e)])}),n.add("move","Instant",function(e){for(var t=0;t<(arguments.length<=1?0:arguments.length-1);t+=1){var n=t+1<1||arguments.length<=t+1?void 0:arguments[t+1];if("into"!==n.operator)return y.create("macrocall","Please say 'into' when using the (move:) macro.");n=n.set(!0);if(y.containsError(n))return n}return{TwineScript_TypeID:"instant",TwineScript_TypeName:"a (move:) operation",TwineScript_ObjectName:"a (move:) operation",TwineScript_Unstorable:!0,TwineScript_Print:function(){return b.options.debug,""}}},[T(e)]),n.addCommand("display",function(e){if(!l.hasValid(e))return y.create("macrocall","I can't (display:) the passage '".concat(e,"' because it doesn't exist."))},function(e,t,n){return e.source=l.getTree(n),e},[String])("print",P,function(e,t,n){return C(e,{source:h(n)})},[f])(["verbatim-print","v6m-print"],P,function(e,t,n){return C(e,{verbatim:!0,source:h(n)})},[f])(["verbatim-source","v6m-source"],function(e){if("command"===(null==e?void 0:e.TwineScript_TypeID)&&!e.TwineScript_ToSource)return y.create("datatype","I can't construct the source code of a command created by a custom macro.")},function(e,t,n){return C(e,{verbatim:!0,source:h(w(n))})},[f])("go-to",function(e){if(!l.hasValid(e))return y.create("macrocall","I can't (go-to:) to the passage '".concat(e,"' because it doesn't exist."),"Check that you didn't mistype the passage name, or rename the passage to something else.")},function(e,t,n){if(!b.options.ignoreGotos)return requestAnimationFrame(function(){return a.goToPassage(n,{transition:e.data.passageT8n})}),{blocked:!0}},[String])("redirect",function(e){if(!l.hasValid(e))return y.create("macrocall","I can't (redirect:) to the passage '".concat(e,"' because it doesn't exist."),"Check that you didn't mistype the passage name, or rename the passage to something else.")},function(e,t,n){if(!b.options.ignoreGotos)return requestAnimationFrame(function(){return a.redirect(n,{transition:e.data.passageT8n})}),{blocked:!0}},[String])("undo",P,function(e,t,n){return c.pastLength<1?C(e,{source:n}):b.options.ignoreGotos?void 0:(requestAnimationFrame(function(){return a.goBack({transition:e.data.passageT8n})}),{blocked:!0})},[x(String)])("debug",P,a.enableDebugMode,[],!1),b.onStartup(function(){return b.storyElement.on("click.icon","tw-icon",function(e){var t=u(this),n=t.data("clickEvent"),r=t.attr("alt");n&&n(t),"Undo"===r&&(e.stopPropagation(),a.goBack()),"Redo"===r&&(e.stopPropagation(),a.goForward()),"Fullscreen"===r&&(e.stopPropagation(),a.toggleFullscreen()),"Restart"===r&&(c.hasSessionStorage&&sessionStorage.removeItem("Saved Session"),window.location.reload())})}),[["Undo","&#8630;",function(){return 0<c.pastLength}],["Redo","&#8631;",function(){return 0<c.futureLength}],["Fullscreen","&#9974;",function(){return document.fullscreenEnabled||document.msFullscreenEnabled}],["Restart","&#10226;",Object]].forEach(function(e){var e=_slicedToArray(e,3),o=e[0],i=e[1],s=e[2];n.addCommand("icon-".concat(o.toLowerCase()),function(e,t){if("string"==typeof e&&"string"==typeof t)return e=_toConsumableArray(e).length,t=_toConsumableArray(t).length,1<e&&1<t?y.create("datatype","One of the two strings given to (icon-".concat(o.toLowerCase(),":) should be 1 character long, for its icon.")):1===e&&1===t?y.create("datatype","One of the two strings given to (icon-".concat(o.toLowerCase(),":) should be 2 or more characters long, for its label.")):void 0},function(t,e,n,r){var a;return("string"==typeof r&&1===_toConsumableArray(r).length||"string"==typeof n&&1<_toConsumableArray(n).length)&&(n=(a=[r,n])[0],r=a[1]),"Undo"===o&&(t.data.forgetUndosEvent=function(e){t.section.whenUnblocked(function(){return u(e).css("visibility","hidden")})}),C(t,{source:'<tw-icon tabindex=0 alt="'.concat(o,'" ').concat(r?'data-label="'.concat(r.replace('"',"&quot;"),'"'):"",' title="').concat(o,'" ').concat(s()?"":'style="visibility:hidden"',">").concat(n||i,"</tw-icon>")})},[x(String),x(String)])}),n.addCommand("icon-counter",function(e,t,n){var r=" label string given to (icon-counter:) can't be empty or only whitespace.";return t&&t.trim()?"string"!=typeof n||n.trim()?void 0:y.create("datatype","The 2nd "+r):y.create("datatype","The 1st "+r)},function(r,e,a,o,i){r.attr.push({"data-2bind":!0}),r.data.twoWayBindEvent=function(e,t,n){a.varRef.matches(t,n)&&"number"==typeof(t=a.varRef.get())&&r.target.children("tw-icon").text((0<t?E:N)(t)).attr("data-label",1!==j(t)&&void 0!==i?i:o)};var t=a.varRef.get();return"number"!=typeof t?y.create("datatype","(icon-counter:) can only be bound to a variable holding a number, not ".concat(m(t),".")):C(r,{source:'<tw-icon data-label="'.concat(b.escape(1!==j(t)&&void 0!==i?i:o),'">').concat((0<t?E:N)(t),"</tw-icon>")})},[v,String,x(String)]),n.addCommand("meter",function(e,t,n,r){return"two way"===e.bind?y.create("datatype","(meter:) shouldn't be given two-way bound variables.",'Change the "2bind" keyword to just "bind".'):"string"!=typeof r||r.trim()?-1===n.search(D)||!n.includes("=")&&1<n.length?y.create("datatype",'The (meter:) macro requires a sizing line("==X==", "==X", "=XXXX=" etc.) be provided, not '+JSON.stringify(n)+"."):void 0:y.create("datatype","The label string given to (meter:) can't be empty or only whitespace.")},function(r,e,a,n,t,o,i){o&&"string"!=typeof o&&(i=o,o=void 0),i=i||p.create({h:0,s:0,l:.5,a:.5}),p.isPrototypeOf(i)&&(i=d.create(90,[{colour:i,stop:0},{colour:i,stop:1}]));function s(e){var t=z(0,q(1,e/n)),e=i.repeating?i:i.multiply(n/e);return"height:100%;background-repeat:no-repeat;background-image:".concat((l?C(e,e.repeating?{}:{angle:270}).toLinearGradientString()+", ":"")+C(e,e.repeating?{}:{angle:l||0===c?90:270}).toLinearGradientString(),";background-size:").concat(l?Array(2).fill(50*t+"%"):100*t+"%",";background-position-x:").concat(l?-100/(2-t)+100+"%,"+100/(2-t)+"%":0===c?"left":"right",";text-align:").concat(l?"center":0===c?"left":"right")}var t=S(t),c=t.marginLeft,t=t.size,l=0<c&&Math.ceil(c+t)<100,u=(r.styles.push({"margin-left":c+"%",width:t+"%",height:"1.5em",display:"block"}),r.attr.push({"data-2bind":!0}),o&&e.stackTop.tempVariables),t=(r.data.twoWayBindEvent=function(e,t,n){a.varRef.matches(t,n)&&"number"==typeof(t=a.varRef.get())&&((n=r.target.children("tw-meter")).attr("style",s(t)),o)&&r.section.renderInto("",null,{source:o,target:n,append:"replace",transitionDeferred:!1},u)},a.varRef.get());return"number"!=typeof t?y.create("datatype","(meter:) can only be bound to a variable holding a number, not ".concat(m(t),".")):C(r,{source:'<tw-meter style="'.concat(s(t),'">').concat(o||"","</tw-meter>")})},[v,r,String,x(_(String,p,d)),x(_(p,d))]),[["cycling-link"],["seq-link","sequence-link"]].forEach(function(t,u){return n.addCommand(t,function(){var e;return""===(arguments.length<=0?void 0:arguments[0])?y.create("datatype","The first string in a ("+t[0]+":) can't be empty."):arguments.length<=(v.isPrototypeOf(arguments.length<=0?void 0:arguments[0])?2:1)?y.create("datatype","I need two or more strings to "+(u?"sequence":"cycle")+" through, not just '"+((e=arguments.length-1)<0||arguments.length<=e?void 0:arguments[e])+"'."):void 0},function(a,e){for(var o,t=arguments.length,i=new Array(2<t?t-2:0),n=2;n<t;n++)i[n-2]=arguments[n];v.isPrototypeOf(i[0])&&(o=i.shift());var s=0,c=("two way"===(null==(l=o)?void 0:l.bind)&&(a.attr.push({"data-2bind":!0}),-1<(l=i.indexOf(o.varRef.get())))&&(s=l),e.stackTop.tempVariables);function r(e,t){var n=s>=i.length-1&&u,r=""===i[s]?"":n?i[s]:"<tw-link>".concat(i[s],"</tw-link>");if(n&&(a.data.clickEvent=void 0),o&&!t){n=o.set(i[s]);if(y.containsError(n))return void e.replaceWith(n.render(i[s]))}t=_objectSpread(_objectSpread({},a),{},{source:r,transitionDeferred:!1});a.section.renderInto("",null,t,c)}i[s]&&(a.data.clickEvent=function(e){s=(s+1)%i.length,r(e,!1)},a.data.twoWayBindEvent=function(e,t,n){o.varRef.matches(t,n)&&(t=o.varRef.get(),-1<(n=i.indexOf(t)))&&n!==s&&(s=n,r(e,!0))});var l="<tw-link>".concat(i[s],"</tw-link>");if(o){e=o.set(i[s]);if(y.containsError(e))return e}return C(a,{source:l,append:"replace",transitionDeferred:!0})},[_(v,String),T(String)])}),b.onStartup(function(){return b.storyElement.on("change.dropdown-macro","select",function(){var e=u(this),t=e.closest("tw-expression, tw-hook").data("dropdownEvent");t&&t(e)})}),n.addCommand("dropdown",function(e){var t;return""===(arguments.length<=1?void 0:arguments[1])||""===((t=(arguments.length<=1?0:arguments.length-1)-1+1)<1||arguments.length<=t?void 0:arguments[t])?y.create("datatype","The first or last strings in a (dropdown:) can't be empty.","Because empty strings create separators within (dropdown:)s, having them at the start or end doesn't make sense."):(arguments.length<=1?0:arguments.length-1)<=1?y.create("datatype","I need two or more strings to create a (dropdown:) menu, not just "+(arguments.length<=1?0:arguments.length-1)+"."):void 0},function(e,t,r){for(var n=arguments.length,a=new Array(3<n?n-3:0),o=3;o<n;o++)a[o-3]=arguments[o];var i=0,s=("two way"===r.bind&&(e.attr.push({"data-2bind":!0}),-1<(c=a.indexOf(r.varRef.get())))&&(i=c),Math.max.apply(Math,_toConsumableArray(a.map(function(e){return _toConsumableArray(e).length})))),c="<select>"+a.map(function(e,t){return"<option".concat(t===i?" selected":"").concat(""===e?" disabled":"",">").concat(b.escape(e||"\u2500".repeat(s)),"</option>")}).join("\n")+"</select>",l=(e.data.dropdownEvent=function(e){var t=e.val(),n=r.set(t);y.containsError(n)&&e.replaceWith(n.render(t))},e.data.twoWayBindEvent=function(e,t,n){r.varRef.matches(t,n)&&(t=r.varRef.get(),-1<(n=a.indexOf(t)))&&n!==i&&(e.find("select").val(t),i=n)},e.styles.push({"background-color":function(){return b.parentColours(u(this)).backgroundColour}}),r.set(a[i]));return y.containsError(l)?l:C(e,{source:c,append:"replace"})},[v,String,T(String)]),b.onStartup(function(){return b.storyElement.on("input.checkbox-macro","input[type=checkbox]",function(){var e=u(this),t=e.closest("tw-expression").data("checkboxEvent");t&&t(e)})});function I(e){return["I can't use a dialog macro in "+e+".","Please rewrite this without putting such macros here."]}var V=1;n.addCommand("checkbox",function(){},function(e,t,r,n){var a=!1,o="checkbox-"+ ++V,i=("two way"===r.bind&&(e.attr.push({"data-2bind":!0}),"boolean"==typeof(i=r.varRef.get())&&(a=i),e.data.twoWayBindEvent=function(e,t,n){r.varRef.matches(t,n)&&"boolean"==typeof(t=r.varRef.get())&&e.children("input[type=checkbox]").prop("checked",t)}),e.data.checkboxEvent=function(e){var t=e.is(":checked"),t=r.set(t);y.containsError(t)&&e.replaceWith(t.render(""))},r.set(a));return y.containsError(i)?i:C(e,{source:'<input id="'.concat(o,'" type="checkbox" ').concat(a?"checked":"",'><label for="').concat(o,'">').concat(n,"</label>"),append:"replace"})},[v,String]),b.onStartup(function(){return u(document).on("fullscreenchange",function(){u("input[type=checkbox][id^=fullscreen]",b.storyElement).each(function(e,t){(u(t).closest("tw-expression").data("fullscreenEvent")||Object)(t)})})}),n.addCommand("checkbox-fullscreen",function(){},function(e,t,n){var r="fullscreenCheckbox-"+ ++V;return e.data.fullscreenEvent=function(e){return u(e).prop("checked",!(!document.fullscreenElement&&!document.msFullscreenElement))},e.data.checkboxEvent=function(){return a.toggleFullscreen()},C(e,{source:'<input id="'.concat(r,'" type="checkbox" ').concat(document.fullscreenEnabled||document.msFullscreenEnabled?" ":"disabled ").concat(document.fullscreenElement||document.msFullscreenElement?"checked":"",'><label for="').concat(r,'">').concat(n,"</label>"),append:"replace"})},[String]),b.onStartup(function(){return b.storyElement.on("input.input-box-macro","textarea, input[type=text]",function(){var e=u(this),t=e.closest("tw-expression").data("inputBoxEvent");t&&t(e)})}),["input","force-input","input-box","force-input-box"].forEach(function(g){return n.addCommand(g,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=g.endsWith("box"),a=v.isPrototypeOf(t[0]),o="string"==typeof t[+a],r=r&&"number"==typeof t[o+a],i=o?t[+a]:t[a+r],s=0<S(i).size,o=s?t[a+r+o]:i;return g.startsWith("force")&&"string"!=typeof o?y.create("datatype","The (".concat(g,":) macro requires a string of text to forcibly input.")):t.length>a+r+s+("string"==typeof o)?y.create("datatype","An incorrect combination of values was given to this (".concat(g,":) macro.")):void 0},function(e,t){for(var n=arguments.length,r=new Array(2<n?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];var o=g.startsWith("force"),i=g.endsWith("box"),s=v.isPrototypeOf(r[0]),c="string"==typeof r[+s],l=i&&"number"==typeof r[c+s],u=s&&r[0],p=l?r[1+s]:3,d=c?S(r[+s]):{},f=d.marginLeft,d=d.size,h=(d?r[s+l+c]:c&&r[+s])||"",l=o?"":h,c=!1;if("two way"===u.bind){e.attr.push({"data-2bind":!0});s=u.varRef.get();if("string"==typeof s){l=o?h.slice(0,s.length):s,s=u.set(l),c=!0;if(y.containsError(s))return s}e.data.twoWayBindEvent=function(e,t,n){u.varRef.matches(t,n)&&"string"==typeof(t=u.varRef.get())&&e.find(i?"textarea":"input").val(o?h.slice(0,t.length):t)}}if(u&&!c){s=u.set(o?"":h);if(y.containsError(s))return s}!o&&u&&(e.data.inputBoxEvent=function(e){var t=e.val(),t=u.set(t);y.containsError(t)&&e.replaceWith(t.render(""))});var m,c="<".concat(i?"textarea":"input type=text",' style="width:100%" ').concat(i?"rows=".concat(p,">"):'value="').concat(b.escape(l)).concat(i?"</textarea>":'">');return o&&(m=Array.from(h),e.data.inputBoxEvent=function(e){var t=e.val().length,t=m.slice(0,t).join("");return e.val(t),u&&(t=u.set(t),y.containsError(t))&&e.replaceWith(t.render("")),!0}),e.styles.push({display:"block","margin-left":d?f+"%":void 0,width:d?d+"%":"100%","border-style":function(){return this.style.borderStyle||"solid"}}),C(e,{source:c,append:"replace"})},g.endsWith("box")?[_(v,String),x(_(A,String)),x(_(A,String)),x(String)]:[x(_(v,String)),x(String),x(String)])}),["show","rerun"].forEach(function(s){return n.addCommand(s,function(){for(var r,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.some(function e(t){var n=t.selector,t=t.next;return"name"===n.type&&"page"===n.data?(r=y.create("macrocall","You can't (hide:) the ?page. Sorry."),!0):!!("base"===n.type&&e(n.data)||t&&e(t))||void 0}),r},function(o,i){for(var e=arguments.length,t=new Array(2<e?e-2:0),n=2;n<e;n++)t[n-2]=arguments[n];return t.forEach(function(e){return e.forEach(i,function(e){var t,n,r,a=e.data("hidden");void 0!==a!=("rerun"===s)&&(e.removeData("hidden"),a instanceof u?e.empty().append(a):(a=e.data("tempVariables"),n=(t="tw-passage"===e.tag())?l.getTree(c.passage):e.data("originalSource")||"",t&&(r=e.find("tw-sidebar").detach()),i.renderInto("",null,_objectSpread(_objectSpread({},o),{},{append:"replace",source:n,target:e}),a&&Object.create(a)),r&&e.prepend(r)))})}),o},[T(o)])});n.addCommand("hide",function(){for(var r,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.some(function e(t){var n=t.selector,t=t.next;return"name"===n.type&&"page"===n.data?(r=y.create("macrocall","You can't (hide:) the ?page. Sorry."),!0):!!("base"===n.type&&e(n.data)||t&&e(t))||void 0}),r},function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var a=0,o=n;a<o.length;a++)o[a].forEach(e,function(e){e.data("hidden")||e.data("hidden",e.contents().detach())})},[T(o)],!1)("scroll",P,function(m,e,g){var y="number"==typeof g&&g;requestAnimationFrame(function(){e.forEach(m,function(e){if(!1!==y){var t,n,r=e[0];null!=(t=(n=r=r===b.storyElement[0]&&r.scrollHeight===r.clientHeight?getComputedStyle(document.body).overflow.includes(" scroll")?document.body:document.documentElement:r).scrollTo)&&t.call(n,0,(r.scrollHeight-r.clientHeight)*y)}else{var a,o=_createForOfIteratorHelper(g.hooks(m).get());try{for(o.s();!(a=o.n()).done;){var i=a.value;if(e.find(i)){for(var s=[],c=e[0];(c=c.parentNode)&&c!==document.body;)s.push([c,c.scrollLeft,c.scrollTop]);i.scrollIntoView();for(var l=0,u=s;l<u.length;l++){var p=_slicedToArray(u[l],3),d=p[0],f=p[1],h=p[2];d.scrollLeft=f,d.scrollTop=h}break}}}catch(e){o.e(e)}finally{o.f()}}})})},[o,_(L,o)],!1)("stop",P,P,[],!1)("load-game",P,function(e,t){var n,r;return e.loadedGame?y.create("infinite","I can't use (load-game:) immediately after loading a game."):(n=localStorage.getItem(R("Saved Game")+t))?(n=c.deserialise(e,n))instanceof Error?{blocked:r=k({message:"Sorry to interrupt... The story tried to load saved data, but there was a problem.\n"+n.message+"\n\nThat data might have been saved from a different version of this story. Should I delete it?\n(Type 'delete' and choose Yes to delete it.)\n\nEither way, the story will now continue without loading the data.",defaultValue:"",buttons:[{name:"Yes",confirm:!0,callback:function(){"delete"===r.find("input").last().val()&&localStorage.removeItem(R("Saved Game")+t),e.unblock("")}},{name:"No",cancel:!0,callback:function(){return e.unblock()}}]})}:void requestAnimationFrame(a.showPassage.bind(a,c.passage,{loadedGame:!0})):y.create("saving","I can't find a save slot named '"+t+"'!")},[String],!1)("forget-undos",P,function(e,t){c.futureLength||c.forgetUndos(t)},[parseInt],!1)("forget-visits",P,function(e,t){c.forgetVisits(t)},[parseInt],!1)("mock-visits",function(){if(!b.options.debug)return y.create("debugonly","(mock-visits:) cannot be used outside of debug mode.");for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.find(function(e){return!l.hasValid(e)});return r?y.create("datatype","I can't mock-visit '"+r+"' because no passage with that name exists."):void 0},function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];c.mockVisits=g(n)},[T(String)],!1)("mock-turns",function(){if(!b.options.debug)return y.create("debugonly","(mock-turns:) cannot be used outside of debug mode.")},function(e,t){c.mockTurns=t},[H],!1)("seed",P,function(e,t){c.setSeed(t)},[String],!1)(["dialog","alert"],function(e,t){for(var n=arguments.length,r=new Array(2<n?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];if(v.isPrototypeOf(e)){if("two way"===e.bind)return y.create("datatype","(dialog:) shouldn't be given two-way bound variables.",'Change the "2bind" keyword to just "bind".');if(void 0===t)return y.create("datatype","(dialog:) needs a message string or codehook to display.")}else void 0!==t&&r.unshift(t);e=r.findIndex(function(e){return""===e});if(-1<e)return y.create("datatype","(dialog:)'s ".concat(b.nth(e+1)," link text shouldn't be an empty string."))},function(e,n,r,t){for(var a=arguments.length,o=new Array(4<a?a-4:0),i=4;i<a;i++)o[i-4]=arguments[i];return v.isPrototypeOf(r)||(void 0!==t&&o.unshift(t),t=r,r=void 0),o.length||(o=["OK"]),{blocked:k({section:n,message:t,cd:e,buttons:o.map(function(t){return{name:t,callback:function(){var e;n.unblock((null==(e=r)?void 0:e.set(t))||"")}}})})}},[_(v,String,t),x(_(t,String)),O(String)])("open-url",P,function(e,t){window.open(t,"")},[String],!1)(["restart","reload"],P,function(){if(!b.options.ignoreGotos){if(c.turns<=1)return y.create("infinite","I mustn't (restart:) the story in the starting passage.");c.hasSessionStorage&&sessionStorage.removeItem("Saved Session"),window.location.reload()}},[],!1)("goto-url",P,function(e,t){window.location.assign(t)},[String],!1)("ignore",P,P,[O(F)])("assert-exists",function(e){if(""===e)return y.create("datatype","(assert-exists:) mustn't be given an empty string.")},function(e,t,n){var r=0;return("string"==typeof n?o.create({type:"string",data:n}):n).forEach(t,function(){++r}),r?e:y.create("assertion","I didn't see any ".concat("string"==typeof n?"text occurrences of":"hooks matching"," ").concat(w(n)," in this passage."))},[_(o,String)]),n.add("assert","Instant",function(e,t){return t?{TwineScript_TypeID:"instant",TwineScript_TypeName:"an (assert:) operation",TwineScript_ObjectName:"an (assert:) operation",TwineScript_Unstorable:!0,TwineScript_Print:function(){return""}}:C(y.create("assertion","An assertion failed: "),{appendTitleText:!0})},[Boolean])("save-game","Boolean",function(e,t,n){if(n=n||"",!c.hasStorage)return!1;var r=c.serialise(!1).pastAndPresent;if(y.containsError(r))return r;if(!1===r)return!1;try{return localStorage.setItem(R("Saved Game")+t,r),localStorage.setItem(R("Saved Game Filename")+t,n),!0}catch(e){return!1}},[String,x(String)])("prompt","String",function(e,t,n,r,a){var o,i;return null!=(o=e.stackTop)&&o.evaluateOnly?y.create.apply(y,["macrocall"].concat(_toConsumableArray(I(e.stackTop.evaluateOnly)))):""===a?y.create("datatype","The text for (prompt:)'s confirm link can't be blank."):(i=k({section:e,message:t,defaultValue:n,buttons:[{name:a||"OK",confirm:!0,callback:function(){return e.unblock(i.find("input").last().val())}}].concat(""===r?[]:{name:r||"Cancel",cancel:!0,callback:function(){return e.unblock(n)}})}),e.stackTop.blocked=i,0)},[_(String,t),String,x(String),x(String)])("confirm","Boolean",function(e,t,n,r){var a;return null!=(a=e.stackTop)&&a.evaluateOnly?y.create.apply(y,["macrocall"].concat(_toConsumableArray(I(e.stackTop.evaluateOnly)))):""===r?y.create("datatype","The text for (confirm:)'s confirm link can't be blank."):(a=k({section:e,message:t,defaultValue:!1,buttons:[{name:r||"OK",confirm:!0,callback:function(){return e.unblock(!0)}}].concat(""===n?[]:{name:n||"Cancel",cancel:!0,callback:function(){return e.unblock(!1)}})}),e.stackTop.blocked=a,0)},[_(String,t),x(String),x(String)])("page-url","String",function(){return window.location.href},[])}),define("macrolib/custommacros",["utils","macros","state","utils/operationutils","datatypes/changercommand","datatypes/custommacro","datatypes/codehook","datatypes/typedvar","internaltypes/twineerror"],function(c,l,u,e,t,p,n,d,f){function s(e,t,n){if(!t.some(function(e){if("function"==typeof e.output)return e.output(n),!0}))return f.create("macrocall","("+e+":) should only be used inside a code hook passed to (macro:).")}var h=e.objectName,m=e.toSource,e=l.add,r=l.addChanger,a=l.addCommand,o=l.TypeSignature,i=o.rest,g=o.either,y=o.Any,b=o.Everything,o=o.zeroOrMore;e("macro","CustomMacro",function(e){for(var t,n=[],r=arguments.length,a=new Array(1<r?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];for(t=0;t<a.length;t+=1){var i=t===a.length-1;if(d.isPrototypeOf(a[t])===i)return f.create("datatype","The "+(i?"":c.nth(a.length-t+1)+"-")+"last value given to (macro:) should be a "+(i?"code hook":"datatyped variable")+", not "+h(a[t]));if(!i){i="A custom macro";if(a[t].varRef.object===u.variables)return f.create("datatype",i+"'s typed variables must be temp variables (with a '_'), not global variables (with a '$').","Write them with a _ symbol at the start instead of a $ symbol.");if(1<a[t].varRef.propertyChain.length)return f.create("datatype",i+"'s typed variables can't be properties inside a data structure.");if(a[t].datatype.rest&&t!==a.length-2)return f.create("datatype",i+" can only have one spread variable, and it must be its last variable.");var s=a[t].varRef.propertyChain[0];if(n.includes(s))return f.create("datatype",i+"'s typed variables can't both be named '"+s+"'.");n.push(s)}}return p.create(a.slice(0,-1),a[a.length-1])},[i(g(d,n))]);a(["output-data","out-data"],function(){},function(e,t){e=e.stack;return s("output-data",e,t)||{blocked:!0}},[y],!1),r(["output","out"],function(){return Object.assign(t.create("output",[]))},function(e,t){if(e.section){var n,r=e.section,a=r.stack,o=r.stackTop,i={};for(n in o.tempVariables)n.startsWith("TwineScript_")||(i[n]=o.tempVariables[n]);s("output",a,{changer:t,variables:i,hook:Array.isArray(e.source)?"["+e.source.map(function(e){return e.text}).join("")+"]":e.source}),e.output=!0,o.blocked=!0}},[]),a("error",function(e){if(!e)return f.create("datatype","This (error:) macro was given an empty string.")},function(e,t){e=e.stack;return s("error",e,f.create("user",t))||{blocked:!0}},[String],!1),e("partial","CustomMacro",function(e,a){for(var t=arguments.length,o=new Array(2<t?t-2:0),n=2;n<t;n++)o[n-2]=arguments[n];var r="string"!=typeof a&&a,i=!r&&a;if(!r){if(!l.has(i))return f.create("macrocall",'The macro name given to (partial:), "'.concat(a,"\", isn't the name of a built-in macro."));if("Metadata"===l.get(i).returnType)return f.create("macrocall","(partial:) can't be used with metadata macros such as (".concat(a,":)"))}var s="(partial:".concat(m(a),",").concat(o.map(function(e){return m(e)}),")"),c=p.createFromFn(function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e=l["string"==typeof a?"run":"runCustom"](a,e,o.concat(n));return f.containsError(e)&&(e.message="An error occurred while running the (partial:)-created macro, ".concat(c.TwineScript_ObjectName,":\n")+e.message),e},"a (partial:) custom macro of ".concat(i||r.TwineScript_KnownName?"(".concat(i||r.TwineScript_KnownName,":").concat(o.map(function(e){return m(e)}),")"):"another unnamed custom macro"),function(){return s},(i?l.get(i):r).typeSignature.filter(function(e,t){return t>=o.length||"rest"===e.pattern||"zero or more"===e.pattern}));return c},[g(String,p),o(b)])}),define("macrolib/datastructures",["utils","utils/naturalsort","macros","utils/operationutils","state","engine","passages","datatypes/lambda","datatypes/typedvar","internaltypes/twineerror"],function(e,i,t,n,s,r,a,c,o,l){var u=e.permutations,p=e.options,d=n.objectName,f=n.subset,h=n.collectionType,m=n.isValidDatamapName,g=n.is,y=n.unique,b=n.clone,v=n.range,e=t.TypeSignature,n=e.optional,w=e.rest,k=e.either,S=e.zeroOrMore,T=e.Any,e=e.nonNegativeInteger,_=i("en");t.add(["a","array"],"Array",function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n},S(k(o,T)))("range","Array",function(e,t,n){return v(t,n)},[parseInt,parseInt])("subarray","Array",function(e,t,n,r){return f(t,n,r)},[Array,parseInt,parseInt])("reversed","Array",function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reverse().map(b)},S(T))("shuffled","Array",function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return s.shuffled.apply(s,n).map(b)},[S(T)])("sorted","Array",function(e){for(var t,n=arguments.length,r=new Array(1<n?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];if(!c.isPrototypeOf(r[0]))return(t=r.filter(function(e){return"string"!=typeof e&&"number"!=typeof e}))&&t.length?1===t.length&&Array.isArray(t[0])?l.create("macrocall","Please give multiple numbers or strings to (sorted:), not a single array.","You can use the spread ... syntax to spread out the array's values into (sorted:)."):l.create("datatype","If (sorted:) isn't given a 'via' lambda, it must be given only numbers and strings, not ".concat(d(t[0]),".")):r.sort(_);var o=r.shift();if("making"in o||"where"in o||"when"in o||!("via"in o))return l.create("datatype","The optional lambda given to (sorted:) must be a 'via' lambda, not ".concat(d(o),"."));for(var i=0;i<r.length;i+=1){var s=o.apply(e,{loop:r[i],pos:i+1});if(l.containsError(s))return s;if("string"!=typeof s&&"number"!=typeof s)return l.create("datatype",'The "via" lambda given to (sorted:) couldn\'t convert '.concat(d(r[i])," into a string or number."));r[i]=[r[i],s]}return r.sort(function(e,t){return _(e[1],t[1])}).map(function(e){return e[0]})},[S(T)])("rotated","Array",function(e,t){if(0===t)return l.create("macrocall","I can't rotate these values by 0 positions.");for(var n=arguments.length,r=new Array(2<n?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];t=-1*(t=Math.abs(t)%r.length*Math.sign(t));return r.slice(t).concat(r.slice(0,t)).map(b)},[parseInt,S(T)])("rotated-to","Array",function(e,t){for(var n=arguments.length,r=new Array(2<n?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];t=t.filter(e,r);return l.containsError(t)?t:t.length?(e=r.indexOf(t[0]),r.slice(e).concat(r.slice(0,e)).map(b)):l.create("macrocall","None of these "+r.length+" values matched the lambda, so I can't rotate them.")},[c.TypeSignature("where"),w(T)])("repeated","Array",function(e,t){for(var n=[],r=arguments.length,a=new Array(2<r?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];if(!a.length)return n;for(;0<t--;)n.push.apply(n,a);return n.map(b)},[e,w(T)])("interlaced","Array",function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var a=Math.min.apply(Math,_toConsumableArray(n.map(function(e){return e.length}))),o=[],i=0;i<a;i+=1)for(var s=0;s<n.length;s+=1)o.push(b(n[s][i]));return o},[Array,w(Array)])("permutations","Array",function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.length?u.apply(void 0,n):[]},[S(T)])("unique","Array",function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.filter(y)},[S(T)])("altered","Array",function(n,r){for(var e=arguments.length,t=new Array(2<e?e-2:0),a=2;a<e;a++)t[a-2]=arguments[a];return t.map(function(e,t){t=r.apply(n,{loop:e,pos:t+1});return null===t?e:t})},[k(c.TypeSignature("via"),c.TypeSignature("where","via")),S(T)])("find","Array",function(e,t){for(var n=arguments.length,r=new Array(2<n?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return t.filter(e,r)},[c.TypeSignature("where"),S(T)])(["all-pass","pass"],"Boolean",function(e,t){for(var n=arguments.length,r=new Array(2<n?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];t=t.filter(e,r);return l.containsError(t)||t.length===r.length},[c.TypeSignature("where"),S(T)])("some-pass","Boolean",function(e,t){for(var n=arguments.length,r=new Array(2<n?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];t=t.filter(e,r);return l.containsError(t)||0<t.length},[c.TypeSignature("where"),S(T)])("none-pass","Boolean",function(e,t){for(var n=arguments.length,r=new Array(2<n?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];t=t.filter(e,r);return l.containsError(t)||0===t.length},[c.TypeSignature("where"),S(T)])("folded","Any",function(r,a){for(var e=arguments.length,t=new Array(2<e?e-2:0),n=2;n<e;n++)t[n-2]=arguments[n];return"where"in a&&(t=[t[0]].concat(_toConsumableArray(a.filter(r,t.slice(1))))),l.containsError(t)||t.reduce(function(e,t,n){return a.apply(r,{making:e,loop:t,pos:n+1})})},[k(c.TypeSignature("where","via","making"),c.TypeSignature("via","making")),w(T)])(["dm-names","datamap-names","datanames"],"Array",function(e,t){return Array.from(t.keys()).sort(i("en"))},[Map])(["dm-values","datamap-values","datavalues"],"Array",function(e,t){return Array.from(t.entries()).sort(i("en",function(e){return String(e[0])})).map(function(e){return b(e[1])})},[Map])(["dm-entries","datamap-entries","dataentries"],"Array",function(e,t){return Array.from(t.entries()).sort(function(e,t){return[e[0],t[0]].sort(i("en"))[0]===e[0]?-1:1}).map(function(e){return new Map([["name",e[0]],["value",b(e[1])]])})},[Map])(["dm-altered","datamap-altered"],"Datamap",function(a,o,e){return Array.from(e.entries()).sort(function(e,t){return[e[0],t[0]].sort(i("en"))[0]===e[0]?-1:1}).reduce(function(e,t,n){if(!l.containsError(e)){var r=new Map([["name",t[0]],["value",b(t[1])]]),r=o.apply(a,{loop:r,pos:n+1});if(l.containsError(r))return r;e.set(t[0],null===r?t[1]:r)}return e},new Map)},[k(c.TypeSignature("via"),c.TypeSignature("where","via")),Map])("history","Array",function(e,t){var n=s.history();return t?(t=t.filter(e,n.map(function(e){return a.get(e)})),l.containsError(t)?t:t.map(function(e){return e.get("name")})):n},[n(c.TypeSignature("where"))])("visited","Boolean",function(e,t){var n;return"string"==typeof t?a.has(t)?0<s.passageNameVisited(t)||s.passage===t:l.create("macrocall","There's no passage named '"+t+"' in this story."):(n=s.history(),n=t.filter(e,n.concat(s.passage).map(function(e){return a.get(e)})),l.containsError(n)?n:0<n.length)},[k(String,c.TypeSignature("where"))])("passage","Datamap",function(e,t){return b(a.get(t||s.passage))||l.create("macrocall","There's no passage named '"+t+"' in this story.")},[n(String)])("passages","Array",function(e,t){var n=i("en"),r=_toConsumableArray(a.values()).map(function(e){return b(e)}),t=t?t.filter(e,r):r,e=l.containsError(t);return e||t.sort(function(e,t){return n(e.get("name"),t.get("name"))})},[n(c.TypeSignature("where"))])("open-storylets","Array",function(e,t){return e.stackTop.evaluateOnly?l.create("macrocall","(open-storylets:) can't be used in "+e.stackTop.evaluateOnly+"."):(e=a.getStorylets(e,t),l.containsError(e)||e.map(b))},[n(c.TypeSignature("where"))])("savedgames","Datamap",function(){function e(e){return"("+e+" "+p.ifid+") "}var t,n,r=0,a=new Map;do{if(!s.hasStorage)break;t=localStorage.key(r),r+=1;var o=e("Saved Game")}while(null!=(n=t)&&n.startsWith(o)&&(t=t.slice(o.length),a.set(t,localStorage.getItem(e("Saved Game Filename")+t))),t);return a},[])(["datamap","dm"],"Datamap",function(e){for(var r,a=new Map,t=arguments.length,n=new Array(1<t?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var i=n.reduce(function(e,t){var n;if(!l.containsError(e))if(void 0===r)r=t;else{if(n=l.containsError(m(a,r)))return n;if(a.has(r))return l.create("macrocall","You used the same data name ("+d(r)+") twice in the same (datamap:) call.");a.set(r,b(t)),r=void 0}return e},!0);return l.containsError(i)?i:void 0!==r?l.create("macrocall","This datamap has a data name without a value."):a},S(k(o,T)))(["dataset","ds"],"Dataset",function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new Set(n.filter(y).map(b))},S(T))("count","Number",function t(n,r){for(var e,a=arguments.length,o=new Array(2<a?a-2:0),i=2;i<a;i++)o[i-2]=arguments[i];if(1<o.length)return e=o.map(function(e){return t(n,r,e)}),l.containsError(e)||e.reduce(function(e,t){return e+t},0);var s=o[0];switch(h(r)){case"dataset":case"datamap":return l.create("macrocall","(count:) shouldn't be given a datamap or dataset.","You should use the 'contains' operator instead. For instance, write: $variable contains 'value'.");case"string":return"string"!=typeof s?l.create("macrocall",d(r)+" can't contain  "+d(s)+" because it isn't also a string."):s?r.split(s).length-1:0;case"array":return r.reduce(function(e,t){return e+g(t,s)},0);default:return l.create("macrocall",d(r)+" can't contain values, let alone "+d(s)+".")}},[T,w(T)])}),define("macrolib/enchantments",["jquery","utils","utils/operationutils","engine","state","passages","macros","datatypes/hookset","datatypes/codehook","datatypes/changercommand","datatypes/lambda","internaltypes/changedescriptor","internaltypes/enchantment","internaltypes/twineerror"],function(c,r,e,l,s,n,u,p,a,d,t,i,f,h){var m=e.is,e=u.TypeSignature,g=e.either,y=e.rest,o=e.optional,b=Object.assign;function v(e,t){if(d.isPrototypeOf(t)&&!t.canEnchant)return h.create("datatype","The changer given to (".concat(e,":) can't include a revision, enchantment, or interaction changer like (replace:), (click:), or (link:)."))}["enchant","change"].forEach(function(o){u.addCommand(o,function(e,t){t=v(o,t);if(t)return t},function(t,n,e){n=p.from(n);var r,a=[];return d.isPrototypeOf(e)&&(r=i.create({section:t}),e.run(r),0<(r.innerEnchantments||[]).length)&&(r=r.innerEnchantments.map(function(e){return e(n)}),a.push.apply(a,_toConsumableArray(r))),a.push(f.create(_defineProperty(_defineProperty({scope:n},d.isPrototypeOf(e)?"changer":"lambda",e),"section",t))),a.forEach(function(e){"enchant"===o?(t.addEnchantment(e),t.updateEnchantments()):e.enchantScope()}),""},[g(p,String),g(d,t.TypeSignature("via"))],!1)}),u.addChanger("enchant-in",function(e,t,n){var r=v("enchant-in",n);return r||d.create("enchant-in",[t,n])},function(t,n,r){return t.innerEnchantments=(t.innerEnchantments||[]).concat(function(e){return f.create(_defineProperty(_defineProperty({scope:p.from(n),localHook:e},d.isPrototypeOf(r)?"changer":"lambda",r),"section",t.section))}),t},[g(p,String),g(d,t.TypeSignature("via"))]),[["link-style",p.create({type:"name",data:"link"})],["line-style",p.create({type:"base",data:p.create({type:"name",data:"page"})},"lines",void 0)],["char-style",p.create({type:"base",data:p.create({type:"name",data:"page"})},"chars",void 0)]].forEach(function(e){var e=_slicedToArray(e,2),r=e[0],a=e[1];u.addChanger(r,function(e,t){var n=v(r,t);return n||d.create(r,[t])},function(t,n){return t.innerEnchantments=(t.innerEnchantments||[]).concat(function(e){return f.create(_defineProperty(_defineProperty({scope:a,localHook:e},d.isPrototypeOf(n)?"changer":"lambda",n),"section",t.section))}),t},[g(d,t.TypeSignature("via"))])});e=["replace","append","prepend"];function w(i,s){return r.onStartup(function(){var e=i.classList.replace(/ /g,"."),t=i.blockClassList?i.blockClassList.replace(/ /g,"."):"",n="."+e+(t?",."+t:"");r.storyElement.on(i.event.map(function(e){return e+".enchantment"}).join(" "),n,function(){var e,t=c(this);r.options.debug&&r.options.ignoreClickEvents&&!t.is("tw-backdrop.eval-replay *, tw-backdrop.harlowe-crash *")||t.is("tw-open-button")||(e=(t=c(Array.from(t.parents(n).add(this)).sort(function(e,t){return 8&e.compareDocumentPosition(t)?1:-1})[0])).data("enchantmentEvent"))&&e(t)})}),[function(e,t,n){if(!t)return h.create("datatype","A string given to this ("+s+":) macro was empty.");if(n){var r=v(s,n);if(r)return r}return d.create(s,[p.from(t)].concat(n?[n]:[]))},function(t,e,n){t.enabled=!1,t.transitionDeferred=!0,i.rerender&&(t.newTargets=(t.newTargets||[]).concat({target:e,append:i.rerender}));var r,a=null!=(r=t.section)&&r.stackTop?t.section.stackTop.tempVariables:Object.create(null),o=f.create(_defineProperty({functions:[function(e){e.attr("class",e.children().is("tw-story, tw-sidebar, tw-passage")||["block","flex"].includes(e.children().css("display"))?i.blockClassList:i.classList),e.attr({tabIndex:"0"})}],data:{enchantmentEvent:function(){var e;null!=(e=t.section.stackTop)&&e.blocked||(i.once&&t.section.removeEnchantment(o),i.goto?l.goToPassage(i.goto,{transition:i.transition}):i.undo?l.goBack({transition:i.transition}):t.section.renderInto(t.source,null,_objectSpread(_objectSpread({},t),{},{append:i.once?"append":"replace",enabled:!0,transitionDeferred:!1}),a))}},scope:e,section:t.section,name:s},d.isPrototypeOf(n)?"changer":"lambda",n));return t.section&&(t.section.addEnchantment(o),o.enchantScope()),t},[g(p,String),o(g(d,t.TypeSignature("via")))]]}e.forEach(function(o){u.addChanger(o,function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.every(Boolean)?d.create(o,n.map(p.from),null,!1):h.create("datatype","A string given to this (".concat(o,":) macro was empty."))},function(e){var t;0<c(e.target).parents().filter("tw-collapsed,[collapsing=true]").length||e.attr.some(function(e){return e.collapsing})||(e.attr=[].concat(_toConsumableArray(e.attr),[{collapsing:!1}])),e.newTargets=e.newTargets||[];for(var n=arguments.length,r=new Array(1<n?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return(t=e.newTargets).push.apply(t,_toConsumableArray(r.filter(function(n){return!e.newTargets.some(function(e){var t=e.target,e=e.append;return m(n,t)&&o===e})}).map(function(e){return{target:e,append:o,before:!0}}))),e},y(g(p,String)))(o+"-with",function(e,t){return d.create(o+"-with",[t],null,!1)},function(e,t){return a.isPrototypeOf(t)&&(t=t.code),e.appendSource=(e.appendSource||[]).concat({source:t,append:o}),e},g(a,String))});var k="ontouchstart"in window||0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints,S=[{name:"click",enchantDesc:{event:["click"],once:!0,rerender:"",classList:"link enchantment-link",blockClassList:"enchantment-clickblock"}},{name:"mouseover",enchantDesc:{event:["mouseenter",k?"click":""].filter(Boolean),once:!0,rerender:"",classList:"link enchantment-mouseover",blockClassList:"enchantment-mouseoverblock"}},{name:"mouseout",enchantDesc:{event:["mouseleave",k?"click":""].filter(Boolean),once:!0,rerender:"",classList:"link enchantment-mouseout",blockClassList:"enchantment-mouseoutblock"}},{name:"doubleclick",enchantDesc:{event:["dblclick"],once:!0,rerender:"",classList:"link enchantment-dblclick",blockClassList:"enchantment-dblclickblock"}}];S.forEach(function(e){"doubleclick"!==e.name&&(u.addChanger.apply(u,[e.name].concat(_toConsumableArray(w(e.enchantDesc,e.name)))),"click"===e.name)&&u.addChanger.apply(u,[e.name+"-rerun"].concat(_toConsumableArray(w(_objectSpread(_objectSpread({},e.enchantDesc),{},{once:!1}),e.name+"-rerun"))))}),r.onStartup(function(){S.forEach(function(e){var n=e.enchantDesc;n.blockClassList&&r.storyElement.on(n.event.map(function(e){return e+".enchantment"}).join(" "),function(){var e,t=c(this);r.options.debug&&r.options.ignoreClickEvents&&!t.is("tw-backdrop.eval-replay *, tw-backdrop.harlowe-crash *")||t.is("tw-open-button")||(e=(t=c(Array.from(t.parents("."+n.blockClassList.replace(/ /g,"."))).sort(function(e,t){return 8&e.compareDocumentPosition(t)?1:-1})[0])).data("enchantmentEvent"))&&e(t)})})}),e.forEach(function(n){S.forEach(function(e){var t;"doubleclick"!==e&&(t=_objectSpread(_objectSpread({},e.enchantDesc),{},{rerender:n}),e=e.name+"-"+n,u.addChanger.apply(u,[e].concat(_toConsumableArray(w(t,e)))))})}),S.forEach(function(i){"doubleclick"!==i&&["goto","undo"].forEach(function(a){var o=i.name+"-"+a;u.addCommand(o,function(e,t){return!e||!t&&"goto"===a?h.create("datatype","A string given to this ("+o+":) macro was empty."):"goto"!==a||n.hasValid(t)?void 0:h.create("macrocall","I can't ("+o+":) the passage '"+t+"' because it doesn't exist.")},function(e,t,n,r){return"undo"===a&&s.pastLength<1?h.create("macrocall","I can't (undo:) on the first turn."):((0,_slicedToArray(w(_objectSpread(_objectSpread({},i.enchantDesc),{},{transition:e.data.passageT8n},"undo"===a?{undo:!0}:{goto:r}),o),2)[1])({section:t},p.from(n)),b(e,{source:""}))},[g(p,String)].concat("undo"===a?[]:String))})})}),define("macrolib/links",["jquery","macros","utils","state","passages","engine","datatypes/changercommand","internaltypes/changedescriptor","datatypes/hookset","datatypes/lambda","internaltypes/twineerror"],function(i,e,c,l,u,p,a,d,t,f,h){var n=e.TypeSignature,r=n.optional,o=n.rest,n=n.either,m=["Links can't have empty strings for their displayed text.","In the link syntax, a link's displayed text is inside the [[ and ]], and on the non-pointy side of the -> or <- arrow if it's there."],g=Object.assign;function s(e,t,n){n=n||t;var r,a=u.hasValid(t)&&t===n,e=e.evaluateTwineMarkup(c.unescape(n),"a link's passage name");return a?t=(a=0<e.children().length?"`".repeat((n.match(/`+/)||[]).reduce(function(e,t){return Math.max(e,t.length+1)},1)):"")+"\0".repeat(!!a)+t+"\0".repeat(!!a)+a:(e.findAndFilter("tw-error").length&&(r=e.findAndFilter("tw-error").data("TwineError")),n=e.text()),{text:t,passage:n,error:r}}c.onStartup(function(){var e="ontouchstart"in window||0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints;function t(e){var t=i(this),n=t.closest("tw-expression"),r=t.closest("tw-expression, tw-hook"),a=r.data("clickEvent"),r=r.data("section");if((!c.options.debug||!c.options.ignoreClickEvents||t.is("tw-backdrop.eval-replay *, tw-backdrop.harlowe-crash *"))&&!t.is("tw-open-button")&&(null==r||!r.stackTop||!r.stackTop.blocked||r.stackTop.blocked instanceof i&&r.stackTop.blocked.find(t).length)){if(a)return 0<t.find("tw-error").length?void 0:(e.stopPropagation(),void a(t));var r=n.data("linkPassageName"),o=_objectSpread({},n.data("passageT8n")||{});n.find("tw-enchantment").each(function(e,t){Object.assign(o,i(t).data("passageT8n")||{})}),r?(e.stopPropagation(),p.goToPassage(r,{transition:o})):t.is("[undo]")?(e.stopPropagation(),p.goBack({transition:o})):t.is("[fullscreen]")&&(e.stopPropagation(),p.toggleFullscreen())}}c.storyElement.on("click.passage-link","tw-link"+(e?"":":not(.enchantment-mouseover):not(.enchantment-mouseout):not(.enchantment-dblclick)"),t).on("mouseover.passage-link","tw-link.enchantment-mouseover, tw-expression.enchantment-mouseover > tw-link",t).on("mouseout.passage-link","tw-link.enchantment-mouseout, tw-expression.enchantment-mouseout > tw-link",t).on("dblclick.passage-link","tw-link.enchantment-dblclick, tw-expression.enchantment-dblclick > tw-link",t),i(document).on("fullscreenchange",function(){i("tw-link[fullscreen]",c.storyElement).each(function(e,t){(i(t).closest("tw-expression, tw-hook").data("fullscreenEvent")||Object)(t)})})}),[["link","link-replace"],["link-reveal","link-append"],["link-repeat"],["link-rerun"]].forEach(function(s){return e.addChanger(s,function(e,t,n){return t?n&&!n.canEnchant?h.create("datatype","The changer given to (".concat(s[0],":) can't be (or include) a revision, enchantment, or interaction changer like (replace:), (click:), or (link:).")):a.create(s[0],[t].concat(n||[]),null,!0):h.create("datatype",m[0])},function(r,e,t){var n,a=s[0],o=null!=(n=r.section)&&n.stackTop?r.section.stackTop.tempVariables:Object.create(null),i=d.create({source:"<tw-link tabindex=0>"+e+"</tw-link>",target:function(){return r.target},append:"replace",data:{section:r.section,clickEvent:function(e){r.enablers=r.enablers.filter(function(e){return e.descriptor!==i}),"link-reveal"===a&&e.contents().unwrap();var t,n=e.parentsUntil(":not(tw-enchantment)").parent();n.length||(n=e.parent()),"link-rerun"===a&&(t=e.parentsUntil(":not(tw-enchantment)"),e.detach(),t.remove()),"link"!==a&&"link-rerun"!==a||n.empty(),r.section.renderInto("",null,r,o),"link-rerun"===a&&n.prepend(e)}}});return r.enablers=(r.enablers||[]).concat({descriptor:i,changer:t}),r},[String,r(a)])}),e.addCommand("link-goto",function(e){if(!e)return h.create.apply(h,["datatype"].concat(m))},function(e,t,n,r){var a,o=s(t,n,r);return n=o.text,r=o.passage,(o=o.error)||(e.transition?h.create("datatype","Please attach ("+(o="transition")+"-depart:) or ("+o+"-arrive:) to a passage link, not ("+o+":)."):(a=(a=u.hasValid(r)?a:'<tw-broken-link passage-name="'+c.escape(r)+'">'+n+"</tw-broken-link>")||"<tw-link tabindex=0 "+(0<l.passageNameVisited(r)?'class="visited" ':"")+">"+n+"</tw-link>",e.data.linkPassageName=r,e.data.section=t,g(e,{source:a,transitionDeferred:!0})))},[String,r(String)])("link-storylet",function(){var e=(e=1===arguments.length||"string"!=typeof(arguments.length<=0?void 0:arguments[0])?0:1)<0||arguments.length<=e?void 0:arguments[e];if(!e||"string"==typeof e)return h.create("datatype","(link-storylet:) should be given one index number or one 'where' lambda, after the optional link text string.")},function(e,t){var n=(n=2+("string"==typeof(arguments.length<=2?void 0:arguments[2])?1:0))<2||arguments.length<=n?void 0:arguments[n],r="string"==typeof(arguments.length<=2?void 0:arguments[2])&&(arguments.length<=2?void 0:arguments[2]),a=((a=(arguments.length<=2?0:arguments.length-2)-1+2)<2||arguments.length<=a?void 0:arguments[a])!==n&&((a=(arguments.length<=2?0:arguments.length-2)-1+2)<2||arguments.length<=a?void 0:arguments[a]);if(e.transition)return h.create("datatype","Please attach (".concat(o="transition","-depart:) or (").concat(o,"-arrive:) to (link-storylet:), not (").concat(o,":)."));var o=f.isPrototypeOf(n),i=u.getStorylets(t,o&&n),s=h.containsError(i);if(s)return s;var c,s=i[o?0:n<0?i.length+n:n-1];if(s)s=s.get("name"),r=r||s,c=c||"<tw-link tabindex=0 "+(0<l.passageNameVisited(s)?'class="visited" ':"")+">"+r+"</tw-link>",e.data.linkPassageName=s,e.data.section=t;else{if(!a)return e;c=a}return g(e,{source:c,transitionDeferred:!0})},[n(parseInt,String,f.TypeSignature("where")),r(n(parseInt,String,f.TypeSignature("where"))),r(String)])("link-undo",function(e){if(!e)return h.create("datatype",m[0])},function(t,e,n){var r,a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"";return l.pastLength<1?g(t,{source:a}):(r=(t.data.section=e).stackTop.tempVariables,t.data.forgetUndosEvent=function(){return t.data.section.whenUnblocked(function(){var e=_objectSpread(_objectSpread({},t),{},{append:"replace",source:a,transitionDeferred:!1});t.section.renderInto("",null,e,r)})},g(t,{source:"<tw-link tabindex=0 undo>"+n+"</tw-link>",transitionDeferred:!0}))},[String,r(String)])("link-show",function(e){if(!e)return h.create("datatype",m[0])},function(r,a,e){for(var t=arguments.length,n=new Array(3<t?t-3:0),o=3;o<t;o++)n[o-3]=arguments[o];return r.data.section=a,r.data.clickEvent=function(e){e.contents().unwrap(),n.forEach(function(e){return e.forEach(a,function(e){var t=e.data("originalSource")||"",n=e.data("hidden");n&&(e.removeData("hidden"),n instanceof i?e.empty().append(n):(n=e.data("tempVariables"),a.renderInto("",null,_objectSpread(_objectSpread({},r),{},{source:t,target:e,transitionDeferred:!1}),n&&Object.create(n))))})})},g(r,{source:"<tw-link tabindex=0>"+e+"</tw-link>",transitionDeferred:!0})},[String,o(t)])("link-fullscreen",function(e,t){if(!e||!t)return h.create("datatype",m[0])},function(t,e,n,r){function a(){return document.fullscreenEnabled||document.msFullscreenEnabled?"<tw-link tabindex=0 fullscreen>"+(document.fullscreenElement||document.msFullscreenElement?r:n)+"</tw-link>":r?"<tw-broken-link>"+r+"</tw-broken-link>":""}var o=e.stackTop.tempVariables;return t.data.section=e,t.data.fullscreenEvent=function(){(document.fullscreenEnabled||document.msFullscreenEnabled)&&t.data.section.whenUnblocked(function(){var e=_objectSpread(_objectSpread({},t),{},{append:"replace",source:a(),transitionDeferred:!1});t.section.renderInto("",null,e,o)})},g(t,{source:a(),transitionDeferred:!0})},[String,String,r(String)]),e.addChanger(["link-reveal-goto"],function(e,t,n,r){if(!t)return h.create.apply(h,["datatype"].concat(m));if(a.isPrototypeOf(n)){if(a.isPrototypeOf(r))return h.create("datatype","You mustn't give two changers to (link-reveal-goto:)");r=n,n=void 0}return r&&!r.canEnchant?h.create("datatype","The changer given to (link-reveal-goto:) can't include a revision, enchantment, or interaction changer like (replace:), (click:), or (link:)."):(t=(e=s(e,t,n)).text,n=e.passage,e.error||a.create("link-reveal-goto",[t,n,r].filter(function(e){return void 0!==e}),null,!1))},function(t,e,n,r){var a,o,i,s;if(u.hasValid(n))return o=l.passageNameVisited(n),i=null!=(a=t.section)&&a.stackTop?t.section.stackTop.tempVariables:Object.create(null),s=d.create({source:"<tw-link tabindex=0 "+(0<o?'class="visited" ':"")+">"+e+"</tw-link>",target:t.target,append:"replace",data:{section:t.section,append:"replace",clickEvent:function(e){t.enablers=t.enablers.filter(function(e){return e.descriptor!==s}),e.contents().unwrap(),t.section.renderInto("",null,t,i),t.section.whenUnblocked(function(){return p.goToPassage(n,{transition:t.data.passageT8n})})}}}),t.enablers=(t.enablers||[]).concat({descriptor:s,changer:r}),t;t.source='<tw-broken-link passage-name="'+c.escape(n)+'">'+e+"</tw-broken-link>"},[String,r(n(a,String)),r(a)])}),define("macrolib/metadata",["macros","utils/operationutils","datatypes/lambda","internaltypes/twineerror"],function(t,e,n,s){function c(e){return{TwineScript_TypeName:"a ("+e+":) macro",TwineScript_ObjectName:"a ("+e+":) macro",TwineScript_Unstorable:!0,TwineScript_Print:function(){return""}}}var l=e.clone,u=e.objectName,p=e.isValidDatamapName,e=t.TypeSignature,r=e.zeroOrMore,e=e.Any;[["storylet",n.TypeSignature("when")],["urgency",Number],["exclusivity",Number]].forEach(function(e){var e=_slicedToArray(e,2),n=e[0],e=e[1];t.add(n,"Metadata",function(e,t){return e.stackTop.speculativePassage?t:c(n)},e)}),t.add("metadata","Metadata",function(e){for(var r,a=new Map,t=arguments.length,n=new Array(1<t?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var i=n.reduce(function(e,t){var n;if(!s.containsError(e))if(void 0===r)r=t;else{if(n=s.containsError(p(a,r)))return n;if(a.has(r))return s.create("macrocall","You used the same data name ("+u(r)+") twice in the same (metadata:) call.");a.set(r,l(t)),r=void 0}return e},!0);return s.containsError(i)?i:void 0!==r?s.create("macrocall","This (metadata:) macro has a data name without a value."):e.stackTop.speculativePassage?a:c("metadata")},r(e))}),define("macrolib/patterns",["macros","utils","utils/operationutils","datatypes/lambda","datatypes/datatype","datatypes/typedvar","internaltypes/twineerror","internaltypes/varscope"],function(e,t,n,y,b,h,v,w){function k(e){var r,t,a=e.name,n=e.fullArgs,o=e.args,i=e.makeRegExpString,s=void 0===i?function(e){return e.join("")}:i,c=void 0!==(i=e.insensitive)&&i,l=void 0===(i=e.canContainTypedVars)||i,u=void 0===(i=e.canBeUsedAlone)||i,p=void 0===(i=e.canContainTypedGlobals)||i,d=o||n,f=E(null),e=d.map(function e(t){if(h.isPrototypeOf(t)){var n=t.varRef;if(!l)return v.create("operation","Optional string patterns, like (".concat(a,":)").concat("p-many"===a?" with a minimum of 0 matches":"",", can't have typed variables inside them."));if(!p&&!w.isPrototypeOf(n.object))return v.create("operation","Only typed temp variables can be used in patterns given to (".concat(a,":)"));n=n.getName();if(n in f)return v.create("operation","There's already a typed temp variable named _".concat(n," inside this (").concat(a,":) call."));f[n]=!0;n=e(t.datatype);return v.containsError(n)?n:"("+n+")"}if(b.isPrototypeOf(t)){if(!(l&&p||"function"!=typeof t.typedVars)){n=t.typedVars();if(!l&&n.length)return v.create("operation","(".concat(a,":) can't have typed variables inside its pattern."));if(!p&&n.some(function(e){return!w.isPrototypeOf(e.varRef.object)}))return v.create("operation","Only typed temp variables can be used in patterns given to (".concat(a,":)"))}var r;return t.regExp?(t.rest?"(?:":"")+(c?t.insensitive():t).regExp+(t.rest?")*":""):(n=t.name,r=t.rest?"*":"","alnum"===n?m+r:"whitespace"===n?_+r:"uppercase"===n?(c?T:g)+r:"lowercase"===n?(c?T:S)+r:"anycase"===n?T+r:"digit"===n?"\\d"+r:"linebreak"===n?"(?:\\r|\\n|\\r\\n)"+r:"str"===n?".*?":["even","odd","int","num"].includes(n)?v.create("datatype","Please use string datatypes like 'digit' in (".concat(a,":) instead of number datatypes.")):v.create("datatype","The (".concat(a,":) macro must only be given string-related datatypes, not ").concat(O(t),".")))}return"string"==typeof t?(t=t.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&"),c?t.replace(RegExp("(".concat(g,"|").concat(S,")"),"g"),function(e){return"["+e.toUpperCase()+e.toLowerCase()+"]"}):t):(x("createPattern","mapper() was given a non-string non-datatype "+t),"")});return(i=v.containsError(e))||(r=s(e),t=C(E(b),{name:a,regExp:r,insensitive:function(){return c?t:k({name:a,fullArgs:n,args:d.map(function(e){return b.isPrototypeOf(e)&&"function"==typeof e.insensitive?e.insensitive():e}),makeRegExpString:s,insensitive:!0,canContainTypedVars:l,canBeUsedAlone:u})},typedVars:function(){return d.reduce(function(e,t){return h.isPrototypeOf(t)&&(e=e.concat(c?h.create(k({name:"p-ins",fullArgs:[t.datatype],insensitive:!0}),t.varRef):t),t=t.datatype),e=b.isPrototypeOf(t)&&"function"==typeof t.typedVars?e.concat(t.typedVars()):e},[])},destructure:function(e){var n,t;return"string"!=typeof e?[v.create("operation","I can't put ".concat(O(e)," into ").concat(this.TwineScript_ToSource()," because it isn't a string."))]:(n=this.typedVars()).length?(t=(RegExp("^"+(this.rest?"(?:":"")+r+(this.rest?")*":"")+"$").exec(e)||[]).slice(1)).length?t.map(function(e,t){t=n[t];if(t)return t.datatype.rest&&!t.datatype.regExp&&((t=t.TwineScript_Clone()).datatype=k({name:"p",fullArgs:[t.datatype]})),{dest:t,value:e||"",src:void 0}}).filter(Boolean):[v.create("operation","I can't put ".concat(O(e)," because it doesn't match the pattern ").concat(this.TwineScript_ToSource(),"."))]:[]},TwineScript_IsTypeOf:function(e){return u?"string"==typeof e&&!!e.match("^"+(this.rest?"(?:":"")+r+(this.rest?")*":"")+"$"):v.create("operation","A (".concat(a,":) datatype must only be used with a (p:) macro."))},TwineScript_toTypeSignatureObject:function(){var t=this;return{pattern:"range",name:a,range:function(e){return t.TwineScript_IsTypeOf(e)}}},TwineScript_ToSource:function(){return(this.rest?"...":"")+"("+a+":"+n.map(A)+")"}}),Object.defineProperty(t,"TwineScript_ObjectName",{get:function(){return"a (".concat(a,":) datatype")}}),t)}var m=t.anyRealLetter,g=t.anyUppercase,S=t.anyLowercase,T=t.anyCasedLetter,_=t.realWhitespace,x=t.impossible,O=n.objectName,A=n.toSource,t=e.TypeSignature,n=t.rest,r=t.either,a=t.optional,t=t.nonNegativeInteger,C=Object.assign,E=Object.create,o=n(r(String,b,h));e.add(["p","pattern"],"Datatype",function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return k({name:"p",fullArgs:n})},o)(["p-either","pattern-either"],"Datatype",function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return k({name:"p-either",fullArgs:n,canContainTypedVars:!1,makeRegExpString:function(e){return"(?:"+e.join("|")+")"}})},o)(["p-opt","pattern-opt","p-optional","pattern-optional"],"Datatype",function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return k({name:"p-opt",fullArgs:n,canContainTypedVars:!1,makeRegExpString:function(e){return"(?:"+e.join("")+")?"}})},o)(["p-not","pattern-not"],"Datatype",function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.find(function(e){return"string"==typeof e?1!==_toConsumableArray(e).length:e.rest||e.regExp||["str","empty"].includes(e.name)})?v.create("datatype","(p-not:) should only be given single characters, or datatypes that match single characters"):k({name:"p-not",fullArgs:n,canContainTypedVars:!1,makeRegExpString:function(e){return"[^"+e.map(function(e){return e.startsWith("[")&&e.endsWith("]")?e.slice(1,-1):e}).join("")+"]"}})},o)(["p-not-before","pattern-not-before"],"Datatype",function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return k({name:"p-not-before",fullArgs:n,canContainTypedVars:!1,makeRegExpString:function(e){return"(?!"+e.join("")+")"}})},o)(["p-before","pattern-before"],"Datatype",function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return k({name:"p-before",fullArgs:n,canContainTypedVars:!1,makeRegExpString:function(e){return"(?="+e.join("")+")"}})},o)(["p-start","pattern-start"],"Datatype",function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return k({name:"p-start",fullArgs:n,makeRegExpString:function(e){return"^(?:"+e.join("")+")"}})},o)(["p-end","pattern-end"],"Datatype",function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return k({name:"p-end",fullArgs:n,makeRegExpString:function(e){return"(?:"+e.join("")+")$"}})},o)(["p-many","pattern-many"],"Datatype",function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a,o,i,s=n.slice();return"number"==typeof n[0]&&(a=n.shift(),o="number"==typeof n[0]?n.shift():1/0),!(void 0!==o&&o<a)&&n.length?(i=n.find(function(e){return"string"!=typeof e&&!b.isPrototypeOf(e)&&!h.isPrototypeOf(e)}))?v.create("datatype","This (p-many:) macro can only be given a min and max number followed by datatypes or strings, but was also given "+O(i)+"."):k({name:"p-many",args:n,fullArgs:s,canContainTypedVars:0<a,makeRegExpString:function(e){return"(?:"+e.join("")+")"+(void 0!==a?"{"+a+(o===1/0?",":o!==a?","+o:"")+"}":"+")}}):v.create("datatype","The (p-many:) macro needs to be given string patterns, not just min and max numbers.")},[n(r(t,String,b,h))])(["p-ins","pattern-ins","p-insensitive","pattern-insensitive"],"Datatype",function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return k({name:"p-ins",fullArgs:n,insensitive:!0})},o)(["split","splitted"],"Array",function(e,t,n){if(t=k({name:"split",fullArgs:[t],canContainTypedVars:!1}),v.containsError(t))return t;if(!n)return[""];if(!t.regExp)return _toConsumableArray(n);for(var r,a=RegExp(t.regExp),o=[];n&&(r=a.exec(n));){if(r.index+r[0].length===0)return o;o.push(n.slice(0,r.index)),n=n.slice(r.index+r[0].length)}return o.concat(n||[])},[r(String,b),String])("trimmed","String",function(e,t,n){return void 0===n||b.isPrototypeOf(t)&&"whitespace"===t.name?t.trim():(t=k({name:"trimmed",fullArgs:[t],canContainTypedVars:!1}),v.containsError(t)?t:t.regExp?n.replace(RegExp("^("+t.regExp+")*|("+t.regExp+")*$","g"),""):n)},[r(String,b),a(String)])(["str-find","string-find"],"String",function(e,t,n){if(t=k({name:"str-find",fullArgs:[t],canContainTypedGlobals:!1}),v.containsError(t))return t;for(var r,a=t.typedVars(),o=RegExp(t.regExp,"g"),i=[],s=o.lastIndex;(r=o.exec(n))&&s!==o.lastIndex;)if(s=o.lastIndex,a.length){for(var c=new Map,l=0;l<a.length;l+=1){if("match"===a[l].varRef.getName())return v.create("macrocall","There was a typed temp variable named _match in the pattern given to (str-find:)","The variable _match is reserved, and can't be used inside (str-find:)'s pattern.");c.set(a[l].varRef.getName(),r[l+1]),c.set("match",r[0])}i.push(c)}else i.push(r[0]);return i},[b,String])(["str-replaced","string-replaced","replaced"],"String",function(e,t,n,r,a){if("number"!=typeof t){if(void 0!==a)return v.create("macrocall","1 too many values were given to (str-replaced:).","If this is given 5 values, the first value must be a number of replacements.");a=r,r=n,n=t,t=1/0}else if(void 0===a)return v.create("macrocall","The (str-replaced:) macro needs 1 more value.","The final string seems to be missing.");if(b.isPrototypeOf(r))return v.create("datatype","The replacement value for (str-replaced:) must be a string or lambda, not ".concat(O(r)));if(y.isPrototypeOf(a)||y.isPrototypeOf(n))return v.create("datatype","The ".concat(y.isPrototypeOf(a)?"final string":"search pattern"," given to (str-replaced:) can't be a lambda."),"Only the replacement value (after the search pattern) can be a 'via' lambda.");if(n=k({name:"str-replaced",fullArgs:[n],canContainTypedGlobals:!1}),v.containsError(n))return n;if(!n.regExp)return a;for(var o,i=RegExp(n.regExp,"g"),s=y.isPrototypeOf(r)?n.typedVars():[],c=1,l=0,u="",p=i.lastIndex;a&&(o=i.exec(a))&&0<t&&p!==i.lastIndex;){for(var p=i.lastIndex,d=Object.create(e.stack.length?e.stackTop.tempVariables:w),f=0;f<s.length;f+=1){var h=s[f],m=h.varRef.create(d,h.varRef.propertyChain);if(v.containsError(m))return m;h=m.defineType(h.datatype);if(v.containsError(h))return h;m.set(o[f+1])}var g=y.isPrototypeOf(r)?r.apply(e,{loop:o[0],pos:c,tempVariables:d}):r;if(v.containsError(g))return g;if("string"!=typeof g)return v.create("datatype","(str-replaced:)'s lambda must produce a string, but it produced ".concat(O(g),' when given "').concat(o[0],'".'));u+=a.slice(l,o.index)+g,c+=1,--t,l=o.index+o[0].length}return u+=a.slice(l)},[r(t,String,b),r(b,String,y.TypeSignature("via")),r(String,y.TypeSignature("via")),a(String)])}),define("macrolib/stylechangers",["jquery","macros","utils","utils/renderutils","datatypes/colour","datatypes/hookset","datatypes/gradient","datatypes/changercommand","datatypes/lambda","internaltypes/changedescriptor","internaltypes/twineerror"],function(s,e,c,t,a,n,r,o,i,l,u){var p,d,f=t.geomParse,h=t.geomStringRegExp,m=Object.assign,t=e.TypeSignature,g=t.either,y=t.wrapped,b=t.optional,v=t.Any,w=t.Everything,k=t.zeroOrMore,S=t.rest,T=t.insensitiveSet,_=t.positiveNumber,x=t.positiveInteger,O=t.nonNegativeNumber,t=t.percent,y=[y(Boolean,'If you gave a number, you may instead want to check that the number is not 0. If you gave a string, you may instead want to check that the string is not "".')],A=(c.onStartup(function(){return c.storyElement.on("mouseenter.hover-macro","[hover=false]",function(){var e=s(this),t=e.data("hoverChanger");c.options.debug&&c.options.ignoreClickEvents&&!e.is("tw-backdrop.eval-replay *, tw-backdrop.harlowe-crash *")||(e.data({mouseoutStyle:e.attr("style")||""}),l.create({target:e},t).update(),e.attr("hover",!0))}).on("mouseleave.hover-macro","[hover=true]",function(){var e=s(this),t=e.data("mouseoutStyle");e.attr("style",t).removeData("mouseoutStyle").attr("hover",!1)})}),u.on(function(){s("tw-expression, tw-hook",c.storyElement).each(function(e,t){((t=s(t)).data("errorEvent")||Object)(t)})}),T("instant","dissolve","fade","rumble","shudder","pulse","zoom","flicker","slideleft","slideright","slideup","slidedown","fadeleft","faderight","fadeup","fadedown","blur")),C=T("dotted","dashed","solid","double","groove","ridge","inset","outset","none");e.addChanger("if",function(e,t){return o.create("if",[t])},function(e,t){return e.enabled=e.enabled&&t},y)("unless",function(e,t){return o.create("unless",[t])},function(e,t){return e.enabled=e.enabled&&!t},y)("elseif",function(e,t){return"lastHookShown"in e.stack[0]?o.create("elseif",[!1===e.stack[0].lastHookShown&&!!t]):u.create("macrocall","There's no (if:) or something else before this to do (else-if:) with.")},function(e,t){return e.enabled=e.enabled&&t},y)("else",function(e){return"lastHookShown"in e.stack[0]?o.create("else",[!1===e.stack[0].lastHookShown]):u.create("macrocall","There's nothing before this to do (else:) with.")},function(e,t){return e.enabled=e.enabled&&t},null)("hidden",function(){return o.create("hidden")},function(e){return e.enabled=!1},null)(["verbatim","v6m"],function(){return o.create("verbatim")},function(e){return e.verbatim=!0},null)("live",function(e,t){return o.create("live",t?[t]:[])},function(e,t){e.enabled=!1,e.transitionDeferred=!0,e.data.live={delay:t}},b(Number))("event",function(e,t){return o.create("event",[t])},function(e,t){e.enabled=!1,e.transitionDeferred=!0,e.data.live={event:t}},i.TypeSignature("when"))("more",function(){return o.create("more")},function(e){e.enabled=!1,e.transitionDeferred=!0,e.data.live={event:{when:!0,filter:function(e){return 0!==e.Identifiers.exits?[]:[!0]}}}},null)("after",function(e,t,n){return o.create("after",[t].concat(void 0!==n?[n]:[]))},function(e,t,n){e.enabled=!1,e.transitionDeferred=!0,e.data.live={event:{when:!0,filter:function(e){return c.anyInputDown()&&n&&(t-=n),e.Identifiers.time>t?[!0]:[]}}}},[_,b(O)])("after-error",function(){return o.create("after-error",[])},function(n){n.enabled=!1,n.transitionDeferred=!0;var r=n.section.stackTop.tempVariables;n.data.errorEvent=function(e){e.removeData("errorEvent");var t=_objectSpread(_objectSpread({},n),{},{enabled:!0,transitionDeferred:!1});t.data&&(t.data.errorEvent=void 0),n.section.whenUnblocked(function(){return n.section.renderInto("",null,t,r)})}},[])("hook",function(e,t){var n;return t?(n=c.insensitiveName(t))?o.create("hook",[n]):u.create("datatype",'The string given to (hook:), "'.concat(t,'", contained only dashes and underscores.')):u.create("datatype","The string given to (hook:) was empty.")},function(e,t){return e.attr.push({name:t})},[String])(["for","loop"],function(e,t){if(!t.loop)return u.create("datatype","The lambda provided to (for:) must refer to a temp variable, not just 'it'.");for(var n=arguments.length,r=new Array(2<n?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return o.create("for",[t].concat(r))},function(e,t){for(var n=arguments.length,r=new Array(2<n?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];var o,i=t.filter(e.section,r);if(o=u.containsError(i))return o;e.loopVars[t.loop.getName()]=i||[]},[i.TypeSignature("where"),k(v)])(["transition","t8n"],function(e,t){return o.create("transition",[c.insensitiveName(t)])},function(e,t){return"zoom"===(e.transition=t)&&(e.transitionOrigin=function(){var e=s(this).offset(),t=e.left,e=e.top;return c.mouseCoords.x-t+"px "+(c.mouseCoords.y-e)+"px"}),e},[A])(["transition-time","t8n-time"],function(e,t){return o.create("transition-time",[t])},function(e,t){return e.transitionTime=t,e.data.passageT8n=m(e.data.passageT8n||{},{time:t}),e},[_])(["transition-delay","t8n-delay"],function(e,t){return o.create("transition-delay",[t])},function(e,t){return e.transitionDelay=t,e},[O])(["transition-skip","t8n-skip"],function(e,t){return o.create("transition-skip",[t])},function(e,t){return e.transitionSkip=t,e},[_])(["transition-depart","t8n-depart"],function(e,t){return o.create("transition-depart",[c.insensitiveName(t)])},function(e,t){return e.data.passageT8n=m(e.data.passageT8n||{},{depart:t}),"zoom"===t&&(e.data.passageT8n.departOrigin=function(){var e=s(this).offset(),t=e.left,e=e.top;return c.mouseCoords.x-t+"px "+(c.mouseCoords.y-e)+"px"}),e},[A])(["transition-arrive","t8n-arrive"],function(e,t){return o.create("transition-arrive",[c.insensitiveName(t)])},function(e,t){return e.data.passageT8n=m(e.data.passageT8n||{},{arrive:t}),"zoom"===t&&(e.data.passageT8n.arriveOrigin=function(){var e=s(this),t=e.offset(),n=t.left,t=t.top,r=e.height();return{"transform-origin":100*(c.mouseCoords.x-n)/e.width()+"% "+100*(c.mouseCoords.y-t)/r+"%",height:r+"px"}}),e},[A])("button",function(e,t){return void 0===t||f(t).size?o.create("button",t?[t]:[]):u.create("datatype",'The string given to (button:) should be a sizing line ("==X==", "==X", "=XXXX=" etc.), not '.concat(JSON.stringify(t),"."))},function(e,t){var t=f(t),n=t.marginLeft,t=t.size;return e.attr.push({class:function(){return this.className+(this.classList.contains("enchantment-button")?"":" ".repeat(0<this.className.length)+"enchantment-button")}}),e.styles.push({"margin-left":t?n+"%":void 0,width:t?t+"%":"100%"}),e},[b(String)]).apply(void 0,_toConsumableArray((d={click:{className:"enchantment-link",blockClassName:"enchantment-clickblock"},doubleclick:{className:"enchantment-dblclick",blockClassName:"enchantment-dblclickblock"},mouseover:{className:"enchantment-mouseover",blockClassName:"enchantment-mouseoverblock"},mouseout:{className:"enchantment-mouseout",blockClassName:"enchantment-mouseoutblock"}},["action",function(e,t){return o.create("action",[c.insensitiveName(t)])},function(e,t){return e.attr.push({class:function(){var e=function e(t){return(t=s(t)).is("tw-story, tw-sidebar, tw-passage")||["block","flex"].includes(t.css("display"))||t.children().get().some(e)}(this);return Array.from(this.classList).filter(function(t){return!Object.keys(d).some(function(e){return d[e].className===t||d[e].blockClassName===t})}).concat(d[t][e?"blockClassName":"className"]).join(" ")}}),e},[T.apply(void 0,_toConsumableArray(Object.keys(d)))]])))(["border","b4r"],function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return o.create("border",n.map(c.insensitiveName))},function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.styles.push({display:function(){var e=s(this).css("display");return n.every(function(e){return"none"===e})||!e.includes("inline")?e:"inline-block"},"border-style":n.join(" "),"border-width":function(){return this.style.borderWidth||"2px"}}),e},[C].concat(_toConsumableArray(Array(3).fill(b(C)))))(["border-size","b4r-size"],function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return o.create("border-size",n)},function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.styles.push({"border-width":n.map(function(e){return e+"px"}).join(" ")}),e},[O].concat(_toConsumableArray(Array(3).fill(b(O)))))("corner-radius",function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return o.create("corner-radius",n)},function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.styles.push({"border-radius":n.map(function(e){return e+"px"}).join(" "),padding:function(){return this.style.padding||n.map(function(e){return e+"px"}).join(" ")}}),e},[O].concat(_toConsumableArray(Array(3).fill(b(O)))))(["border-colour","b4r-colour","border-color","b4r-color"],function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return o.create("border-colour",n.map(function(e){return a.isPrototypeOf(e)?e.toRGBAString(e):e}))},function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.styles.push({"border-color":n.join(" ")}),e},[g(String,a)].concat(_toConsumableArray(Array(3).fill(b(g(String,a))))))("opacity",function(e,t){return o.create("opacity",[t])},function(e,t){return e.styles.push({opacity:t})},[t])("font",function(e,t){return o.create("font",[t])},function(e,t){return e.styles.push({"font-family":t}),e},[String])("align",function(e,t){var n=t.indexOf("><");return/^(==+>|<=+|=+><=+|<==+>)$/.test(t)?((n=~n?_objectSpread({"text-align":"center","max-width":"50%"},25===(n=Math.round(n/(t.length-2)*50))?{"margin-left":"auto","margin-right":"auto"}:{"margin-left":n+"%"}):"<"===t[0]&&">"===t.slice(-1)?{"text-align":"justify","max-width":"50%"}:t.includes(">")?{"text-align":"right"}:{"text-align":"left"}).display="block",o.create("align",[n])):u.create("datatype",'The (align:) macro requires an alignment arrow ("==>", "<==", "==><=" etc.) be provided, not "'+t+'"')},function(e,t){e.styles.push(t)},[String])(["text-colour","text-color","color","colour"],function(e,t){return o.create("text-colour",[t])},function(e,t){return a.isPrototypeOf(t)&&(t=t.toRGBAString(t)),e.styles.push({color:t}),e},[g(String,a)])(["text-size","size"],function(e,t){return o.create("text-size",[t])},function(e,t){return e.styles.push({"font-size":24*t+"px","line-height":36*t+"px"}),e},[O])("text-indent",function(e,t){return o.create("text-indent",[t])},function(e,t){return e.styles.push({"text-indent":t+"px",display:"inline-block"}),e},[O])(["text-rotate-z","text-rotate"],function(e,t){return o.create("text-rotate-z",[t])},function(e,t){return e.styles.push({display:"inline-block",transform:function(){var e=s(this).css("transform")||"";return(e="none"===e?"":e)+" rotate("+t+"deg)"}}),e},[Number])("text-rotate-y",function(e,t){return o.create("text-rotate-y",[t])},function(e,t){return e.styles.push({display:"inline-block",transform:function(){var e=s(this).css("transform")||"";return(e="none"===e?"":e)+" perspective(50vw) rotateY("+t+"deg)"}}),e},[Number])("text-rotate-x",function(e,t){return o.create("text-rotate-x",[t])},function(e,t){return e.styles.push({display:"inline-block",transform:function(){var e=s(this).css("transform")||"";return(e="none"===e?"":e)+" perspective(50vw) rotateX("+t+"deg)"}}),e},[Number])(["background","bg"],function(e,t){return o.create("background",[t])},function(e,t){return a.isPrototypeOf(t)?t=t.toRGBAString():r.isPrototypeOf(t)&&(t=t.toLinearGradientString()),t=a.isHexString(t)||a.isCSS3Function(t)?{"background-color":t}:t.startsWith("linear-gradient(")||t.startsWith("repeating-linear-gradient(")?{"background-image":t}:{"background-size":"cover","background-image":"url(".concat(t,")"),"background-attachment":"fixed"},e.styles.push(t,{display:function(){var e=s(this);return!e.children().length||c.childrenProbablyInline(e)?s(this).css("display"):"block"}}),e},[g(String,a,r)]).apply(void 0,_toConsumableArray((y={color:function(){return"transparent"}},p=m(Object.create(null),{none:{},bold:{"font-weight":"bold"},italic:{"font-style":"italic"},underline:{"text-decoration":"underline"},doubleunderline:{"text-decoration":"underline","text-decoration-style":"double"},wavyunderline:{"text-decoration":"underline","text-decoration-style":"wavy"},strike:{"text-decoration":"line-through"},doublestrike:{"text-decoration":"line-through","text-decoration-style":"double"},wavystrike:{"text-decoration":"line-through","text-decoration-style":"wavy"},superscript:{"vertical-align":"super","font-size":".83em"},subscript:{"vertical-align":"sub","font-size":".83em"},blink:{animation:"fade-in-out 1s steps(1,end) infinite alternate"},shudder:{animation:"shudder linear 0.1s 0s infinite"},mark:{"background-color":"hsla(60, 100%, 50%, 0.6)"},condense:{"letter-spacing":"-0.08em"},expand:{"letter-spacing":"0.1em"},outline:[{"text-shadow":function(){var e=s(this).css("color");return"-1px -1px 0 "+e+", 1px -1px 0 "+e+",-1px  1px 0 "+e+", 1px  1px 0 "+e}},{color:function(){return c.parentColours(s(this)).backgroundColour}}],shadow:{"text-shadow":function(){return"0.08em 0.08em 0.08em "+s(this).css("color")}},emboss:{"text-shadow":function(){return"0.04em 0.04em 0em "+s(this).css("color")}},smear:[{"text-shadow":function(){var e=s(this).css("color");return"0em   0em 0.02em "+e+",-0.2em 0em  0.5em "+e+", 0.2em 0em  0.5em "+e}},y],blur:[{"text-shadow":function(){return"0em 0em 0.08em "+s(this).css("color")}},y],blurrier:[{"text-shadow":function(){return"0em 0em 0.2em "+s(this).css("color")},"user-select":"none"},y],mirror:{display:"inline-block",transform:"scaleX(-1)"},upsidedown:{display:"inline-block",transform:"scaleY(-1)"},tall:{display:"inline-block",transform:"scaleY(1.5) translateY(-0.25ex)"},flat:{display:"inline-block",transform:"scaleY(0.5) translateY(0.25ex)"},fadeinout:{animation:"fade-in-out 2s ease-in-out infinite alternate"},rumble:{animation:"rumble linear 0.1s 0s infinite"},sway:{animation:"sway linear 2.5s 0s infinite"},buoy:{animation:"buoy linear 2.5s 0s infinite"},fidget:{animation:function(){return"fidget step-end 60s "+60*-Math.random()+"s infinite"+(Math.random()<.5?" reverse":"")}}}),["text-style",function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return o.create("text-style",n.map(c.insensitiveName))},function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var a=0;a<n.length;a+=1)"none"===n[a]?e.styles=[]:e.styles=e.styles.concat(p[n[a]]);return e},[S(T.apply(void 0,_toConsumableArray(Object.keys(p))))]])))("collapse",function(){return o.create("collapse")},function(e){return e.attr.push({collapsing:!0}),e},[])("hover-style",function(e,t){var n=l.create(),r=(t.run(n),n.summary());return r+""=="styles"||r.every(function(e){return"styles"===e||"attr"===e})&&n.attr.every(function(e){return Object.keys(e)+""=="style"})?o.create("hover-style",[t]):u.create("datatype","The changer given to (hover-style:) must only change the hook's style.")},function(e,t){return e.data.hoverChanger=t,e.attr.push({hover:function(e,t){return void 0!==t&&t}}),e},[o])("css",function(e,t){return t.trim().endsWith(";")||(t+=";"),o.create("css",[t])},function(e,t){return e.attr.push({style:function(){return(s(this).attr("style")||"")+t}}),e},[String])("test-true",function(){return o.create("test-true",[])},function(e){return e.enabled=!0},k(w))("test-false",function(){return o.create("test-false",[])},function(e){return e.enabled=!1},k(w)),e.addCommand("animate",s.noop,function(r,e,t,a,o){t.forEach(e,function(e){var t,n;"zoom"===name&&(n=(t=e.offset()).left,t=t.top,n=c.mouseCoords.x-n+"px "+(c.mouseCoords.y-t)+"px"),c.transitionIn(e,a,r.transitionTime||o,r.transitionDelay,r.transitionSkip,0,n)})},[S(n),T.apply(void 0,_toConsumableArray(A.innerType.filter(function(e){return"instant"!==e}))),b(_)]),["box","float-box"].forEach(function(i){return e.addChanger(i,function(e,t,n){var r=-1===t.search(h)||1<t.length&&!t.includes("="),a="float-box"===i&&(-1===n.search(h)||1<n.length&&!n.includes("="));return r||a?u.create("datatype","The ("+i+':) macro requires a sizing line("==X==", "==X", "=XXXX=" etc.) be provided, not "'+(r?t:n)+'".'):o.create(i,[t,n].filter(function(e){return void 0!==e}))},function(e,t,n){var r,t=f(t),a=t.marginLeft,t=t.size,o=("float-box"===i&&(r=(o=f(n)).marginLeft,n=o.size),"box"===i?"%":"vw"),t=_defineProperty(_defineProperty(_defineProperty({display:"block",width:t+o,"max-width":t+o},"box"===i?"margin-left":"left",a+o),"overflow-y","auto"),"padding",function(){var e=s(this).css("padding");return e&&"0px"!==e?e:"1em"});return void 0!==n&&(t.height="box"===i?1.5*n+2+"em":n+"vh"),"float-box"===i&&m(t,{position:"fixed",top:r+"vh","background-color":function(){return c.parentColours(s(this)).backgroundColour}}),e.styles.push(t),e},[String,"box"===i?b(x):String])})}),define("macrolib/values",["macros","state","utils","utils/operationutils","datatypes/colour","datatypes/gradient","datatypes/datatype","datatypes/hookset","datatypes/codehook","internaltypes/twineerror"],function(t,r,e,n,l,c,a,o,i,f){var s=e.realWhitespace,u=e.nth,p=e.anyRealLetter,d=e.plural,h=n.subset,m=n.objectName,g=n.clone,y=n.toSource,e=t.TypeSignature,n=e.rest,b=e.zeroOrMore,v=e.either,w=e.optional,k=e.insensitiveSet,S=e.numberRange,T=e.percent,_=e.nonNegativeInteger,x=e.positiveInteger,e=e.Any,O=Math.max,A=Math.min,C=Math.round,E=Math.floor,N=Math.ceil;function j(t){return function(){var e=t.apply(void 0,arguments);return"number"!=typeof e||isNaN(e)?f.create("macrocall","This mathematical expression doesn't compute!"):e}}t.add(["str","string","text"],"String",function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.map(function(e){return i.isPrototypeOf(e)?e.source:e}).join("")},[b(t.TypeSignature.either(String,Number,Boolean,Array,i))])("source","String",function(e,t){return"command"!==(null==t?void 0:t.TwineScript_TypeID)||t.TwineScript_ToSource?y(t):f.create("datatype","I can't construct the source code of a command created by a custom macro.")},[e])("substring","String",function(e,t,n,r){return h(t,n,r)},[String,parseInt,parseInt])("lowercase","String",function(e,t){return t.toLowerCase()},[String])("uppercase","String",function(e,t){return t.toUpperCase()},[String])("lowerfirst","String",function(e,t){return t.replace(RegExp(p+"+"),function(e){return(e=Array.from(e))[0].toLowerCase()+e.slice(1).join("").toLowerCase()})},[String])("upperfirst","String",function(e,t){return t.replace(RegExp(p+"+"),function(e){return(e=Array.from(e))[0].toUpperCase()+e.slice(1).join("").toLowerCase()})},[String])("words","Array",function(e,t){return t.split(RegExp(s+"+")).filter(Boolean)},[String])(["str-repeated","string-repeated"],"String",function(e,t,n){return 0===n.length?f.create("macrocall","I can't repeat an empty string."):n.repeat(t)},[_,String])(["str-reversed","string-reversed"],"String",function(e,t){return _toConsumableArray(t).reverse().join("")},[String])("joined","String",function(e,t){for(var n=arguments.length,r=new Array(2<n?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return r.join(t)},[n(String)])("plural","String",function(e,t,n,r){return n&&""!==r?d(t,n,r):f.create("macrocall","The (plural:) macro can't be given empty strings.")},[parseInt,String,w(String)])(["str-nth","string-nth"],"String",function(e,t){return u(t)},[parseInt])("digit-format","String",function(e,t,n){if(1e21<=Math.abs(n))return f.create("macrocall","The number given to (digit-format:) is too big.");for(var r=/([^#0])(?=[#0]*$)/g,a=(r.exec(t)||[])[1],o=(/^[#0]*([^#0])/g.exec(t)||[])[1],i=(t=_toConsumableArray(t)).length,s=(a&&(","!==a||o&&","!==o)&&(i=r.lastIndex-1),Math.abs(n).toFixed(16).replace(/(\.\d*?)0+$/,function(e,t){return t}).replace(/^0+/,"")),c=s.includes(".")?s.indexOf("."):s.length,l=0,u="",p=t.length-1;0<=p;--p){var d=t[p];"0"===d||"#"===d?u=(s[c-i+p+l]||("0"===d?"0":""))+u:p<t.length-1&&0<p&&(u=d+u,l+=p===i?0:1)}return(n<0?"-":"")+u},[String,Number])(["num","number"],"Number",function(e,t){return Number.isNaN(+t)?f.create("macrocall","I couldn't convert "+m(t)+" to a number."):+t},[String])("datatype","Datatype",function(e,t){return a.from(t)},[e])("datapattern","Any",function(e,t){return function n(e){var r;return Array.isArray(e)?r=e.map(n):e instanceof Map?(r=new Map,_toConsumableArray(e).forEach(function(e){var e=_slicedToArray(e,2),t=e[0],e=e[1];return r.set(t,n(e))})):r=a.from(e),(e=f.containsError(r))||r}(t)},[e])(["rgb","rgba"],"Colour",function(e){return l.create({r:arguments.length<=1?void 0:arguments[1],g:arguments.length<=2?void 0:arguments[2],b:arguments.length<=3?void 0:arguments[3],a:arguments.length<=4?void 0:arguments[4]})},[S(0,255),S(0,255),S(0,255),w(T)])(["hsl","hsla"],"Colour",function(e,t,n,r,a){return(t=C(t)%360)<0&&(t+=360),l.create({h:t,s:n,l:r,a:a})},[Number,T,T,w(T)])(["lch","lcha"],"Colour",function(e,t,n,r,a){return(r=C(r)%360)<0&&(r+=360),l.create({l:t,c:n,h:r,a:a})},[T,S(0,132),Number,w(T)])("complement","Colour",function(e,t){return t.LCHRotate(180)},[l])("mix","Colour",function(e,t,n,r,a){n=n.toLCHA(),a=a.toLCHA();var o=1,i=(t+r!==1&&(t+r<1&&(o=t+r),t=(i=[t/(t+r),r/(t+r)])[0],r=i[1]),n.c<2||n.l<.01||.99<n.l?n.h=a.h:(a.c<2||a.l<.01||.99<a.l)&&(a.h=n.h),n.l*=n.a,n.c*=n.a,a.l*=a.a,a.c*=a.a,180<a.h-n.h?n.h+=360:a.h-n.h<-180&&(a.h+=360),n.a*t+a.a*r),s=(n.l*t+a.l*r)/i,c=(n.c*t+a.c*r)/i,n=(n.h*t+a.h*r)/i;return l.create({l:s,c:c,h:n,a:i*o})},[T,l,T,l])("palette","Array",function(e,t,n){var r,a=n.toLCHA(),o=a.l,a={l:o<=.75?.75+o/3:.75-3*(1-o),c:80,h:a.h,a:1},i=l.create(a);return a.l+=o<=.75?-.1:.1,a.l<.5&&(a.l*=.5/a.l),r=l.create(a),a.l+=o<=.85?.15:-.15,o=l.create(a),"adjacent"===t?(r=(i=i.LCHRotate(-30)).LCHRotate(30),o=i.LCHRotate(60)):"triad"===t&&(o=i.LCHRotate(180),r=i.LCHRotate(140),i=i.LCHRotate(-140)),[n,i,r,o]},[k("mono","adjacent","triad"),l])("gradient","Gradient",function(e,t){(t=C(t)%360)<0&&(t+=360);for(var n,r,a,o=arguments.length,i=new Array(2<o?o-2:0),s=2;s<o;s++)i[s-2]=arguments[s];return i.length<4?f.create("datatype","(gradient:) must be given at least 2 colour-stop pairs of numbers and colours."):(r=[],a=i.reduce(function(e,t){if(!f.containsError(e))if(void 0===n)n=t;else{if("number"!=typeof n||!l.isPrototypeOf(t))return f.create("datatype","(gradient:) colour-stops should be pairs of numbers and colours, not colours and numbers.");r.push({stop:n,colour:g(t)}),n=void 0}return e},!0),f.containsError(a)?a:void 0!==n?f.create("macrocall","This gradient has a colour-stop percent without a colour."):c.create(t,r))},[Number,n(v(T,l))])("stripes","Gradient",function(e,t,n){(t=C(t)%360)<0&&(t+=360);for(var r=0,a=[],o=arguments.length,i=new Array(3<o?o-3:0),s=3;s<o;s++)i[s-3]=arguments[s];return i.forEach(function(e){a.push({stop:r,colour:g(e)}),r+=n,a.push({stop:r,colour:g(e)})}),c.create(t,a,!0)},[Number,x,l,n(l)])("hooks-named","HookName",function(e,t){return t?o.create({type:"name",data:t}):f.create("datatype","(hooks-named:) can't be given an empty string.")},[String])("cond","Any",function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var a=0;a<n.length;a+=2){var o=n[a];if(a===n.length-1||f.containsError(o))return o;if("boolean"!=typeof o)return f.create("datatype","(cond:)'s "+u(a+1)+" value is "+m(o)+", but should be a boolean.");if(o)return n[a+1]}return f.create("macrocall","An odd number of values must be given to (cond:), not "+n.length,"(cond:) must be given one or more pairs of booleans and values, as well as one final value.")},[Boolean,e,n(e)]);({weekday:[function(){return["Sun","Mon","Tues","Wednes","Thurs","Fri","Satur"][(new Date).getDay()]+"day"},null],monthday:[function(){return(new Date).getDate()},null],currenttime:[function(){var e=new Date,t=e.getHours()<12;return(e.getHours()%12||12)+":"+((e.getMinutes()<10?"0":"")+e.getMinutes())+" "+(t?"A":"P")+"M"},null],currentdate:[function(){return(new Date).toDateString()},null],min:[A,n(Number)],max:[O,n(Number)],abs:[Math.abs,Number],sign:[Math.sign,Number],sin:[Math.sin,Number],cos:[Math.cos,Number],tan:[Math.tan,Number],floor:[E,Number],round:[C,Number],trunc:[function(e){return(0<e?E:N)(e)},Number],ceil:[N,Number],pow:[j(Math.pow),[Number,Number]],exp:[Math.exp,Number],sqrt:[j(Math.sqrt),Number],log:[j(Math.log),Number],log10:[j(Math.log10),Number],log2:[j(Math.log2),Number],random:[function(e,t){var n,t=t?(n=A(e,t),O(e,t)):(n=0,e);return t+=1,~~(r.random()*(t-n))+n},[parseInt,t.TypeSignature.optional(parseInt)]],"":function(){for(var e in this)e&&hasOwnProperty.call(this,e)&&t.add(e,"Number",function(a){return function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return a.apply(void 0,n)}}(this[e][0]),this[e][1])}})[""](),t.add("either","Any",function(e){var t=1+~~(r.random()*(arguments.length<=1?0:arguments.length-1));return t<1||arguments.length<=t?void 0:arguments[t]},n(e))("nth","Any",function(e,t){return t<=0?f.create("datatype","(nth:)'s first value should be a positive whole number, not "+t):(t=(t-1)%(arguments.length<=2?0:arguments.length-2)+2)<2||arguments.length<=t?void 0:arguments[t]},[parseInt,n(e)])}),!function(){var a,k={};function o(e){for(var t in e)this[t]=e[t]}function i(e,t){for(var n,r,a=e.innerText,o=null,i=0,s=i,c=a.length,l=null;i<c;){for(var u=a.slice(i),p=(o&&o.length?o[0]:e).innerMode,d=0,f=p.length;d<f;d+=1){var h=k[p[d]];if(!(h.constraint&&!h.constraint(l)||h.cannotFollowText&&("text"===(null==(w=l)?void 0:w.type)||s<i))&&(h.plainCompare?u.startsWith(h.pattern):h.pattern.test(u))){var m=h.fn(h.plainCompare?h.pattern:h.pattern.exec(u)),g=!1,y=0;if(m.matches){for(;o&&y<o.length;y+=1){var b=o[y],v=b.type,b=b.aka;if(v in m.matches){g=!0;break}b&&(v=b),-1<(null==(b=m.cannotCross)?void 0:b.indexOf(v))&&(y=o.length-1)}if((!o||y>=o.length)&&!m.isFront)continue}s<i&&e.addChild({type:"text",text:a.slice(s,i),innerMode:p});var s=i+=(l=e.addChild(m)).text.length,w=!1;g&&(t&&S(e,l,o[y]),o=o.slice(y+1),w=!0),!w&&l.isFront&&(o?o.unshift(l):o=[l]);break}}d===f&&(i+=1,null===l)&&(l={type:"text"})}for(s<i&&e.addChild({type:"text",text:a.slice(s,i),innerMode:(null!=(n=o)&&n.length?o[0]:e).innerMode});0<(null==(r=o)?void 0:r.length);)o.shift().demote();return e}function S(e,t,n){var r=e.children.indexOf(t),a=e.children.indexOf(n);t.children=e.children.splice(a+1,r-(a+1)),t.type=t.matches[n.type],t.innerText="";for(var o,i=0,s=t.children.length;i<s;i++)t.innerText+=t.children[i].text;for(o in t.start=n.start,t.text=n.text+t.innerText+t.text,n)hasOwnProperty.call(n,o)&&!hasOwnProperty.call(t,o)&&(t[o]=n[o]);t.isFront&&(t.isFront=!1),e.children.splice(a,1)}o.prototype={constructor:o,addChild:function(e){var t=this.lastChildEnd(),n=new o(e);return n.start=t,n.end=e.text&&t+e.text.length,n.place=this.place,n.children=[],n.innerText&&i(n),this.children.push(n),n},lastChildEnd:function(){var e=this.children&&this.children[this.children.length-1]||null;return e?e.end:this.start+Math.max(0,this.text.indexOf(this.innerText))},tokenAt:function(e){if(e<this.start||e>=this.end)return null;if(this.children.length)for(var t=0;t<this.children.length;t+=1)if(e>=this.children[t].start&&e<this.children[t].end){var n=this.children[t].tokenAt(e);if(n)return n}return this},pathAt:function(e){if(e<this.start||e>=this.end)return[];var t=[];if(this.children.length)for(var n=0;n<this.children.length;n+=1)if(e>=this.children[n].start&&e<this.children[n].end){var r=this.children[n].pathAt(e);if(r.length){t=t.concat(r);break}}return t.concat(this)},nearestTokenAt:function(n){return n<this.start||n>=this.end?null:this.children?this.children.reduce(function(e,t){return e||(n>=t.start&&n<t.end?t:null)},null):this},everyLeaf:function(n){return this.children&&0!==this.children.length?this.children.reduce(function(e,t){return e&&t.everyLeaf(n)},!0):!!n(this)},demote:function(){this.type="text"},error:function(e){this.type="error",this.message=e},toString:function(){var e=this.type+"("+this.start+"\u2192"+this.end+")";return this.children&&0<this.children.length&&(e+="["+this.children+"]"),e},copy:function(){var e=new o(this);return e.children=e.children.slice(),e},foldChildren:function(){for(var e=[],t=this.children.slice(),n=0;n<t.length;n+=1){var r=t[n],a=!1;if(r.matches)for(var o=0;o<e.length;o+=1)e[o].type in r.matches&&(S(this,r,e[o]),e=e.slice(o+1),a=!0);!a&&r.isFront&&e.unshift(r)}}},a={lex:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"start",r=3<arguments.length&&void 0!==arguments[3]&&arguments[3];return i(new o({type:"root",place:t,start:0,end:e.length,text:e,innerText:e,children:[],innerMode:a.modes[n]}),!r)},rules:k,modes:{}},"object"===("undefined"==typeof module?"undefined":_typeof(module))?module.exports=a:"function"==typeof define&&define.amd?define("lexer",[],function(){return a}):this&&null!=this&&this.loaded?(this.modules||(this.modules={}),this.modules.Lexer=a):this.Lexer=a}.call(eval("this")||("undefined"!=typeof global?global:window)),!function(){Object.assign=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var m,g=Object.keys,y=Object.assign;function t(e){function t(n){return n=n||"innerText",function(e){var e=e.reduceRight(function(e,t,n){return e||(n?t:"")},""),t={};return t[n]=e,t}}function n(e,t){var n={};return n[e]=t,function(){return{isFront:!0,matches:n,cannotCross:["verbatimOpener"]}}}var r=Object.bind(0,null);function a(a,e){return Object.keys(e).forEach(function(n){var r=e[n].fn;e[n].fn=function(e){var t=r(e);return t.text||(t.text="string"==typeof e?e:e[0]),t.type||(t.type=n),t.innerMode||(t.innerMode=a),t}}),e}function o(e){switch(e&&e.type){case null:case"br":case"hr":case"bulleted":case"numbered":case"heading":case"align":case"column":case"escapedLine":return!0}return!1}var i=[],s=[],c=[],l=a(i,{hr:{fn:r},bulleted:{fn:function(e){return{depth:e[1].length}}},numbered:{fn:function(e){return{depth:e[1].length/2}}},heading:{fn:function(e){return{depth:e[1].length}}},align:{fn:function(e){var t,e=e[1],n=e.indexOf("><");return~n?25===(t=Math.round(n/(e.length-2)*50))&&(t="center"):"<"===e[0]&&">"===e.slice(-1)?t="justify":-1<e.indexOf(">")?t="right":-1<e.indexOf("<")&&(t="left"),{align:t}}},column:{fn:function(e){var t,e=e[1],n=e.indexOf("|");return n&&n<e.length-1?t="center":"|"===e[0]&&"|"===e.slice(-1)?t="none":n===e.length-1?t="right":n||(t="left"),{column:t,width:/\|+/.exec(e)[0].length,marginLeft:/^=*/.exec(e)[0].length,marginRight:/=*$/.exec(e)[0].length}}}}),u=(g(l).forEach(function(e){l[e].constraint=o,l[e].cannotFollowText=!0}),a(i,{twine1Macro:{fn:function(){return{type:"error",message:"Harlowe macros use a different syntax to Twine 1, SugarCube, and Yarn macros."}}},emBack:{fn:function(){return{matches:{emFront:"em"},cannotCross:["verbatimOpener"]}}},strongBack:{fn:function(){return{matches:{strongFront:"strong"},cannotCross:["verbatimOpener"]}}},strongFront:{fn:function(){return{isFront:!0}}},emFront:{fn:function(){return{isFront:!0}}},boldOpener:{fn:n("boldOpener","bold")},italicOpener:{fn:n("italicOpener","italic")},strikeOpener:{fn:n("strikeOpener","strike")},supOpener:{fn:n("supOpener","sup")},commentFront:{fn:function(){return{isFront:!0}}},commentBack:{fn:function(){return{matches:{commentFront:"comment"}}}},scriptStyleTag:{fn:r},tag:{fn:r},url:{fn:r},hookPrependedFront:{fn:function(e){return{name:e[1],hidden:")"===e[2],isFront:!0,tagPosition:"prepended"}}},hookFront:{fn:function(){return{isFront:!0}}},hookBack:{fn:function(){return{matches:{hookPrependedFront:"hook",hookFront:"hook"},cannotCross:["verbatimOpener"]}}},hookAppendedBack:{fn:function(e){return{name:e[2],hidden:"("===e[1],tagPosition:"appended",matches:{hookFront:"hook"},cannotCross:["verbatimOpener"]}}},unclosedHook:{fn:r},unclosedHookPrepended:{fn:function(e){return{type:"unclosedHook",name:e[1],hidden:")"===e[2]}}},verbatimOpener:{fn:function(e){var e=e[0].length,t={};return{type:(t["verbatim"+e]="verbatim")+e,isFront:!0,matches:t,aka:"verbatimOpener"}}},unclosedCollapsed:{fn:r},collapsedFront:{fn:function(){return{isFront:!0}}},collapsedBack:{fn:function(){return{matches:{collapsedFront:"collapsed"},cannotCross:["verbatimOpener"]}}},escapedLine:{fn:r},legacyLink:{fn:function(e){return{type:"twineLink",innerText:e[1],passage:e[2],innerMode:i}}},br:{fn:r}})),p=y(a(s,{macroFront:{fn:function(e){return{isFront:!0,name:e[1]}}},groupingBack:{fn:function(){return{matches:{groupingFront:"grouping",macroFront:"macro"},cannotCross:["singleStringOpener","doubleStringOpener","hookFront"]}}},passageLink:{fn:function(e){var t=e[1]||"",n=e[2]||"",e=e[3]||"";return{type:"twineLink",innerText:n?e:t,passage:t?e:n,innerMode:i}}},simpleLink:{fn:function(e){return{type:"twineLink",innerText:e[1]||"",passage:e[1]||"",innerMode:i}}},variable:{constraint:function(e){return!e||"macroFront"!==e.type},fn:t("name")},tempVariable:{constraint:function(e){return!e||"macroFront"!==e.type},fn:t("name")}}),{hookFront:u.hookFront,hookBack:u.hookBack}),d=a(s,_objectSpread(_objectSpread({commentBack:{fn:function(){return{matches:{commentFront:"comment"}}}},macroName:{constraint:function(e){return e&&"macroFront"===e.type},fn:t("name")},groupingFront:{fn:function(){return{isFront:!0}}},property:{fn:t("name"),constraint:function(e){if(e)switch(e.type){case"variable":case"hookName":case"property":case"tempVariable":case"colour":case"itsProperty":case"belongingItProperty":case"macro":case"grouping":case"string":case"datatype":case"hook":case"boolean":case"number":return!0}}},possessiveOperator:{fn:r},itsProperty:{cannotFollowText:!0,fn:t("name")},itsOperator:{cannotFollowText:!0,fn:r},belongingItProperty:{cannotFollowText:!0,fn:t("name")},belongingItOperator:{cannotFollowText:!0,fn:r},belongingProperty:{cannotFollowText:!0,fn:t("name")},belongingOperator:{cannotFollowText:!0,fn:r},escapedStringChar:{fn:function(){return{type:"text"}}},singleStringOpener:{fn:function(){return{isFront:!0,matches:{singleStringOpener:"string"},innerMode:c}}},doubleStringOpener:{fn:function(){return{isFront:!0,matches:{doubleStringOpener:"string"},innerMode:c}}},hookName:{fn:t("name")},cssTime:{fn:function(e){return{value:+e[1]*("s"===e[2].toLowerCase()?1e3:1)}}},datatype:{cannotFollowText:!0,fn:function(e){return{name:e[0].toLowerCase()}}},colour:{cannotFollowText:!0,fn:function(e){var e=e[0].toLowerCase(),t={red:"e61919",orange:"e68019",yellow:"e5e619",lime:"80e619",green:"19e619",cyan:"19e5e6",aqua:"19e5e6",blue:"197fe6",navy:"1919e6",purple:"7f19e6",fuchsia:"e619e5",magenta:"e619e5",white:"fff",black:"000",gray:"888",grey:"888"},t=hasOwnProperty.call(t,e)?"#"+t[e]:e;return{colour:t}}},number:{fn:function(e){return{value:parseFloat(e[0])}}},inequality:{fn:function(e){return{operator:e[2],negate:-1<e[1].indexOf("not")}}},augmentedAssign:{fn:function(e){return{operator:e[0][0]}}},identifier:{fn:t("name"),cannotFollowText:!0},whitespace:{fn:r,cannotFollowText:!0},incorrectOperator:{fn:function(e){var t={"=>":">=","=<":"<=",gte:">=",lte:"<=",gt:">",lt:"<",eq:"is",isnot:"is not",neq:"is not",isa:"is a",are:"is",x:"*","or a":"or"}[e[0].toLowerCase().replace(/\s+/g," ")];return{type:"error",message:"Please say "+(t?"'"+t+"'":"something else")+" instead of '"+e[0]+"'.",explanation:"In the interests of readability, I want certain operators to be in a specific form."}},cannotFollowText:!0}},["boolean","is","to","into","where","when","via","making","each","and","or","not","isNot","contains","doesNotContain","isIn","isA","isNotA","isNotIn","matches","doesNotMatch","bind"].reduce(function(e,t){return e[t]={fn:r,cannotFollowText:!0},e},{})),["comma","spread","typeSignature","addition","subtraction","multiplication","division"].reduce(function(e,t){return e[t]={fn:r},e},{}))),f=a(c,{singleStringCloser:d.singleStringOpener,doubleStringCloser:d.doubleStringOpener,escapedStringChar:d.escapedStringChar}),h=(i.push.apply(i,_toConsumableArray(g(l)).concat(_toConsumableArray(g(p)),_toConsumableArray(g(u)))),s.push.apply(s,_toConsumableArray(g(p)).concat(_toConsumableArray(g(d)))),c.push.apply(c,_toConsumableArray(g(f))),_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({},l),u),p),d),f)),u=(g(h).forEach(function(e){m.PlainCompare[e]?(h[e].pattern=m.PlainCompare[e],h[e].plainCompare=!0):h[e].pattern=RegExp("^(?:"+m[e]+")","i")}),y(e.rules,h),e.modes);return u.start=u.markup=i,u.macro=s,u.string=c,e}function n(e){return Object.freeze({lex:t(e).lex,Patterns:m})}"object"===("undefined"==typeof module?"undefined":_typeof(module))?(m=require("./patterns"),module.exports=n(require("./lexer"))):"function"==typeof define&&define.amd?define("markup",["lexer","patterns"],function(e,t){return m=t,n(e)}):this&&this.loaded&&this.modules?(m=this.modules.Patterns,this.modules.Markup=n(this.modules.Lexer)):(m=this.Patterns,this.Markup=n(this.Lexer))}.call(eval("this")||("undefined"!=typeof global?global:window)),!function(){var e;function n(t){return t&&"object"===_typeof(t)?(Object.keys(t).forEach(function(e){t[e]=n(t[e])}),t):(t+"").replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}function t(e){return function(){return"("+e+Array.apply(0,arguments).join("|")+")"}}var r=t("?:"),a=t("?!"),o=t("?="),i="[ \\f\\t\\v\\u00a0\\u2000-\\u200a\\u2028\\u2029\\u202f\\u205f\\u3000]*",s=i.replace("*","+"),c="\\b",l="[\\w\\-\\u00c0-\\u00de\\u00df-\\u00ff\\u0150\\u0170\\u0151\\u0171\\uD800-\\uDFFF]",u=l.replace("\\-",""),p=r("\\n","$"),d=i+"(\\*+)"+s,f=i+"((?:0\\.)+)"+s,h=i+"-{3,}"+i+p,m=i+"(==+>|<=+|=+><=+|<==+>)"+i+p,p=i+"(=+\\|+|\\|+=+|=+\\|+=+|\\|=+\\|)"+i+p,g={opener:"\\[\\[(?!\\[)",text:"("+function(){return"[^"+Array.apply(0,arguments).map(n).join("")+"]*"}("]")+")",rightSeparator:r("\\->","\\|"),leftSeparator:"<\\-",closer:"\\]\\]",legacySeparator:"\\|",legacyText:"("+r("[^\\|\\]]","\\]"+a("\\]"))+"+)"},y=u+"*"+u.replace("\\w","a-zA-Z")+u+"*",b="\\$("+y+")",v="_("+y+")",w="'s"+s+a("_")+"("+y+")",k="("+y+")"+s+"of"+c+a("it\\b"),S="'s"+s,T=r("it","time","turns?","visits?","exits?","pos")+c,_="its"+s+"("+y+")",x="("+y+")"+s+"of"+s+"it"+c,O="of"+s+"it"+c,A={opener:"\\(",name:"("+r("\\$","_")+"?"+l+"+):"+a("\\/"),closer:"\\)"},C=r("=<","=>","[gl]te?\\b","n?eq\\b","isnot\\b","are\\b","x\\b","isa\\b","or"+s+"a"+c),E="[a-zA-Z][\\w\\-]*",N="(?:\"[^\"]*\"|'[^']*'|[^'\">])*?",j="\\|("+l+"+)(>|\\))",P="(<|\\()("+l+"+)\\|",R="((?:\\b\\d+(?:\\.\\d+)?|\\.\\d+)(?:[eE][+\\-]?\\d+)?)"+a("m?s")+c;g.main=g.opener+r(g.text+g.rightSeparator,g.text.replace("*","*?")+g.leftSeparator)+g.text,e={upperLetter:"[A-Z\\u00c0-\\u00de\\u0150\\u0170]",lowerLetter:"[a-z0-9_\\-\\u00df-\\u00ff\\u0151\\u0171]",anyLetter:l,anyLetterStrict:u,whitespace:s.replace("[","[\\n\\r"),escapedLine:"\\\\\\n\\\\?|\\n\\\\",br:"\\n(?!\\\\)",tag:"<\\/?"+E+N+">",scriptStyleTag:"<("+r("script","style","textarea")+")"+N+">[^]*?<\\/\\1>",scriptStyleTagOpener:"<",url:"("+r("https?","mailto","javascript","ftp","data")+":\\/\\/[^\\s<]+[^<.,:;\"')\\]\\s])",bullet:"\\*",hr:h,heading:"[ \\f\\t\\v\\u00a0\\u2000-\\u200a\\u2028\\u2029\\u202f\\u205f\\u3000]*(#{1,6})[ \\f\\t\\v\\u00a0\\u2000-\\u200a\\u2028\\u2029\\u202f\\u205f\\u3000]*",align:m,column:p,bulleted:d,numbered:f,verbatimOpener:"`+",hookAppendedFront:"\\["+a("=+"),hookPrependedFront:j+"\\["+a("=+"),hookFront:"\\["+a("=+"),hookBack:"\\]"+a(P),hookAppendedBack:"\\]"+P,unclosedHook:"\\[=+",unclosedHookPrepended:j+"\\[=+",unclosedCollapsed:"\\{=+",passageLink:g.main+g.closer,legacyLink:g.opener+g.legacyText+g.legacySeparator+g.legacyText+g.closer,simpleLink:g.opener+g.legacyText+g.closer,macroFront:A.opener+o(A.name),macroName:A.name,groupingFront:"\\("+a(A.name),twine1Macro:"<<[^>\\s]+\\s*(?:\\\\.|'(?:[^'\\\\]*\\\\.)*[^'\\\\]*'|\"(?:[^\"\\\\]*\\\\.)*[^\"\\\\]*\"|[^'\"\\\\>]|>(?!>))*>>",validPropertyName:y,property:w,belongingProperty:k,possessiveOperator:S,belongingOperator:"of\\b",itsOperator:"its\\b",belongingItOperator:O,variable:b,tempVariable:v,hookName:"\\?("+l+"+)\\b",cssTime:"(\\d+\\.?\\d*|\\d*\\.?\\d+)(m?s)\\b",colour:r(r("Red","Orange","Yellow","Lime","Green","Cyan","Aqua","Blue","Navy","Purple","Fuchsia","Magenta","White","Gray","Grey","Black","Transparent"),"#[\\dA-Fa-f]{3}(?:[\\dA-Fa-f]{3})?"),datatype:r("alnum","alphanumeric","any(?:case)?","array","bool(?:ean)?","changer","codehook","colou?r","const","command","dm","data"+r("map","type","set"),"ds","digit","gradient","empty","even","int"+a("o")+"(?:eger)?","lambda","lowercase","macro","linebreak","newline","num(?:ber)?","odd","str(?:ing)?","uppercase","whitespace")+c,number:R,boolean:r("true","false")+c,identifier:T,itsProperty:_,belongingItProperty:x,escapedStringChar:"\\\\[^\\n]",singleStringOpener:"'",doubleStringOpener:'"',singleStringCloser:"'",doubleStringCloser:'"',is:"is"+a(s+"not"+c,s+"an?"+c,s+"in"+c,s+"<",s+">")+c,isNot:"is"+s+"not"+a(s+r("an?","in")+c)+c,isA:"is"+s+"an?"+c,isNotA:"is"+s+"not"+s+"an?"+c,matches:"matches\\b",doesNotMatch:"does"+s+"not"+s+"match"+c,and:"and\\b",or:"or\\b",not:"not\\b",inequality:"((?:is(?:"+s+"not)?"+i+")*)("+r("<(?!=)","<=",">(?!=)",">=")+")",isIn:"is"+s+"in"+c,contains:"contains\\b",doesNotContain:"does"+s+"not"+s+"contain"+c,isNotIn:"is"+s+"not"+s+"in"+c,addition:n("+")+a("="),subtraction:n("-")+a("=","type"),multiplication:n("*")+a("="),division:r("/","%")+a("="),spread:"\\.\\.\\."+a("\\."),to:r("to\\b","="),into:"into\\b",making:"making\\b",where:"where\\b",when:"when\\b",via:"via\\b",each:"each\\b",augmentedAssign:r("\\+","\\-","\\*","\\/","%")+"=",bind:"2?bind\\b",typeSignature:n("-type")+c,incorrectOperator:C,PlainCompare:{comma:",",commentFront:"\x3c!--",commentBack:"--\x3e",strikeOpener:"~~",italicOpener:"//",boldOpener:"''",supOpener:"^^",strongFront:"**",strongBack:"**",emFront:"*",emBack:"*",collapsedFront:"{",collapsedBack:"}",groupingBack:")"}},"object"===("undefined"==typeof module?"undefined":_typeof(module))?module.exports=e:"function"==typeof define&&define.amd?define("patterns",[],function(){return e}):this&&this.loaded?(this.modules||(this.modules={}),this.modules.Patterns=e):this.Patterns=e}.call(eval("this")||("undefined"!=typeof global?global:window)),define("twinescript/operations",["utils","utils/operationutils","datatypes/typedvar","datatypes/datatype","internaltypes/twineerror"],function(e,t,n,r,m){var a=e.plural,o=t.isObject,i=t.collectionType,s=t.is,c=t.isA,l=t.clone,u=t.unique,p=t.contains,e=t.matches,g=t.objectName,d=t.toSource;function f(r,a,o,i){return o=o||"do this to",function(e,t){var n;return 1===a.length&&(t=e),(n=m.containsError(e,t))||(_typeof(e)!==r||_typeof(t)!==r?m.create("operation","I can only ".concat(o," ").concat(r,"s, not ").concat(g(_typeof(e)!==r?e:t),"."),i):a(e,t))}}function h(a){return function(e,t){var n,r;return(n=m.containsError(e,t))||(_typeof(e)!==_typeof(t)||o(e)&&"TwineScript_TypeName"in e&&o(t)&&"TwineScript_TypeName"in t&&e.TwineScript_TypeName!==t.TwineScript_TypeName||i(e)!==i(t)?(n="".concat(g(e)," isn't the same type of data as ").concat(g(t)),_typeof(e)+_typeof(t)!=="stringnumber"&&_typeof(e)+_typeof(t)!=="numberstring"||(r="You might want to convert one side to a number using (num:), or to a string using (str:)."),m.create("operation",n[0].toUpperCase()+n.slice(1),r)):a(e,t))}}function y(d,f,e){var h=2<arguments.length&&void 0!==e&&e;return function r(a,o){var e;if(e=m.containsError(a,o))return e;var t=_slicedToArray(a.determiner?[a,o]:o.determiner?[o,a]:[],2),i=t[0],t=t[1];if(i){var n=i,s=n.determiner,n=n.determined;if("start"===s||"end"===s){if(f)return m.create("operation","I can't use '".concat(f,"' with the 'start' or 'end' of ").concat(g(n),"."));if(t.determiner){if("start"===t.determiner||"end"===t.determiner)return m.create("operation","I can't compare one value's 'start' or 'end' with another value's 'start' or 'end'.","Please change one of them to use an exact range, such as '1stto4th' or '2ndlasttolast'.");n=[t,i],i=n[0]}for(var c=i.string||i.array,l=0;l<c.length+1;l+=1){var u=l?"end"===s?c.slice(-l):c.slice(0,l):c.constructor(),u=i===a?r(u,o):r(a,u);if(e=m.containsError(u))return e;if(u!==h)return u}return h}var p="all"===s;return i.array.reduce(function(e,t){var n,t=i===a?r(t,o):r(a,t);return(n=m.containsError(e,t))||(p?e&&t:e||t)},p)}return d(a,o)}}function b(n,e){return y(function(e,t){e=n(e,t);return m.containsError(e)?e:!e},e,!0)}t="If one of these values is a number, you may want to write a check that it 'is not 0'. Also, if one is a string, you may want to write a check that it 'is not \"\" '.",t={and:f("boolean",h(function(e,t){return e&&t}),"use 'and' to join",t),or:f("boolean",h(function(e,t){return e||t}),"use 'or' to join",t),not:f("boolean",function(e){return!e},"use 'not' to invert",t),"+":h(function(e,t){var n;return Array.isArray(e)?[].concat(_toConsumableArray(e),_toConsumableArray(t)):e instanceof Map?(n=new Map(e),t.forEach(function(e,t){return n.set(t,e)}),n):e instanceof Set?new Set([].concat(_toConsumableArray(e),_toConsumableArray(t)).filter(u).map(l)):"function"==typeof e["TwineScript_+"]?e["TwineScript_+"](t):"string|number|boolean".includes(_typeof(e))?e+t:m.create("operation","I can't use + on ".concat(g(e),"."))}),"-":h(function(e,n){var r;return Array.isArray(e)?e.filter(function(t){return!n.some(function(e){return s(t,e)})}):e instanceof Set?(r=_toConsumableArray(n),new Set(_toConsumableArray(e).filter(function(t){return!r.some(function(e){return s(t,e)})}))):"string"==typeof e?e.split(n).join(""):"number"==typeof e?e-n:m.create("operation","I can't use - on ".concat(g(e),"."))}),"*":f("number",h(function(e,t){return e*t}),"multiply"),"/":f("number",h(function(e,t){return 0===t?m.create("operation","I can't divide ".concat(g(e)," by zero.")):e/t}),"divide"),"%":f("number",h(function(e,t){return 0===t?m.create("operation","I can't modulo ".concat(g(e)," by zero.")):e%t}),"modulus"),"<":y(f("number",h(function(e,t){return e<t}),"do < to"),"<"),">":y(f("number",h(function(e,t){return t<e}),"do > to"),">"),"<=":y(f("number",h(function(e,t){return e<=t}),"do <= to"),"<="),">=":y(f("number",h(function(e,t){return t<=e}),"do >= to"),">="),is:y(s),isNot:b(s),contains:y(p,"contains"),doesNotContain:b(p,"does not contain"),isIn:y(function(e,t){return p(t,e)},"is in"),isNotIn:b(function(e,t){return p(t,e)},"is not in"),isA:y(c,"is a"),isNotA:b(c,"is not a"),typifies:y(function(e,t){return c(t,e)}),untypifies:b(function(e,t){return c(t,e)}),matches:y(e),doesNotMatch:b(e),makeSpreader:function(e){var t;return m.containsError(e)?e:n.isPrototypeOf(e)||r.isPrototypeOf(e)?(t=l(e),(n.isPrototypeOf(e)?t.datatype:t).rest=!0,t):{value:e,spreader:!0,TwineScript_TypeName:"a spreaded '...' value",TwineScript_ObjectName:a("string"==typeof e||Array.isArray(e)?_toConsumableArray(e).length:1,"spreaded '...' value"),TwineScript_Unstorable:!0,TwineScript_ToSource:function(){return""+_toConsumableArray(e).map(d)}}}};return Object.freeze(t)}),define("twinescript/runner",["macros","state","utils","utils/operationutils","twinescript/operations","datatypes/colour","datatypes/hookset","datatypes/lambda","datatypes/datatype","datatypes/varbind","datatypes/codehook","datatypes/typedvar","datatypes/assignmentrequest","internaltypes/varref","internaltypes/twineerror"],function(Macros,State,Utils,_ref127,Operations,Colour,HookSet,Lambda,Datatype,VarBind,CodeHook,TypedVar,AssignmentRequest,VarRef,TwineError){var toSource=_ref127.toSource,typeName=_ref127.typeName,objectName=_ref127.objectName,insensitiveName=Utils.insensitiveName,impossible=Utils.impossible,hash=Utils.hash;function addFreeVariable(e,t){var n,r=e.freeVariables;"macro"===t.type?"current-time"===(n=insensitiveName(t.name))||"current-date"===n||"monthday"===n||"weekday"===n||"history"===n||"visited"===n||"passage"===n?e.freeVariables=!0:t.blockedValue&&!r.blockedValues?r.blockedValues=e.stackTop.blockedValues.concat():"random"!==n&&"either"!==n&&"shuffled"!==n||r.seed||(r.seed=State.seed,r.seedIter=State.seedIter):"identifier"===t.type?"time"!==(n=insensitiveName(t.text))&&"exits"!==n&&"it"!==n&&"visits"!==n&&"turns"!==n||(e.freeVariables=!0):"property"===t.type||"belongingProperty"===t.type?"random"!==insensitiveName(t.name)||r.seed||(r.seed=State.seed,r.seedIter=State.seedIter):"variable"!==t.type&&"tempVariable"!==t.type||(e.freeVariables=!0)}var precedenceTable=[["error","text"],["comma"],["to","into"],["where","when","via","making","each"],["typeSignature"],["augmentedAssign"],["and","or"],["is","isNot"],["contains","doesNotContain","isIn","isNotIn"],["isA","isNotA","matches","doesNotMatch"],["inequality"],["addition","subtraction"],["multiplication","division"],{rightAssociative:["spread","bind"]},{rightAssociative:["not","positive","negative"]},{rightAssociative:["belongingProperty","belongingItProperty","belongingOperator","belongingItOperator"]},["property","itsProperty","possessiveOperator","itsOperator"],["twineLink","macro","identifier","variable","tempVariable","hookName","number","cssTime","boolean","string","hook","colour","datatype","root"],["grouping"]];function precedentToken(e,t){var n,r,a,o=[];if(e.length)for("most"===t?(n=precedenceTable.length-1,r=a=-1):(n=0,r=precedenceTable.length,a=1);n!==r;n+=a){var i=precedenceTable[n],s=NaN;if(i.rightAssociative){for(var c=0;c<e.length;c+=1)if(i.rightAssociative.includes(e[c].type)){s=c;break}}else for(var l=e.length-1;0<=l;--l)if(i.includes(e[l].type)){s=l;break}if(!Number.isNaN(s)&&-1<s){o=[e[s],s];break}}return o}var comparisonOpTypes=["inequality","is","isNot","isIn","contains","doesNotContain","isNotIn","isA","typifies","isNotA","untypifies","matches","doesNotMatch"],inequalityNegator={">":"<=","<":">=",">=":"<","<=":">"};function compileComparisonOperator(e){return"inequality"===e.type?e.negate?inequalityNegator[e.operator]:e.operator:e.type}var comparisonReverser={">":"<","<":">",">=":"<=","<=":">=",contains:"isIn",doesNotContain:"isNotIn",isIn:"contains",isA:"typifies",typifies:"isA",isNotA:"untypifies",untypifies:"isNotA"};function reverseComparisonOperator(e){e=compileComparisonOperator(e);return comparisonReverser[e]||e}var tokenSides={error:"neither",identifier:"neither",variable:"neither",tempVariable:"neither",hookName:"neither",number:"neither",boolean:"neither",string:"neither",hook:"neither",colour:"neither",datatype:"neither",root:"neither",twineLink:"neither",macro:"neither",grouping:"neither",itsProperty:"neither",belongingItProperty:"neither",to:"both",into:"both",typeSignature:"both",augmentedAssign:"both",and:"both",or:"both",belongingOperator:"both",possessiveOperator:"both",multiplication:"both",division:"both",spread:"after",bind:"after",not:"after",belongingProperty:"after",each:"after",itsOperator:"after",positive:"after",negative:"after",belongingItOperator:"before",property:"before"};function missingSideError(e,t,n){return TwineError.create("syntax","I need usable code to be ".concat(e?"left ":"").concat(e&&t?"and ":"").concat(t?"right ":"","of ").concat(n.text,"."))}function wrongSideError(e,t,n){return TwineError.create("syntax","There can't be a ".concat(e&&t?e.map(function(e){return e.text}).join("")+" or "+t.map(function(e){return e.text}).join(""):(e||t).map(function(e){return e.text}).join("")," to the ").concat(e?"left ":"").concat(e&&t?"or ":"").concat(t?"right ":"","of ").concat(n.text,"."),"There could be a comma missing between them.")}function makeEvalReplayFrame(e,t){var n=t.val,r=t.fromCode,a=t.toCode,o=t.toDesc,i=t.reason,s=t.it,c=t.tokens,t=t.i;if(!(200<=e.length)){var l=c[t],u=c.slice(0,t),t=c.slice(t+1);if(1===c.length&&(u=t=!1,l=c[0]),!e[e.length-1].error){var p,d,c=TwineError.containsError(n),f=e[e.length-1].code,h=e[0].basis,m=(null!=(p=u)&&p.length&&null!=(p=t)&&p.length&&u[0].start>t[0].start&&(u=(p=[t,u])[0],t=p[1]),p=a||"".concat(null!=(p=u)&&p.length&&"whitespace"===u[u.length-1].type?" ":"").concat(c?" \ud83d\udc1e ":(n&&!n.TwineScript_ToSource&&n.TwineScript_Unstorable?objectName:toSource)(n)).concat(null==(p=t)||!p.length||"whitespace"!==t[0].type&&"addition"!==l.type&&"subtraction"!==l.type?"":" "),(u.length?u[0]:l).start-h),g=(t.length?t[t.length-1]:l).end-h,y=_createForOfIteratorHelper(e);try{for(y.s();!(d=y.n()).done;){var b=d.value;b.start<m?(m+=b.diff,g+=b.diff):b.start<g&&(g+=b.diff)}}catch(e){y.e(e)}finally{y.f()}!r&&(r=f.slice(m,g),a)&&a.trim()===r.trim()||(u=p.length-(g-m),e.push({code:f.slice(0,m)+p+f.slice(g),fromCode:r,toCode:!c&&a,toDesc:!c&&!a&&(o||objectName(n)),start:m,end:g,diff:u,reason:i,itIdentifier:void 0!==s&&objectName(s),error:c&&c.render(f.slice(m,g),!0)}))}}}function setIt(e,t){return(VarRef.isPrototypeOf(t)||TypedVar.isPrototypeOf(t))&&(e.Identifiers.it=t.get()),t}return function run(section,tokens){var isVarRef=2<arguments.length&&void 0!==arguments[2]&&arguments[2],isTypedVar=3<arguments.length&&void 0!==arguments[3]&&arguments[3],evalReplay=section.evalReplay,hasEvalReplay=null==evalReplay?void 0:evalReplay.length,evalReplayReason,evalReplaySkip=!1,evalReplayIt,ops=Operations,token,ret,i,before,after,_precedentToken,_precedentToken2,token,i,before,after;if(Array.isArray(tokens)||(tokens=[tokens]),!tokens.length||!tokens[0])return impossible("Runner.run","No tokens to run!"),0;1===tokens.length?token=tokens[0]:(_precedentToken=precedentToken(tokens,"least"),_precedentToken2=_slicedToArray(_precedentToken,2),token=_precedentToken2[0],i=_precedentToken2[1],before=tokens.slice(0,i),after=tokens.slice(i+1),before.length&&(1!==before.length||"whitespace"!==before[0].type)||(before=!1),after.length&&(1!==after.length||"whitespace"!==after[0].type)||(after=!1));var type=token.type;if(!type)return impossible("Runner.run","Token has no type!"),0;var sides=tokenSides[type]||"",VARREF=("both"!==sides||before&&after?"neither"===sides&&(before||after)?ret=wrongSideError(before,after,token):"before"===sides?before?after&&(ret=wrongSideError(null,after,token)):ret=missingSideError(!0,!1,token):"after"===sides&&(after?before&&(ret=wrongSideError(before,null,token)):ret=missingSideError(!1,!0,token)):ret=missingSideError(!before,!after,token),section.freeVariables&&"object"===_typeof(section.freeVariables)&&addFreeVariable(section,token),!0),TYPEDVAR=!0,_ret4,val,evalReplayReason,ret,source,_source4,_value4,msg;if(!ret){if("comma"===type)return impossible("Section.run","a comma token was run() somehow."),0;if("root"===type)ret=run(section,token.children);else if("identifier"===type)ret=isVarRef?VarRef.create(section.Identifiers,token.text.toLowerCase()):section.Identifiers[token.text.toLowerCase()];else if("variable"===type||"tempVariable"===type){ret=VarRef.create("tempVariable"===type?section.stackTop.tempVariables:State.variables,token.name),isTypedVar?(ret=TypedVar.create(Datatype.create("any"),ret),evalReplayReason=hasEvalReplay&&"Variables in 'to' or 'into' expressions with no -type to their left are considered to be 'any-type' variables that can store any storable value."):isVarRef||TwineError.containsError(ret)?evalReplaySkip=!0:(val=ret.get(),evalReplayReason=hasEvalReplay&&((null==(_ret4=ret)?void 0:_ret4.object)!==State.variables||hasOwnProperty.call(ret.object,ret.compiledPropertyChain[0])?"":"This variable didn't exist; for story-wide $ variables, a default value of 0 is used if they don't exist."),ret=val)}else if("hookName"===type)ret=HookSet.create({type:"name",data:token.name}),evalReplaySkip=!0;else if("number"===type||"cssTime"===type)ret=token.value,evalReplayReason=hasEvalReplay&&"cssTime"===type&&(token.text.endsWith("ms")?"The letters 'ms' at the end of numbers are ignored, so you can use them to indicate that a number represents milliseconds.":"The letter 's' at the end of numbers represents 'seconds'. Harlowe converts them to milliseconds (multiplies them by 1000)."),evalReplaySkip=!evalReplayReason;else if("boolean"===type)ret="true"===token.text.toLowerCase(),evalReplaySkip=!0;else if("string"===type){var t=token.text.replace(/(.?)\n/g,function(e,t){return("\\"===t?"\\\\":"\n"===t?"\\n":t)+"\\n"}).replace(/(\\*)\\0/g,function(e,t){return(t?"\\".repeat(2*t.length):"")+"0"});ret=eval(t),evalReplaySkip=!0}else if("hook"===type)ret=CodeHook.create(token.children,token.text),evalReplaySkip=!0;else if("colour"===type)ret=Colour.create(token.colour),evalReplaySkip=!0;else if("datatype"===type)ret=Datatype.create(token.name),evalReplaySkip=!0;else if("spread"===type)ret=ops.makeSpreader(run(section,after,!1,isTypedVar));else if("bind"===type)ret=VarBind.create(run(section,after,VARREF),token.text.startsWith("2")?"two way":""),evalReplaySkip=!0;else if("to"===type||"into"===type){var dest="to"===type?setIt(section,run(section,before,VARREF,TYPEDVAR)):run(section,after,VARREF,TYPEDVAR);if(TwineError.containsError(dest))ret=dest;else{(VarRef.isPrototypeOf(dest)&&dest.propertyChain.length<=1||TypedVar.isPrototypeOf(dest)&&dest.varRef.propertyChain.length<=1)&&(section.freeVariables=Object.create(null));var src="to"===type?run(section,after,VARREF):setIt(section,run(section,before,VARREF));if(TwineError.containsError(src))return src;var freeVariables=section.freeVariables,srcRef;section.freeVariables=null,token.place&&freeVariables&&"object"===_typeof(freeVariables)&&"boolean"!=typeof src&&"number"!=typeof src&&!Utils.options.uncompressedPureValues&&(srcRef=freeVariables,srcRef.at=token.place,srcRef.from=after[0].start,srcRef.to=after[after.length-1].end,srcRef.hash=hash(after.reduce(function(e,t){return e+t.text},"")).toString(16),JSON.stringify(srcRef).length>=toSource(src).length)&&(srcRef=void 0),ret=AssignmentRequest.create(dest,src,type,srcRef),evalReplaySkip=!0,evalReplayIt=section.Identifiers.it}}else if("typeSignature"===type){var datatype=run(section,before),free=section.freeVariables,variable=(section.freeVariables=null,run(section,after,VARREF));section.freeVariables=free,ret=TypedVar.create(datatype,variable),evalReplaySkip=!0}else if("where"===type||"when"===type||"via"===type){after?(source=tokens.map(function(e){return e.text}).join(""),ret=Lambda.create(before?run(section,before,VARREF):void 0,token.type,after,source),evalReplaySkip=!0):ret=missingSideError(!1,!0,token)}else if("making"===type||"each"===type){after?(_source4=[].concat(tokens).map(function(e){return e.text}).join(""),ret="each"===type?Lambda.create(run(section,after,VARREF),"each",null,_source4):Lambda.create(before?run(section,before,VARREF):void 0,token.type,run(section,after,VARREF),_source4),evalReplaySkip=!0):ret=missingSideError(!1,!0,token)}else if("augmentedAssign"===type)ret=ops.makeAssignmentRequest(run(section,before,VARREF),ops[token.operator](run(section,before),run(section,after)),token.operator),evalReplaySkip=!0;else if("and"===type||"or"===type){var isComparisonOp=function e(t){var n=_slicedToArray(precedentToken(t,"least"),2),r=n[0],n=n[1];if(r&&"whitespace"!==r.type)return comparisonOpTypes.includes(r.type)?r:r.type===type?e(t.slice(0,n))||e(t.slice(n+1)):void 0},leftIsComparison=isComparisonOp(before),rightIsComparison=isComparisonOp(after),ambiguityError=TwineError.create("operation",'This use of "is not" and "'.concat(type,'" is grammatically ambiguous.'),'Maybe try rewriting this as "__ is not __ '.concat(type,' __ is not __"')),operator,getElisionOperands=function e(t){var n,r=_slicedToArray(precedentToken(t,"least"),2),a=r[0],r=r[1];return a&&"whitespace"!==a.type?a.type===type?[].concat(_toConsumableArray(e(t.slice(0,r))),_toConsumableArray(e(t.slice(r+1)))):(a=run(section,t),hasEvalReplay&&"boolean"!=typeof a&&(n=operator.replace(/[A-Z]/g,function(e){return" "+e.toLowerCase()}),makeEvalReplayFrame(evalReplay,{toCode:" it ".concat(n," ").concat(toSource(a)," "),reason:"A missing 'it ".concat(n,"' was inferred to correct the '").concat(type,"' operation."),tokens:t,i:r}),makeEvalReplayFrame(evalReplay,{toCode:" ".concat(toSource(section.Identifiers.it)," ").concat(n," ").concat(toSource(a)," "),tokens:t,i:r})),[{val:a,tokens:t,i:r}]):[]},elidedComparisonOperator=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(e,t){var n=t.val,r=t.tokens,t=t.i;return"boolean"==typeof n?n:(e=Operations[token.type](e,Operations[operator](section.Identifiers.it,n)),hasEvalReplay&&makeEvalReplayFrame(evalReplay,{val:e,tokens:r,i:t}),e)},"and"===token.type)},leftSide,evalBefore,operator,rightSide,rightIndex,swappedSides,evalAfter;ret=leftIsComparison&&!rightIsComparison?(leftSide=leftIsComparison,operator=compileComparisonOperator(leftSide),"isNot"===leftSide.type||"isNotA"===leftSide.type||"untypifies"===leftSide.type?ambiguityError:(evalBefore=run(section,before),ops[type](evalBefore,elidedComparisonOperator.apply(void 0,_toConsumableArray(getElisionOperands(after)))))):!leftIsComparison&&rightIsComparison?(rightSide=rightIsComparison,rightIndex=tokens.indexOf(rightSide),operator=reverseComparisonOperator(rightSide),"isNot"===rightSide.type||"isNotA"===rightSide.type||"untypifies"===rightSide.type?ambiguityError:(swappedSides=[].concat(_toConsumableArray(tokens.slice(rightIndex+1)),[Object.assign(Object.create(rightSide),_defineProperty({},"inequality"===rightSide.type?"operator":"type",reverseComparisonOperator(rightSide)))],_toConsumableArray(tokens.slice(i+1,rightIndex))),evalAfter=run(section,swappedSides),ops[type](evalAfter,elidedComparisonOperator.apply(void 0,_toConsumableArray(getElisionOperands(before)))))):ops[type](run(section,before),run(section,after))}else if(comparisonOpTypes.includes(type)){after||missingSideError(!1,!0,token);var leftOp=before?run(section,before):section.Identifiers.it;ret=ops[compileComparisonOperator(token)](leftOp,run(section,after)),section.Identifiers.it=leftOp,evalReplayIt=leftOp,evalReplayReason=hasEvalReplay&&!before&&"A missing 'it' was inferred to complete the operation."}else if("addition"===type||"subtraction"===type){after||missingSideError(!1,!0,token);var convert=!before,_precedentToken7,_precedentToken8,previousPrecedentToken,_i10,_sides,pType,convert;before&&(_precedentToken7=precedentToken(before,"least"),_precedentToken8=_slicedToArray(_precedentToken7,2),previousPrecedentToken=_precedentToken8[0],_i10=_precedentToken8[1],_sides=tokenSides[previousPrecedentToken.type],pType=previousPrecedentToken.type,convert=("both"===_sides||"after"===_sides||"addition"===pType||"subtraction"===pType)&&(_i10===before.length-1||_i10===before.length-2&&"whitespace"===before[before.length-1].type)),convert?(token.type="addition"===type?"positive":"negative",ret=run(section,tokens),token.type=type,evalReplaySkip=!0):ret=ops[token.text](run(section,before),run(section,after))}else if("multiplication"===type||"division"===type)ret=ops[token.text](run(section,before),run(section,after));else if("positive"===type||"negative"===type)ret=ops["*"]("negative"===type?-1:1,run(section,after)),evalReplaySkip=!0;else if("not"===type)ret=ops.not(run(section,after));else if("belongingProperty"===type){var container=run(section,after,isVarRef),isRef=(ret=VarRef.create(container,token.name),isVarRef||TwineError.containsError(ret));ret=isRef?ret:ret.get(),isRef=isVarRef||TwineError.containsError(ret),hasEvalReplay&&!isRef?makeEvalReplayFrame(evalReplay,{toCode:" ".concat(token.name," of ").concat(toSource(VarRef.isPrototypeOf(container)?container.get():container)," "),tokens:tokens,i:i}):isRef||(evalReplayReason="The value to the right of 'of', ".concat(typeName(container),', had a "').concat(token.name,'" data name corresponding to that data value.'))}else if("belongingOperator"===type||"belongingItOperator"===type){var value=run(section,before);"random"===value&&section.freeVariables&&"object"===_typeof(section.freeVariables)&&!section.freeVariables.seed&&(section.freeVariables.seed=State.seed,section.freeVariables.seedIter=State.seedIter),ret=VarRef.create("belongingItOperator"===type?section.Identifiers.it:run(section,after,isVarRef),{computed:!0,value:value}),ret=isVarRef||TwineError.containsError(ret)?ret:ret.get(),"belongingItOperator"===type&&hasEvalReplay&&makeEvalReplayFrame(evalReplay,{toCode:" ".concat(toSource(value)," of ").concat(toSource(section.Identifiers.it)," "),tokens:tokens,i:i})}else if("property"===type){var _container=run(section,before,VARREF),_isRef=(ret=VarRef.create(_container,token.name),isVarRef||TwineError.containsError(ret));ret=_isRef?ret:ret.get(),_isRef=isVarRef||TwineError.containsError(ret),hasEvalReplay&&VarRef.isPrototypeOf(_container)&&!_isRef?makeEvalReplayFrame(evalReplay,{toCode:" ".concat(toSource(_container.get()),"'s ").concat(token.name," "),tokens:tokens,i:i}):_isRef||(evalReplayReason="The value to the left of 's, ".concat(typeName(_container),', had a "').concat(token.name,'" data name corresponding to that data value.'))}else if("itsProperty"===type||"belongingItProperty"===type)ret=VarRef.create(section.Identifiers.it,token.name),ret=isVarRef||TwineError.containsError(ret)?ret:ret.get(),hasEvalReplay&&makeEvalReplayFrame(evalReplay,{toCode:"itsProperty"===type?" ".concat(toSource(section.Identifiers.it),"'s ").concat(token.name," "):" ".concat(token.name," of ").concat(toSource(section.Identifiers.it)," "),tokens:tokens,i:i});else if("possessiveOperator"===type||"itsOperator"===type){!after||!before&&"itsOperator"!==token.type?ret=missingSideError(!before,!after,token):(_value4=run(section,after),"random"===_value4&&section.freeVariables&&"object"===_typeof(section.freeVariables)&&!section.freeVariables.seed&&(section.freeVariables.seed=State.seed,section.freeVariables.seedIter=State.seedIter),ret=VarRef.create("itsOperator"===token.type?section.Identifiers.it:run(section,before,isVarRef),{computed:!0,value:_value4}),ret=isVarRef||TwineError.containsError(ret)?ret:ret.get(),"itsOperator"===type&&hasEvalReplay&&makeEvalReplayFrame(evalReplay,{toCode:" ".concat(toSource(section.Identifiers.it),"'s ").concat(toSource(_value4)," "),tokens:tokens,i:i}))}else if("twineLink"===type)ret=Macros.run("link-goto",section,[token.innerText,token.passage]),evalReplayReason=hasEvalReplay&&"Passage links are the same as (link-goto:) macro calls.";else if("macro"===type)if(token.blockedValue&&!section.blocked){if(ret=section.blockedValue(),void 0===ret)return impossible("Runner.run","section.blockedValue() returned undefined"),0}else{var macroNameToken=token.children[0],variableCall="$"===macroNameToken.text[0]||"_"===macroNameToken.text[0],macroRef;if("macroName"!==macroNameToken.type&&!variableCall)return impossible("Runner.run","macro token had no macroName child token"),0;variableCall?(macroRef=VarRef.create("_"===macroNameToken.text[0]?section.stackTop.tempVariables:State.variables,macroNameToken.text.trim().slice(1,-1)),TwineError.containsError(macroRef)||(macroRef=macroRef.get())):macroRef=token.name,ret=Macros[variableCall?"runCustom":"run"](macroRef,section,token.children.slice(1).reduce(function(e,t){return"comma"===t.type?e.push([]):e[e.length-1].push(t),e},[[]]).filter(function(e){return e.length&&(1<e.length||"whitespace"!==e[0].type)}).map(function(e){return run(section,e,!1,isTypedVar)})),evalReplayReason=hasEvalReplay&&variableCall&&"I called ".concat(objectName(macroRef),".")}else if("grouping"===type)ret=run(section,token.children,isVarRef),evalReplaySkip=!0;else if("error"===type)ret=TwineError.create("syntax",token.message,token.explanation||"");else{if("text"!==type)return impossible("Section.run","unknown syntax token type: ".concat(type,"!!")),0;token.text.trim().match(/^\d+(?:th|nd|st|rd)(?:last)?(?:to\d+(?:nth|nd|st|rd)(?:last)?)?$/g)&&(msg='Position data names like "'.concat(token.text,'" need to be either left of "of" or right of "\'s".')),ret=TwineError.create("syntax",msg||'"'.concat(token.text,"\" isn't valid Harlowe syntax for the inside of a macro call."),"Maybe you misspelled something? Also, as of 3.3.0, Javascript syntax is not allowed inside macro calls.")}}return void 0===ret?(impossible("Section.run","token ".concat(type).concat(token.name?" (".concat(token.name,":)"):""," produced undefined")),0):ret===section?(impossible("Section.run","token ".concat(type).concat(token.name?" (".concat(token.name,":)"):""," produced the section")),0):(hasEvalReplay&&!evalReplaySkip&&makeEvalReplayFrame(evalReplay,{val:ret,reason:evalReplayReason,it:evalReplayIt,tokens:tokens,i:i}),ret)}}),define("utils/jqueryplugins",["jquery"],function(e){e.prototype.extend({popAttr:function(e){var t=this.attr(e);return this.removeAttr(e),t},popData:function(e){var t=this.data(e);return this.removeData(e),t},tag:function(){return this[0]&&this[0].tagName&&this[0].tagName.toLowerCase()},textNodes:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"*";return 1===this.length&&this[0]&&this[0].nodeType===Node.TEXT_NODE?[this[0]]:this.get().concat(this.contents().get(),this.find(e).contents().get()).filter(function(e,t,n){return(null==e?void 0:e.nodeType)===Node.TEXT_NODE&&n.indexOf(e)===t}).sort(function(e,t){return 2&e.compareDocumentPosition(t)?1:-1})},findAndFilter:function(e){var t=this.find(e),e=this.filter(e);return e.length?t.add(e):t}})}),define("utils/naturalsort",[],function(){return function(h){var m=1<arguments.length&&void 0!==arguments[1]?arguments[1]:String;return function(e,t){var n,r,a,o,i=/(^-?[0-9]+(\.?[0-9]*)[df]?e?[0-9]?$|^0x[0-9a-f]+$|[0-9]+)/gi,s=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[/-]\d{1,4}[/-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,c=/^0x[0-9a-f]+$/i,l=/^0/,e=m(e).trim(),t=m(t).trim(),u=e.replace(i,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),p=t.replace(i,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),i=parseInt(e.match(c))||1!==u.length&&e.match(s)&&Date.parse(e),e=parseInt(t.match(c))||i&&t.match(s)&&Date.parse(t)||null;if(h&&window.Intl&&window.Intl.Collator&&(a=window.Intl.Collator(h)),e){if(i<e)return-1;if(e<i)return 1}for(var d=0,f=Math.max(u.length,p.length);d<f;d++){if(n=!(u[d]||"").match(l)&&parseFloat(u[d])||u[d]||0,r=!(p[d]||"").match(l)&&parseFloat(p[d])||p[d]||0,isNaN(n)!==isNaN(r))return isNaN(n)?1:-1;if(_typeof(n)!==_typeof(r))n+="",r+="";else if("string"==typeof n&&a&&0!==(o=a.compare(n,r)))return o;if(n<r)return-1;if(r<n)return 1}return 0}}}),define("utils/operationutils",["utils/naturalsort","utils","internaltypes/twineerror","patterns"],function(f,e,h,t){var m=e.impossible,g=e.nth,u=e.permutations,s=e.plural,y=t.validPropertyName,r="object",n="boolean",b="string",v="number",w="function";function a(e){return!!e&&(_typeof(e)===r||_typeof(e)===w)}var k=Array.isArray;function S(e){return e&&Object.getPrototypeOf(e)===Object.prototype}function i(e){return k(e)?"array":e instanceof Map?"datamap":e instanceof Set?"dataset":_typeof(e)===b?b:e&&_typeof(e)===r?r:""}function c(e){if(a(e)){if(_typeof(e.TwineScript_Clone)===w)return e.TwineScript_Clone();if(k(e))return _toConsumableArray(e);if(e instanceof Map)return new Map(e);if(e instanceof Set)return new Set(e);if(_typeof(e)===w)return Object.assign(e.bind(),e);switch(Object.getPrototypeOf(e)){case Object.prototype:return _objectSpread({},e);case null:return Object.assign(Object.create(null),e)}m("OperationUtils.clone","The value "+e+" cannot be cloned!")}return e}function o(e,t,n,r){for(var a="",o=0;a.length<=t&&o<e.length;){var i=r(e[o]);if(!(i.length+a.length<=t)){a+=(0<o?" and ":"")+s(e.length-o,(0<o?"other ":"")+n);break}a+=(0<o&&o===e.length-1?" and ":"")+i+(o<e.length-1?", ":""),o+=1}return a}function l(e){var t;return a(e)&&"TwineScript_ObjectName"in e?e.TwineScript_ObjectName:k(e)?0===e.length?"an empty array":"an array (with "+o(e,48,"item",l)+")":e instanceof Map?0===e.size?"an empty datamap":"a datamap (with "+o(_toConsumableArray(e.keys()),48,"dataname",_)+")":e instanceof Set?0===e.size?"an empty dataset":"a dataset (with "+o(_toConsumableArray(e.values()),48,"item",l)+")":_typeof(e)===b?0===e.length?"an empty string":48<(t=_toConsumableArray(e)).length?"a ".concat(t.length,"-character string starting with ").concat(JSON.stringify(t.slice(0,48).join(""))):"the string ".concat(JSON.stringify(e)):_typeof(e)===n?"the boolean value '"+e+"'":_typeof(e)===v?"the number "+JSON.stringify(e):void 0===e?"an empty variable":"...whatever this is"}function T(e,t){return[e[0],t[0]].sort(f("en"))[0]===e[0]?-1:1}function _(e,t){var n=h.containsError(e);if(n&&m("toSource","received a TwineError: "+n.message),_typeof(e.TwineScript_ToSource)===w)return e.TwineScript_ToSource();if(S(e)&&"first"in e&&"last"in e)return(e.first<0?(-1!==e.first?g(-e.first):"")+"last":g(e.first+1))+"to"+(e.last<0?(-1!==e.last?g(-e.last):"")+"last":g(e.last+1));if(k(e)){var r,a="",o=_createForOfIteratorHelper(e);try{for(o.s();!(r=o.n()).done;)var i=r.value,a=(a+=a?",":"(a:")+("property"===t?i+(0<i):_(i))}catch(e){o.e(e)}finally{o.f()}return a+(a?")":"(a:)")}if(e instanceof Map){var s,c="",l=_createForOfIteratorHelper(Array.from(e.entries()).sort(T));try{for(l.s();!(s=l.n()).done;){var u=_slicedToArray(s.value,2),p=u[0],d=u[1];c+=(c?",":"(dm:")+_(p)+","+_(d)}}catch(e){l.e(e)}finally{l.f()}return c+(c?")":"(dm:)")}return e instanceof Set?"(ds:"+Array.from(e).sort(f("en")).map(_)+")":_typeof(e)===v&&"property"===t?e<0?-1===e?"last":g(-e)+"last":g(e+1):_typeof(e)===b&&"property"===t?RegExp(y).test(e)?e:"("+JSON.stringify(e)+")":JSON.stringify(e)}function p(t,n){return _typeof(t)!==r&&_typeof(n)!==r?t===n:k(t)&&k(n)?t.length===n.length&&t.every(function(e,t){return p(n[t],e)}):t instanceof Map&&n instanceof Map?p(Array.from(t.entries()).sort(),Array.from(n.entries()).sort()):t instanceof Set&&n instanceof Set?p(_toConsumableArray(t),_toConsumableArray(n)):t&&_typeof(t.TwineScript_is)===w?t.TwineScript_is(n):t&&_typeof(t)===r&&n&&_typeof(n)===r&&S(t)&&S(n)?p(Object.getOwnPropertyNames(t).map(function(e){return[e,t[e]]}),Object.getOwnPropertyNames(n).map(function(e){return[e,n[e]]})):Object.is(t,n)}return Object.freeze({isObject:a,isValidDatamapName:function(e,t){var n;return e instanceof Map||m("isValidDatamapName","called with non-Map"),h.containsError(t)?t:_typeof(t)!==b&&_typeof(t)!==v?h.create("property","Only strings and numbers can be used as data names for "+l(e)+", not "+l(t)+"."):(n=_typeof(t)===b?+t:""+t,!(!Number.isNaN(n)&&e.has(n))||h.create("property","You mustn't use both "+l(t)+" and "+l(n)+" as data names in the same datamap."))},collectionType:i,isSequential:function(e){return _typeof(e)===b||k(e)||_typeof(e.hooks)===w},unstorableValue:function e(t){return(null==t?void 0:t.TwineScript_Unstorable)&&t||k(t)&&t.find(e)||t instanceof Map&&_toConsumableArray(t.values()).find(e)||t instanceof Set&&_toConsumableArray(t).find(e)},isHarloweJSValue:function e(t){return _typeof(t)===b||_typeof(t)===n||_typeof(t)===v&&!Number.isNaN(t)&&Math.abs(t)!==1/0||Array.isArray(t)&&t.every(e)||t instanceof Set&&_toConsumableArray(t).every(e)||t instanceof Map&&_toConsumableArray(t.values()).every(e)&&_toConsumableArray(t.keys()).every(function(e){return _typeof(e)===b})},clone:c,objectName:l,typeName:function e(t){var n,r=S(t);return r&&t.innerType?t.typeName||("insensitive set"===t.pattern?"a case-insensitive string name":"either"===t.pattern?(k(t.innerType)||m("typeName",'"either" pattern had non-array inner type'),t.innerType.map(e).join(" or ")):"optional"===t.pattern?"(optional) "+e(t.innerType):e(t.innerType)):r&&"range"===t.pattern?t.name||(r=t.min,n=t.max,"a"+(0<r?" positive":"")+(t.integer?" whole":"")+" number"+(0===r?" between 0 and "+n:n<1/0?" up to "+n:"")):t===String||t===Number||t===Boolean?"a "+_typeof(t()):t===parseInt?"a whole number":t===Map?"a datamap":t===Set?"a dataset":t===Array?"an array":a(t)&&"TwineScript_TypeName"in t?t.TwineScript_TypeName:l(t)},typeID:function(e){var t=_typeof(e);return[n,b,v].includes(t)?t:k(e)?"array":e instanceof Map?"datamap":e instanceof Set?"dataset":e.TwineScript_TypeID||""},toSource:_,is:p,contains:function(e,t){if(e||""===e){if(_typeof(e)===b)return _typeof(t)!==b?h.create("operation",l(e)+" can only contain strings, not "+l(t)+"."):e.includes(t);if(k(e))return e.some(function(e){return p(e,t)});if(e instanceof Set||e instanceof Map)return Array.from(e.keys()).some(function(e){return p(e,t)})}return h.create("operation",l(e)+" cannot contain any values, let alone "+l(t))},isA:function(e,t){return _typeof(t.TwineScript_IsTypeOf)===w?t.TwineScript_IsTypeOf(e):h.create("operation",'"is a" should only be used to compare type names, not '+l(t)+".")},matches:function t(n,e){var r=!1;if(n&&_typeof(n.TwineScript_IsTypeOf)===w){var a=n.TwineScript_IsTypeOf(e);if(h.containsError(a))return a;r|=a}if(e&&_typeof(e.TwineScript_IsTypeOf)===w){if(a=e.TwineScript_IsTypeOf(n),h.containsError(a))return a;r|=a}if(r)return!0;if(k(n)&&k(e)){for(var o=0,i=0,s=!0;s&&o<n.length&&i<e.length;){var c=n[o],l=e[i];if(c.rest){for(;i<e.length&&t(c,l);)l=e[i+=1];o+=1}else if(l.rest){for(;o<n.length&&t(c,l);)c=n[o+=1];i+=1}else t(c,l)?(o+=1,i+=1):s=!1}return s&&o>=n.length&&i>=e.length}return n instanceof Map&&e instanceof Map?t(Array.from(n.entries()).sort(),Array.from(e.entries()).sort()):n instanceof Set&&e instanceof Set?(n=_toConsumableArray(n),u.apply(void 0,_toConsumableArray(e)).some(function(e){return t(n,e)})):p(n,e)},subset:function e(t,n,r){var a,o;return n&&r?((a=_typeof(t)===b)&&(t=Array.from(t)),n<0&&(n=Math.max(0,t.length+n+1)),(r=r<0?Math.max(0,t.length+r+1):r)<n?e(arguments[0],r,n):(o=t.slice(0<n?n-1:n,r).map(c),a?o.join(""):o)):h.create("macrocall","The sub"+i(t)+" index value must not be "+(n&&r)+".")},range:function e(t,n){if(n<t)return e(n,t);var r=[t];for(n-=t;0<n--;)r.push(++t);return r},printBuiltinValue:function r(e){return h.containsError(e)?e:e&&_typeof(e.TwineScript_Print)===w?e.TwineScript_Print():e instanceof Map?(e=Array.from(e.entries()),h.containsError(e)?e:e.reduce(function(e,t){var n=(t=_slicedToArray(t,2))[0],t=t[1];return e+"<tr><td>`"+r(n)+"`</td><td>`"+r(t)+"`</td></tr>"},"<table class=datamap>")+"</table>"):e instanceof Set?Array.from(e.values()).map(r)+"":k(e)?e.map(r)+"":e&&_typeof(e.jquery)===b?e:a(e)?h.create("unimplemented","I don't know how to print this value yet."):e+""},unique:function(t,e,n){return n.findIndex(function(e){return p(t,e)})===e}})}),define("utils/polyfills",[],function(){var o=Array.prototype;"function"!=typeof o.includes&&(o.includes=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;if(!Number.isNaN(e)&&Number.isFinite(t)&&void 0!==e)return-1<o.indexOf.call(this,e,t);var n=Object(this),r=parseInt(n.length);if(!(r<=0))for(var a=0<=t?t:Math.max(0,r+t);a<r;){if(Object.is(e,n[a]))return!0;a+=1}return!1}),window.Symbol||(window.Symbol={iterator:"_es6-shim iterator_"})}),define("utils/renderutils",["jquery","utils","renderer"],function(l,u,p){var n=RegExp(u.realWhitespace+"+"),s=RegExp(u.realWhitespace+"+","g");function d(e,t,n){var r,a=e.textContent.length;if(!(a<=t))return r=[e=0===t?e:e.splitText(t)],n&&(n=n<=0?a-n:n)<a&&r.push(e.splitText(n-t)),r}var t,c=function(){var e;return void 0!==t?t:(e=l("<p>"),t=!!e[0].normalize&&(e.append(document.createTextNode("0-"),document.createTextNode("2"),document.createTextNode(""))[0].normalize(),1===e.contents().length))};var f="tw-collapsed,[collapsing=true]";var o=/^(=*)([^=]+)=*$/;return Object.freeze({dialog:function(){var e,t=(c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).section,n=void 0===(n=c.parent)?u.storyElement:n,r=c.cd,a=void 0===(a=c.message)?"":a,o=c.defaultValue,i=void 0===(c=c.buttons)?[{name:"OK",confirm:!0,callback:Object}]:c,s=("a code hook"===a.TwineScript_TypeName&&(a=a.code),l("<tw-backdrop><tw-dialog>"+(o||""===o?"<input type=text style='display:block;margin:0 auto'></input>\n":"")+"<tw-dialog-links>"+(i.length?i.reduce(function(e,t,n){t=t.name;return e+"<tw-link style='margin:0 "+(n===i.length-1?"0 0 0.5em":0===n?"0.5em 0 0":"0.5em")+"' tabindex=0>"+t+"</tw-link>"},""):"<tw-link tabindex=0>"+i[0].name+"</tw-link>")+"</tw-dialog-links></tw-dialog></tw-backdrop>")),c=s.find("tw-dialog");return n.append(s),t?(t.renderInto(a,c,_objectSpread(_objectSpread({},r),{},{append:"prepend"})),null!=(n=(null==r?void 0:r.transition)&&s.find("tw-dialog > tw-transition-container"))&&n.length&&n.appendTo(s).append(c.prepend(n.contents().detach()))):c.prepend(p.exec(a)),o&&((e=s.find("input").last()).val(o).on("keypress",function(e){13===e.which&&(s.remove(),i.filter(function(e){return e.confirm}).forEach(function(e){return e.callback()}))}),setTimeout(function(){return e.focus()},100)),i.reverse().forEach(function(e,t){l(s.find("tw-link").get(-t-1)).on("click",function(){u.options.debug&&u.options.ignoreClickEvents&&!l(s).is(".eval-replay, .harlowe-crash")||(s.remove(),e.callback())})}),s},realWhitespace:n,textNodeToChars:function(r){var e=_toConsumableArray(r.textContent);return 1===e.length?[r]:e.reduce(function(e,t){return t.match(n)&&e.length&&e[e.length-1].match(n)?e[e.length-1]+=t:e.push(t),e},[]).reduce(function(e,t){var n=r;return t.length<r.textContent.length&&(r=r.splitText(t.length)),e.concat(n)},[])},findTextInNodes:function e(t,n){var r=[],a="",o=[];if(!t.length||!n)return o;for(;0<t.length;){r.push(t[0]),a+=t[0].textContent,t.shift();var i=a.indexOf(n);if(-1<i){for(var s=a.length-(i+n.length);i>=r[0].textContent.length;)i-=r[0].textContent.length,r.shift();if(1===r.length){var c=d(r[0],i,i+n.length);o.push(c[0]),c[1]&&t.unshift(c[1]);break}o.push(d(r[0],i,r[0].length)[0]),o.push.apply(o,_toConsumableArray(r.slice(1,-1))),c=d(r[r.length-1],0,r[r.length-1].textContent.length-s),o.push(c[0]),c[1]&&t.unshift(c[1]),o=o.filter(Boolean);break}}return[o].concat(_toConsumableArray(e(t,n)))},collapse:function(e){function n(e){return 0===l(this||e).parentsUntil(f).filter("tw-verbatim, tw-expression, [collapsing=false]").length}var t=function e(t){var n=t[0],r=t.parent();return!r.length||t.findAndFilter("tw-story").length?null:(t=(t=r.textNodes().filter(function(e){return 4&(e=e.compareDocumentPosition(n))&&!(8&e)}))[t.length-1])||e(r)}(e),r=(l(t).parents(f).length||(t=null),function e(t){var n=t[0],r=t.parent();return!r.length||t.findAndFilter("tw-story").length?null:r.textNodes().filter(function(e){return 2&(e=e.compareDocumentPosition(n))&&!(8&e)})[0]||e(r)}(e)),a=(l(r).parents(f).length||(r=null),"br:not([data-raw]),tw-consecutive-br:not([data-raw])"),o=(e.find(a).filter(n).replaceWith(document.createTextNode(" ")),(e=l(e.get().map(function(e){return l(e).filter(n).is(a)?l(document.createTextNode(" ")).replaceAll(e)[0]:e}))).textNodes()),i=0;o.reduce(function(e,t){return n(t)?(t.textContent=t.textContent.replace(s," ")," "!==t.textContent[0]||e&&e.textContent&&!(-1<e.textContent.search(/\s$/))||(t.textContent=t.textContent.slice(1)),t):document.createTextNode("A")},t),_toConsumableArray(o).reverse().every(function(e){return!(!n(e)||(e.textContent.match(/^\s*$/)?(i+=e.textContent.length,e.textContent=""):(e.textContent=e.textContent.replace(/\s+$/,function(e){return i+=e.length,""}),1)))}),0<i&&r&&(o[o.length-1].textContent+=" "),e[0]&&c()&&e[0].normalize()},geomStringRegExp:o,geomParse:function(e){var t,n,r,a;return!e||(t=e.length,n=(a=_slicedToArray(o.exec(e)||[],3))[0],r=a[1],a=a[2],!n)||a===e&&1<a.length?{marginLeft:0,size:0}:{marginLeft:r.length/t*100,size:a.length/t*100}}})}),define("utils/scripttag",["state","utils/operationutils","internaltypes/varref","internaltypes/twineerror"],function(a,o,i,s){return function(e,r){Function("script","scope","with(scope){var scope=void 0,arguments=void 0;eval([script,script=void 0][0]);}")(e,Object.create(null,Object.keys(a.variables).map(function(e){return!e.startsWith("TwineScript_")&&"$"+e}).concat(Object.keys(r).map(function(e){return!e.startsWith("TwineScript_")&&"_"+e})).reduce(function(e,n){return n&&(e[n]={get:function(){var e=("$"===n[0]?a.variables:r)[n.slice(1)];if(o.isHarloweJSValue(e))return o.clone(e);throw s.create("","The contents of the variable ".concat(n,", ").concat(o.objectName(e),", couldn't be converted to a Javascript value."),"Only booleans, strings, numbers, datamaps, datasets and arrays can be converted to Javascript values.")},set:function(e){var t="$"===n[0]?a.variables:r;if(!o.isHarloweJSValue(e))throw s.create("","The Javascript value, ".concat(e,", couldn't be converted to a Harlowe value and assigned to the variable ").concat(n,"."),"Only booleans, strings, numbers (except NaN and Infinity), Maps, Sets and Arrays can be converted to Harlowe values.");e=o.clone(e);t=i.create(t,n.slice(1)).set(e);if(s.containsError(t))throw t}}),e},{})))}}),!function(){function e(t,n,r){return function(e){return"background-color: hsla(".concat(t,",").concat(n,"%,").concat(r,"%,").concat(e,");")}}var t={boolean:"color:hsla(0,0%,30%,1.0)",array:"color:hsla(0,100%,30%,1.0)",dataset:"color:hsla(30,100%,40%,1.0)",number:"color:hsla(30,100%,30%,1.0)",datamap:"color:hsla(60,100%,30%,1.0)",changer:"color:hsla(90,100%,30%,1.0)",lambda:"color:hsla(120,100%,40%,1.0)",hookName:"color:hsla(160,100%,30%,1.0)",string:"color:hsla(180,100%,30%,1.0)",identifier:"color:hsla(200,80%,40%,1.0)",variable:"color:hsla(200,100%,30%,1.0)",tempVariable:"color:hsla(200,70%,20%,1.0)",datatype:"color:hsla(220,100%,30%,1.0)",colour:"color:hsla(280,100%,30%,1.0)",macro:"color:hsla(320,80%,30%,1.0)",twineLink:"color:hsla(240,100%,20%,1.0)"},o=(t.gradient=t.colour,t.command=t.twineLink,t.instant=t.metadata=t.any=t.customMacro=t.macro,Math.min),n=e(40,100,50),r=e(220,100,50),i=/hsla\((\d+),\s*(\d+)%,\s*(\d+)%,\s*(\d+\.\d+)\)/g,s="cm-harlowe-3-",a=(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(n={root:"box-sizing:border-box;",hook:n(.05),"hook-2":n(.1),"hook-3":n(.15),"hook-4":n(.2),"hook-5":n(.25),"hook-6":n(.3),"hook-7":n(.35),"hook-8":n(.4),"^=hook , ^=hook-":"font-weight:bold;",unclosedHook:n(.05)+"font-weight:bold;"},"error:not([class*='"+s+"string'])","background-color: hsla(17,100%,50%,0.5) !important;"),"^=macroName","font-style:italic;"),"macroName-boolean",t.boolean),"macroName-array",t.array),"macroName-dataset",t.dataset),"macroName-datatype",t.datatype),"macroName-number",t.number),"macroName-datamap",t.datamap),"macroName-changer",t.changer),"macroName-string",t.string),_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(n,"macroName-colour, macroName-gradient",t.colour),"macroName-command, macroName-instant, macroName-metadata",t.command),"macroName-custommacro, macroName-macro, macroName-any",t.macro),"^=macro ","font-weight:bold;"+t.macro),"comma, spread",t.macro),"addition",t.any),"subtraction, multiplication, division",t.number),"is, and, or, not, isNot, contains, doesNotContain, isIn, isA, isNotA, isNotIn, matches, doesNotMatch",t.boolean),"bold, strong","font-weight:bold;"),"italic, em","font-style:italic;"),_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(n,"sup","vertical-align: super;font-size:0.8em;"),"strike","text-decoration: line-through;"),"verbatim","background-color: hsla(0,0%,50%,0.1);font:var(--font-monospaced)"),"^=bold, ^=strong, ^=italic, ^=em, ^=sup, ^=verbatim, ^=strike","font-weight:100; color: hsla(0,0%,0%,0.5)"),"^=collapsed","font-weight:bold; color: hsla(201,100%,30%,1.0);"),"unclosedCollapsed",r(.025)+"font-weight:bold; color: hsla(201,100%,30%,1.0);"),"collapsed",r(.025)),"collapsed.hook",r(.05)),"collapsed.hook-2",r(.1)),"collapsed.hook-3",r(.15)),_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(n,"collapsed.hook-4",r(.2)),"collapsed.hook-5",r(.25)),"collapsed.hook-6",r(.3)),"collapsed.hook-7",r(.35)),"collapsed.hook-8",r(.4)),"twineLink:not(.text)",t.twineLink),"tag, scriptStyleTag, comment","color: hsla(240,34%,25%,1.0);"),"boolean",t.boolean),"string",t.string),"number",t.number),_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(n,"variable",t.variable),"tempVariable",t.tempVariable),"hookName",t.hookName),"datatype",t.datatype),"colour",t.colour),"cssTime",t.number),"passageString",t.variable+";text-decoration:underline 1px;"),"tagString",t.variable+";text-decoration:underline 1px dotted;"),"variableOccurrence, hookOccurrence","background: hsla(159,50%,75%,1.0) !important;"),"^=where, ^=via, ^=with, ^=making, ^=each, ^=when",t.lambda+"; font-style:italic;"),_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(n,"heading","font-weight:bold;"),"hr","background-image: linear-gradient(0deg, transparent, transparent 45%, hsla(0,0%,75%,1.0) 45%, transparent 55%, transparent);"),"align","color: hsla(14,99%,37%,1.0); background-color: hsla(14,99%,87%,0.1);"),"column","color: hsla(204,99%,37%,1.0); background-color: hsla(204,99%,87%,0.1);"),"escapedLine","font-weight:bold; color: hsla(51,100%,30%,1.0);"),"identifier, property, belongingProperty, itsProperty, belongingItProperty, belongingItOperator, possessiveOperator, belongingOperator",t.identifier),"toString",function(){var a=this;return Object.keys(this).reduce(function(e,n){var r;return"toString"!==n&&(r=n.split(", ").map(function e(t){return-1<t.indexOf(".")?t.split(/\./g).map(e).join(""):0===t.indexOf("^=")?"[class^='"+s+t.slice(2)+"']":"."+s+t}),e+=r.join(", ")+"{"+a[n]+"}",a[n].match(i))&&[".theme-dark","[data-app-theme=dark]"].forEach(function(t){e+=r.map(function(e){return t+" "+e}).join(", ")+"{"+a[n].replace(i,function(e,t,n,r,a){return"hsla("+t+","+o(100,1.5*+n)+"%,"+(100-r)+"%,"+a+")"})+"}"}),e},"")})+"");"object"===("undefined"==typeof module?"undefined":_typeof(module))?module.exports={Colours:t,CSS:a,versionClass:s}:"function"==typeof define&&define.amd&&define("utils/typecolours",[],function(){return{Colours:t,CSS:a,versionClass:s}})}.call(void 0);
;require("harlowe")}());
</script>

</body>
</html>
